import{defineComponent as e,computed as t,resolveComponent as n,openBlock as i,createBlock as r,withCtx as a,createTextVNode as o,toDisplayString as l,unref as s,createSlots as c,createVNode as u,createElementBlock as d,Fragment as f,createCommentVNode as p,reactive as h,ref as _,watch as m,createElementVNode as v,toRefs as g,onUnmounted as y,onUpdated as b,normalizeClass as w,renderList as x,normalizeStyle as k,withModifiers as E,mergeProps as S,withDirectives as C,vShow as T,isRef as j}from"vue";import{useI18n as N}from"vue-i18n";import{useSync as $,defineLayout as O,useSdk as I,useStores as A,useCollection as R,useItems as D,getFieldsFromTemplate as P}from"@directus/extensions-sdk";import{useRouter as M}from"vue-router";var Z,L;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),i={};for(const e of n)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(Z||(Z={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(L||(L={}));const F=Z.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),z=e=>{switch(typeof e){case"undefined":return F.undefined;case"string":return F.string;case"number":return isNaN(e)?F.nan:F.number;case"boolean":return F.boolean;case"function":return F.function;case"bigint":return F.bigint;case"symbol":return F.symbol;case"object":return Array.isArray(e)?F.array:null===e?F.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?F.promise:"undefined"!=typeof Map&&e instanceof Map?F.map:"undefined"!=typeof Set&&e instanceof Set?F.set:"undefined"!=typeof Date&&e instanceof Date?F.date:F.object;default:return F.unknown}},U=Z.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class B extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},i=e=>{for(const r of e.issues)if("invalid_union"===r.code)r.unionErrors.map(i);else if("invalid_return_type"===r.code)i(r.returnTypeError);else if("invalid_arguments"===r.code)i(r.argumentsError);else if(0===r.path.length)n._errors.push(t(r));else{let e=n,i=0;for(;i<r.path.length;){const n=r.path[i];i===r.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(r))):e[n]=e[n]||{_errors:[]},e=e[n],i++}}};return i(this),n}static assert(e){if(!(e instanceof B))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Z.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}B.create=e=>new B(e);const V=(e,t)=>{let n;switch(e.code){case U.invalid_type:n=e.received===F.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case U.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Z.jsonStringifyReplacer)}`;break;case U.unrecognized_keys:n=`Unrecognized key(s) in object: ${Z.joinValues(e.keys,", ")}`;break;case U.invalid_union:n="Invalid input";break;case U.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Z.joinValues(e.options)}`;break;case U.invalid_enum_value:n=`Invalid enum value. Expected ${Z.joinValues(e.options)}, received '${e.received}'`;break;case U.invalid_arguments:n="Invalid function arguments";break;case U.invalid_return_type:n="Invalid function return type";break;case U.invalid_date:n="Invalid date";break;case U.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Z.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case U.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case U.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case U.custom:n="Invalid input";break;case U.invalid_intersection_types:n="Intersection results could not be merged";break;case U.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case U.not_finite:n="Number must be finite";break;default:n=t.defaultError,Z.assertNever(e)}return{message:n}};let q=V;function W(){return q}const K=e=>{const{data:t,path:n,errorMaps:i,issueData:r}=e,a=[...n,...r.path||[]],o={...r,path:a};if(void 0!==r.message)return{...r,path:a,message:r.message};let l="";const s=i.filter((e=>!!e)).slice().reverse();for(const e of s)l=e(o,{data:t,defaultError:l}).message;return{...r,path:a,message:l}};function Y(e,t){const n=W(),i=K({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===V?void 0:V].filter((e=>!!e))});e.common.issues.push(i)}class X{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const i of t){if("aborted"===i.status)return H;"dirty"===i.status&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,i=await e.value;n.push({key:t,value:i})}return X.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const i of t){const{key:t,value:r}=i;if("aborted"===t.status)return H;if("aborted"===r.status)return H;"dirty"===t.status&&e.dirty(),"dirty"===r.status&&e.dirty(),"__proto__"===t.value||void 0===r.value&&!i.alwaysSet||(n[t.value]=r.value)}return{status:e.value,value:n}}}const H=Object.freeze({status:"aborted"}),G=e=>({status:"dirty",value:e}),J=e=>({status:"valid",value:e}),Q=e=>"aborted"===e.status,ee=e=>"dirty"===e.status,te=e=>"valid"===e.status,ne=e=>"undefined"!=typeof Promise&&e instanceof Promise;function ie(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function re(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n}var ae,oe,le;"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(ae||(ae={}));class se{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ce=(e,t)=>{if(te(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new B(e.common.issues);return this._error=t,this._error}}};function ue(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:r}=e;if(t&&(n||i))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:r};return{errorMap:(t,r)=>{var a,o;const{message:l}=e;return"invalid_enum_value"===t.code?{message:null!=l?l:r.defaultError}:void 0===r.data?{message:null!==(a=null!=l?l:i)&&void 0!==a?a:r.defaultError}:"invalid_type"!==t.code?{message:r.defaultError}:{message:null!==(o=null!=l?l:n)&&void 0!==o?o:r.defaultError}},description:r}}class de{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return z(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:z(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new X,ctx:{common:e.parent.common,data:e.data,parsedType:z(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(ne(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const i={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:z(e)},r=this._parseSync({data:e,path:i.path,parent:i});return ce(i,r)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:z(e)},i=this._parse({data:e,path:n.path,parent:n}),r=await(ne(i)?i:Promise.resolve(i));return ce(n,r)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,i)=>{const r=e(t),a=()=>i.addIssue({code:U.custom,...n(t)});return"undefined"!=typeof Promise&&r instanceof Promise?r.then((e=>!!e||(a(),!1))):!!r||(a(),!1)}))}refinement(e,t){return this._refinement(((n,i)=>!!e(n)||(i.addIssue("function"==typeof t?t(n,i):t),!1)))}_refinement(e){return new ot({schema:this,typeName:gt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return lt.create(this,this._def)}nullable(){return st.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ze.create(this,this._def)}promise(){return at.create(this,this._def)}or(e){return Ve.create([this,e],this._def)}and(e){return Ye.create(this,e,this._def)}transform(e){return new ot({...ue(this._def),schema:this,typeName:gt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new ct({...ue(this._def),innerType:this,defaultValue:t,typeName:gt.ZodDefault})}brand(){return new pt({typeName:gt.ZodBranded,type:this,...ue(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new ut({...ue(this._def),innerType:this,catchValue:t,typeName:gt.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return ht.create(this,e)}readonly(){return _t.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fe=/^c[^\s-]{8,}$/i,pe=/^[0-9a-z]+$/,he=/^[0-9A-HJKMNP-TV-Z]{26}$/,_e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,me=/^[a-z0-9_-]{21}$/i,ve=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ge=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let ye;const be=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,we=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,xe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ke="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ee=new RegExp(`^${ke}$`);function Se(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function Ce(e){let t=`${ke}T${Se(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Te(e,t){return!("v4"!==t&&t||!be.test(e))||!("v6"!==t&&t||!we.test(e))}class je extends de{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==F.string){const t=this._getOrReturnCtx(e);return Y(t,{code:U.invalid_type,expected:F.string,received:t.parsedType}),H}const t=new X;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),Y(n,{code:U.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),Y(n,{code:U.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,a=e.data.length<i.value;(r||a)&&(n=this._getOrReturnCtx(e,n),r?Y(n,{code:U.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Y(n,{code:U.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)ge.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:"email",code:U.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)ye||(ye=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),ye.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:"emoji",code:U.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)_e.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:"uuid",code:U.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)me.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:"nanoid",code:U.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)fe.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:"cuid",code:U.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)pe.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:"cuid2",code:U.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)he.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:"ulid",code:U.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),Y(n,{validation:"url",code:U.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:"regex",code:U.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),Y(n,{code:U.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),Y(n,{code:U.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),Y(n,{code:U.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){Ce(i).test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{code:U.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else if("date"===i.kind){Ee.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{code:U.invalid_string,validation:"date",message:i.message}),t.dirty())}else if("time"===i.kind){new RegExp(`^${Se(i)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{code:U.invalid_string,validation:"time",message:i.message}),t.dirty())}else"duration"===i.kind?ve.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:"duration",code:U.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?Te(e.data,i.version)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:"ip",code:U.invalid_string,message:i.message}),t.dirty()):"base64"===i.kind?xe.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:"base64",code:U.invalid_string,message:i.message}),t.dirty()):Z.assertNever(i);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:U.invalid_string,...ae.errToObj(n)})}_addCheck(e){return new je({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ae.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ae.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ae.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ae.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ae.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ae.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ae.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ae.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ae.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ae.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...ae.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...ae.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ae.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ae.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...ae.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ae.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ae.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ae.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ae.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ae.errToObj(t)})}nonempty(e){return this.min(1,ae.errToObj(e))}trim(){return new je({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new je({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new je({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Ne(e,t){const n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,r=n>i?n:i;return parseInt(e.toFixed(r).replace(".",""))%parseInt(t.toFixed(r).replace(".",""))/Math.pow(10,r)}je.create=e=>{var t;return new je({checks:[],typeName:gt.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...ue(e)})};class $e extends de{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==F.number){const t=this._getOrReturnCtx(e);return Y(t,{code:U.invalid_type,expected:F.number,received:t.parsedType}),H}let t;const n=new X;for(const i of this._def.checks)if("int"===i.kind)Z.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Y(t,{code:U.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty());else if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),Y(t,{code:U.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),Y(t,{code:U.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty())}else"multipleOf"===i.kind?0!==Ne(e.data,i.value)&&(t=this._getOrReturnCtx(e,t),Y(t,{code:U.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Y(t,{code:U.not_finite,message:i.message}),n.dirty()):Z.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ae.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ae.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ae.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ae.toString(t))}setLimit(e,t,n,i){return new $e({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ae.toString(i)}]})}_addCheck(e){return new $e({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ae.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ae.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ae.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ae.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ae.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ae.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Z.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}$e.create=e=>new $e({checks:[],typeName:gt.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...ue(e)});class Oe extends de{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==F.bigint){const t=this._getOrReturnCtx(e);return Y(t,{code:U.invalid_type,expected:F.bigint,received:t.parsedType}),H}let t;const n=new X;for(const i of this._def.checks)if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),Y(t,{code:U.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),Y(t,{code:U.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Y(t,{code:U.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):Z.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ae.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ae.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ae.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ae.toString(t))}setLimit(e,t,n,i){return new Oe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ae.toString(i)}]})}_addCheck(e){return new Oe({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ae.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ae.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Oe.create=e=>{var t;return new Oe({checks:[],typeName:gt.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...ue(e)})};class Ie extends de{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==F.boolean){const t=this._getOrReturnCtx(e);return Y(t,{code:U.invalid_type,expected:F.boolean,received:t.parsedType}),H}return J(e.data)}}Ie.create=e=>new Ie({typeName:gt.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...ue(e)});class Ae extends de{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==F.date){const t=this._getOrReturnCtx(e);return Y(t,{code:U.invalid_type,expected:F.date,received:t.parsedType}),H}if(isNaN(e.data.getTime())){return Y(this._getOrReturnCtx(e),{code:U.invalid_date}),H}const t=new X;let n;for(const i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),Y(n,{code:U.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),t.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),Y(n,{code:U.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),t.dirty()):Z.assertNever(i);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ae({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ae.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ae.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Ae.create=e=>new Ae({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:gt.ZodDate,...ue(e)});class Re extends de{_parse(e){if(this._getType(e)!==F.symbol){const t=this._getOrReturnCtx(e);return Y(t,{code:U.invalid_type,expected:F.symbol,received:t.parsedType}),H}return J(e.data)}}Re.create=e=>new Re({typeName:gt.ZodSymbol,...ue(e)});class De extends de{_parse(e){if(this._getType(e)!==F.undefined){const t=this._getOrReturnCtx(e);return Y(t,{code:U.invalid_type,expected:F.undefined,received:t.parsedType}),H}return J(e.data)}}De.create=e=>new De({typeName:gt.ZodUndefined,...ue(e)});class Pe extends de{_parse(e){if(this._getType(e)!==F.null){const t=this._getOrReturnCtx(e);return Y(t,{code:U.invalid_type,expected:F.null,received:t.parsedType}),H}return J(e.data)}}Pe.create=e=>new Pe({typeName:gt.ZodNull,...ue(e)});class Me extends de{constructor(){super(...arguments),this._any=!0}_parse(e){return J(e.data)}}Me.create=e=>new Me({typeName:gt.ZodAny,...ue(e)});class Ze extends de{constructor(){super(...arguments),this._unknown=!0}_parse(e){return J(e.data)}}Ze.create=e=>new Ze({typeName:gt.ZodUnknown,...ue(e)});class Le extends de{_parse(e){const t=this._getOrReturnCtx(e);return Y(t,{code:U.invalid_type,expected:F.never,received:t.parsedType}),H}}Le.create=e=>new Le({typeName:gt.ZodNever,...ue(e)});class Fe extends de{_parse(e){if(this._getType(e)!==F.undefined){const t=this._getOrReturnCtx(e);return Y(t,{code:U.invalid_type,expected:F.void,received:t.parsedType}),H}return J(e.data)}}Fe.create=e=>new Fe({typeName:gt.ZodVoid,...ue(e)});class ze extends de{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==F.array)return Y(t,{code:U.invalid_type,expected:F.array,received:t.parsedType}),H;if(null!==i.exactLength){const e=t.data.length>i.exactLength.value,r=t.data.length<i.exactLength.value;(e||r)&&(Y(t,{code:e?U.too_big:U.too_small,minimum:r?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(Y(t,{code:U.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(Y(t,{code:U.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>i.type._parseAsync(new se(t,e,t.path,n))))).then((e=>X.mergeArray(n,e)));const r=[...t.data].map(((e,n)=>i.type._parseSync(new se(t,e,t.path,n))));return X.mergeArray(n,r)}get element(){return this._def.type}min(e,t){return new ze({...this._def,minLength:{value:e,message:ae.toString(t)}})}max(e,t){return new ze({...this._def,maxLength:{value:e,message:ae.toString(t)}})}length(e,t){return new ze({...this._def,exactLength:{value:e,message:ae.toString(t)}})}nonempty(e){return this.min(1,e)}}function Ue(e){if(e instanceof Be){const t={};for(const n in e.shape){const i=e.shape[n];t[n]=lt.create(Ue(i))}return new Be({...e._def,shape:()=>t})}return e instanceof ze?new ze({...e._def,type:Ue(e.element)}):e instanceof lt?lt.create(Ue(e.unwrap())):e instanceof st?st.create(Ue(e.unwrap())):e instanceof Xe?Xe.create(e.items.map((e=>Ue(e)))):e}ze.create=(e,t)=>new ze({type:e,minLength:null,maxLength:null,exactLength:null,typeName:gt.ZodArray,...ue(t)});class Be extends de{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Z.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==F.object){const t=this._getOrReturnCtx(e);return Y(t,{code:U.invalid_type,expected:F.object,received:t.parsedType}),H}const{status:t,ctx:n}=this._processInputParams(e),{shape:i,keys:r}=this._getCached(),a=[];if(!(this._def.catchall instanceof Le&&"strip"===this._def.unknownKeys))for(const e in n.data)r.includes(e)||a.push(e);const o=[];for(const e of r){const t=i[e],r=n.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new se(n,r,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Le){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of a)o.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)a.length>0&&(Y(n,{code:U.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const i=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new se(n,i,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const n=await t.key,i=await t.value;e.push({key:n,value:i,alwaysSet:t.alwaysSet})}return e})).then((e=>X.mergeObjectSync(t,e))):X.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return ae.errToObj,new Be({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var i,r,a,o;const l=null!==(a=null===(r=(i=this._def).errorMap)||void 0===r?void 0:r.call(i,t,n).message)&&void 0!==a?a:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=ae.errToObj(e).message)&&void 0!==o?o:l}:{message:l}}}:{}})}strip(){return new Be({...this._def,unknownKeys:"strip"})}passthrough(){return new Be({...this._def,unknownKeys:"passthrough"})}extend(e){return new Be({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Be({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:gt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Be({...this._def,catchall:e})}pick(e){const t={};return Z.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new Be({...this._def,shape:()=>t})}omit(e){const t={};return Z.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new Be({...this._def,shape:()=>t})}deepPartial(){return Ue(this)}partial(e){const t={};return Z.objectKeys(this.shape).forEach((n=>{const i=this.shape[n];e&&!e[n]?t[n]=i:t[n]=i.optional()})),new Be({...this._def,shape:()=>t})}required(e){const t={};return Z.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof lt;)e=e._def.innerType;t[n]=e}})),new Be({...this._def,shape:()=>t})}keyof(){return nt(Z.objectKeys(this.shape))}}Be.create=(e,t)=>new Be({shape:()=>e,unknownKeys:"strip",catchall:Le.create(),typeName:gt.ZodObject,...ue(t)}),Be.strictCreate=(e,t)=>new Be({shape:()=>e,unknownKeys:"strict",catchall:Le.create(),typeName:gt.ZodObject,...ue(t)}),Be.lazycreate=(e,t)=>new Be({shape:e,unknownKeys:"strip",catchall:Le.create(),typeName:gt.ZodObject,...ue(t)});class Ve extends de{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new B(e.ctx.common.issues)));return Y(t,{code:U.invalid_union,unionErrors:n}),H}));{let e;const i=[];for(const r of n){const n={...t,common:{...t.common,issues:[]},parent:null},a=r._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&i.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const r=i.map((e=>new B(e)));return Y(t,{code:U.invalid_union,unionErrors:r}),H}}get options(){return this._def.options}}Ve.create=(e,t)=>new Ve({options:e,typeName:gt.ZodUnion,...ue(t)});const qe=e=>e instanceof et?qe(e.schema):e instanceof ot?qe(e.innerType()):e instanceof tt?[e.value]:e instanceof it?e.options:e instanceof rt?Z.objectValues(e.enum):e instanceof ct?qe(e._def.innerType):e instanceof De?[void 0]:e instanceof Pe?[null]:e instanceof lt?[void 0,...qe(e.unwrap())]:e instanceof st?[null,...qe(e.unwrap())]:e instanceof pt||e instanceof _t?qe(e.unwrap()):e instanceof ut?qe(e._def.innerType):[];class We extends de{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==F.object)return Y(t,{code:U.invalid_type,expected:F.object,received:t.parsedType}),H;const n=this.discriminator,i=t.data[n],r=this.optionsMap.get(i);return r?t.common.async?r._parseAsync({data:t.data,path:t.path,parent:t}):r._parseSync({data:t.data,path:t.path,parent:t}):(Y(t,{code:U.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),H)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const i=new Map;for(const n of t){const t=qe(n.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const r of t){if(i.has(r))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(r)}`);i.set(r,n)}}return new We({typeName:gt.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...ue(n)})}}function Ke(e,t){const n=z(e),i=z(t);if(e===t)return{valid:!0,data:e};if(n===F.object&&i===F.object){const n=Z.objectKeys(t),i=Z.objectKeys(e).filter((e=>-1!==n.indexOf(e))),r={...e,...t};for(const n of i){const i=Ke(e[n],t[n]);if(!i.valid)return{valid:!1};r[n]=i.data}return{valid:!0,data:r}}if(n===F.array&&i===F.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let i=0;i<e.length;i++){const r=Ke(e[i],t[i]);if(!r.valid)return{valid:!1};n.push(r.data)}return{valid:!0,data:n}}return n===F.date&&i===F.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ye extends de{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=(e,i)=>{if(Q(e)||Q(i))return H;const r=Ke(e.value,i.value);return r.valid?((ee(e)||ee(i))&&t.dirty(),{status:t.value,value:r.data}):(Y(n,{code:U.invalid_intersection_types}),H)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>i(e,t))):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ye.create=(e,t,n)=>new Ye({left:e,right:t,typeName:gt.ZodIntersection,...ue(n)});class Xe extends de{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==F.array)return Y(n,{code:U.invalid_type,expected:F.array,received:n.parsedType}),H;if(n.data.length<this._def.items.length)return Y(n,{code:U.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),H;!this._def.rest&&n.data.length>this._def.items.length&&(Y(n,{code:U.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...n.data].map(((e,t)=>{const i=this._def.items[t]||this._def.rest;return i?i._parse(new se(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(i).then((e=>X.mergeArray(t,e))):X.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new Xe({...this._def,rest:e})}}Xe.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xe({items:e,typeName:gt.ZodTuple,rest:null,...ue(t)})};class He extends de{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==F.object)return Y(n,{code:U.invalid_type,expected:F.object,received:n.parsedType}),H;const i=[],r=this._def.keyType,a=this._def.valueType;for(const e in n.data)i.push({key:r._parse(new se(n,e,n.path,e)),value:a._parse(new se(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?X.mergeObjectAsync(t,i):X.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,n){return new He(t instanceof de?{keyType:e,valueType:t,typeName:gt.ZodRecord,...ue(n)}:{keyType:je.create(),valueType:e,typeName:gt.ZodRecord,...ue(t)})}}class Ge extends de{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==F.map)return Y(n,{code:U.invalid_type,expected:F.map,received:n.parsedType}),H;const i=this._def.keyType,r=this._def.valueType,a=[...n.data.entries()].map((([e,t],a)=>({key:i._parse(new se(n,e,n.path,[a,"key"])),value:r._parse(new se(n,t,n.path,[a,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of a){const i=await n.key,r=await n.value;if("aborted"===i.status||"aborted"===r.status)return H;"dirty"!==i.status&&"dirty"!==r.status||t.dirty(),e.set(i.value,r.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of a){const i=n.key,r=n.value;if("aborted"===i.status||"aborted"===r.status)return H;"dirty"!==i.status&&"dirty"!==r.status||t.dirty(),e.set(i.value,r.value)}return{status:t.value,value:e}}}}Ge.create=(e,t,n)=>new Ge({valueType:t,keyType:e,typeName:gt.ZodMap,...ue(n)});class Je extends de{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==F.set)return Y(n,{code:U.invalid_type,expected:F.set,received:n.parsedType}),H;const i=this._def;null!==i.minSize&&n.data.size<i.minSize.value&&(Y(n,{code:U.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&n.data.size>i.maxSize.value&&(Y(n,{code:U.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const r=this._def.valueType;function a(e){const n=new Set;for(const i of e){if("aborted"===i.status)return H;"dirty"===i.status&&t.dirty(),n.add(i.value)}return{status:t.value,value:n}}const o=[...n.data.values()].map(((e,t)=>r._parse(new se(n,e,n.path,t))));return n.common.async?Promise.all(o).then((e=>a(e))):a(o)}min(e,t){return new Je({...this._def,minSize:{value:e,message:ae.toString(t)}})}max(e,t){return new Je({...this._def,maxSize:{value:e,message:ae.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Je.create=(e,t)=>new Je({valueType:e,minSize:null,maxSize:null,typeName:gt.ZodSet,...ue(t)});class Qe extends de{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==F.function)return Y(t,{code:U.invalid_type,expected:F.function,received:t.parsedType}),H;function n(e,n){return K({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,W(),V].filter((e=>!!e)),issueData:{code:U.invalid_arguments,argumentsError:n}})}function i(e,n){return K({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,W(),V].filter((e=>!!e)),issueData:{code:U.invalid_return_type,returnTypeError:n}})}const r={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof at){const e=this;return J((async function(...t){const o=new B([]),l=await e._def.args.parseAsync(t,r).catch((e=>{throw o.addIssue(n(t,e)),o})),s=await Reflect.apply(a,this,l),c=await e._def.returns._def.type.parseAsync(s,r).catch((e=>{throw o.addIssue(i(s,e)),o}));return c}))}{const e=this;return J((function(...t){const o=e._def.args.safeParse(t,r);if(!o.success)throw new B([n(t,o.error)]);const l=Reflect.apply(a,this,o.data),s=e._def.returns.safeParse(l,r);if(!s.success)throw new B([i(l,s.error)]);return s.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Qe({...this._def,args:Xe.create(e).rest(Ze.create())})}returns(e){return new Qe({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Qe({args:e||Xe.create([]).rest(Ze.create()),returns:t||Ze.create(),typeName:gt.ZodFunction,...ue(n)})}}class et extends de{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}et.create=(e,t)=>new et({getter:e,typeName:gt.ZodLazy,...ue(t)});class tt extends de{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Y(t,{received:t.data,code:U.invalid_literal,expected:this._def.value}),H}return{status:"valid",value:e.data}}get value(){return this._def.value}}function nt(e,t){return new it({values:e,typeName:gt.ZodEnum,...ue(t)})}tt.create=(e,t)=>new tt({value:e,typeName:gt.ZodLiteral,...ue(t)});class it extends de{constructor(){super(...arguments),oe.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Y(t,{expected:Z.joinValues(n),received:t.parsedType,code:U.invalid_type}),H}if(ie(this,oe,"f")||re(this,oe,new Set(this._def.values),"f"),!ie(this,oe,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Y(t,{received:t.data,code:U.invalid_enum_value,options:n}),H}return J(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return it.create(e,{...this._def,...t})}exclude(e,t=this._def){return it.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}oe=new WeakMap,it.create=nt;class rt extends de{constructor(){super(...arguments),le.set(this,void 0)}_parse(e){const t=Z.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==F.string&&n.parsedType!==F.number){const e=Z.objectValues(t);return Y(n,{expected:Z.joinValues(e),received:n.parsedType,code:U.invalid_type}),H}if(ie(this,le,"f")||re(this,le,new Set(Z.getValidEnumValues(this._def.values)),"f"),!ie(this,le,"f").has(e.data)){const e=Z.objectValues(t);return Y(n,{received:n.data,code:U.invalid_enum_value,options:e}),H}return J(e.data)}get enum(){return this._def.values}}le=new WeakMap,rt.create=(e,t)=>new rt({values:e,typeName:gt.ZodNativeEnum,...ue(t)});class at extends de{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==F.promise&&!1===t.common.async)return Y(t,{code:U.invalid_type,expected:F.promise,received:t.parsedType}),H;const n=t.parsedType===F.promise?t.data:Promise.resolve(t.data);return J(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}at.create=(e,t)=>new at({type:e,typeName:gt.ZodPromise,...ue(t)});class ot extends de{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===gt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,r={addIssue:e=>{Y(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(r.addIssue=r.addIssue.bind(r),"preprocess"===i.type){const e=i.transform(n.data,r);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return H;const i=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===i.status?H:"dirty"===i.status||"dirty"===t.value?G(i.value):i}));{if("aborted"===t.value)return H;const i=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===i.status?H:"dirty"===i.status||"dirty"===t.value?G(i.value):i}}if("refinement"===i.type){const e=e=>{const t=i.refinement(e,r);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===i.status?H:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?H:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===i.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!te(e))return e;const a=i.transform(e.value,r);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>te(e)?Promise.resolve(i.transform(e.value,r)).then((e=>({status:t.value,value:e}))):e))}Z.assertNever(i)}}ot.create=(e,t,n)=>new ot({schema:e,typeName:gt.ZodEffects,effect:t,...ue(n)}),ot.createWithPreprocess=(e,t,n)=>new ot({schema:t,effect:{type:"preprocess",transform:e},typeName:gt.ZodEffects,...ue(n)});class lt extends de{_parse(e){return this._getType(e)===F.undefined?J(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}lt.create=(e,t)=>new lt({innerType:e,typeName:gt.ZodOptional,...ue(t)});class st extends de{_parse(e){return this._getType(e)===F.null?J(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}st.create=(e,t)=>new st({innerType:e,typeName:gt.ZodNullable,...ue(t)});class ct extends de{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===F.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ct.create=(e,t)=>new ct({innerType:e,typeName:gt.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...ue(t)});class ut extends de{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ne(i)?i.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new B(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new B(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ut.create=(e,t)=>new ut({innerType:e,typeName:gt.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...ue(t)});class dt extends de{_parse(e){if(this._getType(e)!==F.nan){const t=this._getOrReturnCtx(e);return Y(t,{code:U.invalid_type,expected:F.nan,received:t.parsedType}),H}return{status:"valid",value:e.data}}}dt.create=e=>new dt({typeName:gt.ZodNaN,...ue(e)});const ft=Symbol("zod_brand");class pt extends de{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class ht extends de{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?H:"dirty"===e.status?(t.dirty(),G(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?H:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new ht({in:e,out:t,typeName:gt.ZodPipeline})}}class _t extends de{_parse(e){const t=this._def.innerType._parse(e),n=e=>(te(e)&&(e.value=Object.freeze(e.value)),e);return ne(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function mt(e,t={},n){return e?Me.create().superRefine(((i,r)=>{var a,o;if(!e(i)){const e="function"==typeof t?t(i):"string"==typeof t?{message:t}:t,l=null===(o=null!==(a=e.fatal)&&void 0!==a?a:n)||void 0===o||o,s="string"==typeof e?{message:e}:e;r.addIssue({code:"custom",...s,fatal:l})}})):Me.create()}_t.create=(e,t)=>new _t({innerType:e,typeName:gt.ZodReadonly,...ue(t)});const vt={object:Be.lazycreate};var gt;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(gt||(gt={}));const yt=je.create,bt=$e.create,wt=dt.create,xt=Oe.create,kt=Ie.create,Et=Ae.create,St=Re.create,Ct=De.create,Tt=Pe.create,jt=Me.create,Nt=Ze.create,$t=Le.create,Ot=Fe.create,It=ze.create,At=Be.create,Rt=Be.strictCreate,Dt=Ve.create,Pt=We.create,Mt=Ye.create,Zt=Xe.create,Lt=He.create,Ft=Ge.create,zt=Je.create,Ut=Qe.create,Bt=et.create,Vt=tt.create,qt=it.create,Wt=rt.create,Kt=at.create,Yt=ot.create,Xt=lt.create,Ht=st.create,Gt=ot.createWithPreprocess,Jt=ht.create,Qt={string:e=>je.create({...e,coerce:!0}),number:e=>$e.create({...e,coerce:!0}),boolean:e=>Ie.create({...e,coerce:!0}),bigint:e=>Oe.create({...e,coerce:!0}),date:e=>Ae.create({...e,coerce:!0})},en=H;var tn=Object.freeze({__proto__:null,defaultErrorMap:V,setErrorMap:function(e){q=e},getErrorMap:W,makeIssue:K,EMPTY_PATH:[],addIssueToContext:Y,ParseStatus:X,INVALID:H,DIRTY:G,OK:J,isAborted:Q,isDirty:ee,isValid:te,isAsync:ne,get util(){return Z},get objectUtil(){return L},ZodParsedType:F,getParsedType:z,ZodType:de,datetimeRegex:Ce,ZodString:je,ZodNumber:$e,ZodBigInt:Oe,ZodBoolean:Ie,ZodDate:Ae,ZodSymbol:Re,ZodUndefined:De,ZodNull:Pe,ZodAny:Me,ZodUnknown:Ze,ZodNever:Le,ZodVoid:Fe,ZodArray:ze,ZodObject:Be,ZodUnion:Ve,ZodDiscriminatedUnion:We,ZodIntersection:Ye,ZodTuple:Xe,ZodRecord:He,ZodMap:Ge,ZodSet:Je,ZodFunction:Qe,ZodLazy:et,ZodLiteral:tt,ZodEnum:it,ZodNativeEnum:rt,ZodPromise:at,ZodEffects:ot,ZodTransformer:ot,ZodOptional:lt,ZodNullable:st,ZodDefault:ct,ZodCatch:ut,ZodNaN:dt,BRAND:ft,ZodBranded:pt,ZodPipeline:ht,ZodReadonly:_t,custom:mt,Schema:de,ZodSchema:de,late:vt,get ZodFirstPartyTypeKind(){return gt},coerce:Qt,any:jt,array:It,bigint:xt,boolean:kt,date:Et,discriminatedUnion:Pt,effect:Yt,enum:qt,function:Ut,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>mt((t=>t instanceof e),t),intersection:Mt,lazy:Bt,literal:Vt,map:Ft,nan:wt,nativeEnum:Wt,never:$t,null:Tt,nullable:Ht,number:bt,object:At,oboolean:()=>kt().optional(),onumber:()=>bt().optional(),optional:Xt,ostring:()=>yt().optional(),pipeline:Jt,preprocess:Gt,promise:Kt,record:Lt,set:zt,strictObject:Rt,string:yt,symbol:St,transformer:Yt,tuple:Zt,undefined:Ct,union:Dt,unknown:Nt,void:Ot,NEVER:en,ZodIssueCode:U,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:B}),nn=["interface","display","layout","module","panel","theme"],rn=["hook","endpoint"],an=["operation"],on="directus:extension",ln=tn.object({app:tn.string(),api:tn.string()}),sn=tn.object({request:tn.optional(tn.object({urls:tn.array(tn.string()),methods:tn.array(tn.union([tn.literal("GET"),tn.literal("POST"),tn.literal("PATCH"),tn.literal("PUT"),tn.literal("DELETE")]))})),log:tn.optional(tn.object({})),sleep:tn.optional(tn.object({}))}),cn=tn.optional(tn.object({enabled:tn.boolean(),requestedScopes:sn})),un=tn.union([tn.object({type:tn.enum(rn),name:tn.string(),source:tn.string()}),tn.object({type:tn.enum(nn),name:tn.string(),source:tn.string()}),tn.object({type:tn.enum(an),name:tn.string(),source:ln})]),dn=tn.object({host:tn.string(),hidden:tn.boolean().optional()}),fn=tn.object({type:tn.enum(nn),path:tn.string(),source:tn.string()}),pn=tn.object({type:tn.enum(rn),path:tn.string(),source:tn.string(),sandbox:cn}),hn=tn.object({type:tn.enum(an),path:ln,source:ln,sandbox:cn}),_n=tn.object({type:tn.literal("bundle"),partial:tn.boolean().optional(),path:ln,entries:tn.array(un)});tn.array(un);var mn=dn.and(tn.union([fn,pn,hn,_n]));tn.object({name:tn.string(),version:tn.string(),type:tn.union([tn.literal("module"),tn.literal("commonjs")]).optional(),description:tn.string().optional(),icon:tn.string().optional(),dependencies:tn.record(tn.string()).optional(),devDependencies:tn.record(tn.string()).optional(),[on]:mn});var vn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function gn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yn,bn,wn={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */yn=wn,bn=wn.exports,function(){var e,t="Expected a function",n="__lodash_hash_undefined__",i="__lodash_placeholder__",r=16,a=32,o=64,l=128,s=256,c=1/0,u=9007199254740991,d=NaN,f=4294967295,p=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",r],["flip",512],["partial",a],["partialRight",o],["rearg",s]],h="[object Arguments]",_="[object Array]",m="[object Boolean]",v="[object Date]",g="[object Error]",y="[object Function]",b="[object GeneratorFunction]",w="[object Map]",x="[object Number]",k="[object Object]",E="[object Promise]",S="[object RegExp]",C="[object Set]",T="[object String]",j="[object Symbol]",N="[object WeakMap]",$="[object ArrayBuffer]",O="[object DataView]",I="[object Float32Array]",A="[object Float64Array]",R="[object Int8Array]",D="[object Int16Array]",P="[object Int32Array]",M="[object Uint8Array]",Z="[object Uint8ClampedArray]",L="[object Uint16Array]",F="[object Uint32Array]",z=/\b__p \+= '';/g,U=/\b(__p \+=) '' \+/g,B=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,W=RegExp(V.source),K=RegExp(q.source),Y=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ee=/[\\^$.*+?()[\]{}|]/g,te=RegExp(ee.source),ne=/^\s+/,ie=/\s/,re=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,se=/[()=,{}\[\]\/\s]/,ce=/\\(\\)?/g,ue=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,he=/^\[object .+?Constructor\]$/,_e=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ge=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,be="\\ud800-\\udfff",we="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xe="\\u2700-\\u27bf",ke="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",Se="\\ufe0e\\ufe0f",Ce="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="[']",je="["+be+"]",Ne="["+Ce+"]",$e="["+we+"]",Oe="\\d+",Ie="["+xe+"]",Ae="["+ke+"]",Re="[^"+be+Ce+Oe+xe+ke+Ee+"]",De="\\ud83c[\\udffb-\\udfff]",Pe="[^"+be+"]",Me="(?:\\ud83c[\\udde6-\\uddff]){2}",Ze="[\\ud800-\\udbff][\\udc00-\\udfff]",Le="["+Ee+"]",Fe="\\u200d",ze="(?:"+Ae+"|"+Re+")",Ue="(?:"+Le+"|"+Re+")",Be="(?:['](?:d|ll|m|re|s|t|ve))?",Ve="(?:['](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+$e+"|"+De+")?",We="["+Se+"]?",Ke=We+qe+"(?:"+Fe+"(?:"+[Pe,Me,Ze].join("|")+")"+We+qe+")*",Ye="(?:"+[Ie,Me,Ze].join("|")+")"+Ke,Xe="(?:"+[Pe+$e+"?",$e,Me,Ze,je].join("|")+")",He=RegExp(Te,"g"),Ge=RegExp($e,"g"),Je=RegExp(De+"(?="+De+")|"+Xe+Ke,"g"),Qe=RegExp([Le+"?"+Ae+"+"+Be+"(?="+[Ne,Le,"$"].join("|")+")",Ue+"+"+Ve+"(?="+[Ne,Le+ze,"$"].join("|")+")",Le+"?"+ze+"+"+Be,Le+"+"+Ve,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oe,Ye].join("|"),"g"),et=RegExp("["+Fe+be+we+Se+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,rt={};rt[I]=rt[A]=rt[R]=rt[D]=rt[P]=rt[M]=rt[Z]=rt[L]=rt[F]=!0,rt[h]=rt[_]=rt[$]=rt[m]=rt[O]=rt[v]=rt[g]=rt[y]=rt[w]=rt[x]=rt[k]=rt[S]=rt[C]=rt[T]=rt[N]=!1;var at={};at[h]=at[_]=at[$]=at[O]=at[m]=at[v]=at[I]=at[A]=at[R]=at[D]=at[P]=at[w]=at[x]=at[k]=at[S]=at[C]=at[T]=at[j]=at[M]=at[Z]=at[L]=at[F]=!0,at[g]=at[y]=at[N]=!1;var ot={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,st=parseInt,ct="object"==typeof vn&&vn&&vn.Object===Object&&vn,ut="object"==typeof self&&self&&self.Object===Object&&self,dt=ct||ut||Function("return this")(),ft=bn&&!bn.nodeType&&bn,pt=ft&&yn&&!yn.nodeType&&yn,ht=pt&&pt.exports===ft,_t=ht&&ct.process,mt=function(){try{var e=pt&&pt.require&&pt.require("util").types;return e||_t&&_t.binding&&_t.binding("util")}catch(e){}}(),vt=mt&&mt.isArrayBuffer,gt=mt&&mt.isDate,yt=mt&&mt.isMap,bt=mt&&mt.isRegExp,wt=mt&&mt.isSet,xt=mt&&mt.isTypedArray;function kt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,i){for(var r=-1,a=null==e?0:e.length;++r<a;){var o=e[r];t(i,o,n(o),e)}return i}function St(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function jt(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[r++]=o)}return a}function Nt(e,t){return!(null==e||!e.length)&&Lt(e,t,0)>-1}function $t(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function Ot(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function It(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function At(e,t,n,i){var r=-1,a=null==e?0:e.length;for(i&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}function Rt(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function Dt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var Pt=Bt("length");function Mt(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function Zt(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}function Lt(e,t,n){return t==t?function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):Zt(e,zt,n)}function Ft(e,t,n,i){for(var r=n-1,a=e.length;++r<a;)if(i(e[r],t))return r;return-1}function zt(e){return e!=e}function Ut(e,t){var n=null==e?0:e.length;return n?Wt(e,t)/n:d}function Bt(t){return function(n){return null==n?e:n[t]}}function Vt(t){return function(n){return null==t?e:t[n]}}function qt(e,t,n,i,r){return r(e,(function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)})),n}function Wt(t,n){for(var i,r=-1,a=t.length;++r<a;){var o=n(t[r]);o!==e&&(i=i===e?o:i+o)}return i}function Kt(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Yt(e){return e?e.slice(0,fn(e)+1).replace(ne,""):e}function Xt(e){return function(t){return e(t)}}function Ht(e,t){return Ot(t,(function(t){return e[t]}))}function Gt(e,t){return e.has(t)}function Jt(e,t){for(var n=-1,i=e.length;++n<i&&Lt(t,e[n],0)>-1;);return n}function Qt(e,t){for(var n=e.length;n--&&Lt(t,e[n],0)>-1;);return n}var en=Vt({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),tn=Vt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+ot[e]}function rn(e){return et.test(e)}function an(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function on(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var l=e[n];l!==t&&l!==i||(e[n]=i,o[a++]=n)}return o}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function un(e){return rn(e)?function(e){for(var t=Je.lastIndex=0;Je.test(e);)++t;return t}(e):Pt(e)}function dn(e){return rn(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.split("")}(e)}function fn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var pn=Vt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),hn=function ie(be){var we,xe=(be=null==be?dt:hn.defaults(dt.Object(),be,hn.pick(dt,nt))).Array,ke=be.Date,Ee=be.Error,Se=be.Function,Ce=be.Math,Te=be.Object,je=be.RegExp,Ne=be.String,$e=be.TypeError,Oe=xe.prototype,Ie=Se.prototype,Ae=Te.prototype,Re=be["__core-js_shared__"],De=Ie.toString,Pe=Ae.hasOwnProperty,Me=0,Ze=(we=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||""))?"Symbol(src)_1."+we:"",Le=Ae.toString,Fe=De.call(Te),ze=dt._,Ue=je("^"+De.call(Pe).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=ht?be.Buffer:e,Ve=be.Symbol,qe=be.Uint8Array,We=Be?Be.allocUnsafe:e,Ke=on(Te.getPrototypeOf,Te),Ye=Te.create,Xe=Ae.propertyIsEnumerable,Je=Oe.splice,et=Ve?Ve.isConcatSpreadable:e,ot=Ve?Ve.iterator:e,ct=Ve?Ve.toStringTag:e,ut=function(){try{var e=fa(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),ft=be.clearTimeout!==dt.clearTimeout&&be.clearTimeout,pt=ke&&ke.now!==dt.Date.now&&ke.now,_t=be.setTimeout!==dt.setTimeout&&be.setTimeout,mt=Ce.ceil,Pt=Ce.floor,Vt=Te.getOwnPropertySymbols,_n=Be?Be.isBuffer:e,mn=be.isFinite,vn=Oe.join,gn=on(Te.keys,Te),yn=Ce.max,bn=Ce.min,wn=ke.now,xn=be.parseInt,kn=Ce.random,En=Oe.reverse,Sn=fa(be,"DataView"),Cn=fa(be,"Map"),Tn=fa(be,"Promise"),jn=fa(be,"Set"),Nn=fa(be,"WeakMap"),$n=fa(Te,"create"),On=Nn&&new Nn,In={},An=Za(Sn),Rn=Za(Cn),Dn=Za(Tn),Pn=Za(jn),Mn=Za(Nn),Zn=Ve?Ve.prototype:e,Ln=Zn?Zn.valueOf:e,Fn=Zn?Zn.toString:e;function zn(e){if(nl(e)&&!qo(e)&&!(e instanceof qn)){if(e instanceof Vn)return e;if(Pe.call(e,"__wrapped__"))return La(e)}return new Vn(e)}var Un=function(){function t(){}return function(n){if(!tl(n))return{};if(Ye)return Ye(n);t.prototype=n;var i=new t;return t.prototype=e,i}}();function Bn(){}function Vn(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}function qn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Hn(e){var t=this.__data__=new Kn(e);this.size=t.size}function Gn(e,t){var n=qo(e),i=!n&&Vo(e),r=!n&&!i&&Xo(e),a=!n&&!i&&!r&&ul(e),o=n||i||r||a,l=o?Kt(e.length,Ne):[],s=l.length;for(var c in e)!t&&!Pe.call(e,c)||o&&("length"==c||r&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ya(c,s))||l.push(c);return l}function Jn(t){var n=t.length;return n?t[Xi(0,n-1)]:e}function Qn(e,t){return Da($r(e),si(t,0,e.length))}function ei(e){return Da($r(e))}function ti(t,n,i){(i!==e&&!zo(t[n],i)||i===e&&!(n in t))&&oi(t,n,i)}function ni(t,n,i){var r=t[n];Pe.call(t,n)&&zo(r,i)&&(i!==e||n in t)||oi(t,n,i)}function ii(e,t){for(var n=e.length;n--;)if(zo(e[n][0],t))return n;return-1}function ri(e,t,n,i){return pi(e,(function(e,r,a){t(i,e,n(e),a)})),i}function ai(e,t){return e&&Or(t,Il(t),e)}function oi(e,t,n){"__proto__"==t&&ut?ut(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function li(t,n){for(var i=-1,r=n.length,a=xe(r),o=null==t;++i<r;)a[i]=o?e:Tl(t,n[i]);return a}function si(t,n,i){return t==t&&(i!==e&&(t=t<=i?t:i),n!==e&&(t=t>=n?t:n)),t}function ci(t,n,i,r,a,o){var l,s=1&n,c=2&n,u=4&n;if(i&&(l=a?i(t,r,a,o):i(t)),l!==e)return l;if(!tl(t))return t;var d=qo(t);if(d){if(l=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Pe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!s)return $r(t,l)}else{var f=_a(t),p=f==y||f==b;if(Xo(t))return Er(t,s);if(f==k||f==h||p&&!a){if(l=c||p?{}:va(t),!s)return c?function(e,t){return Or(e,ha(e),t)}(t,function(e,t){return e&&Or(t,Al(t),e)}(l,t)):function(e,t){return Or(e,pa(e),t)}(t,ai(l,t))}else{if(!at[f])return a?t:{};l=function(e,t,n){var i,r=e.constructor;switch(t){case $:return Sr(e);case m:case v:return new r(+e);case O:return function(e,t){var n=t?Sr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case I:case A:case R:case D:case P:case M:case Z:case L:case F:return Cr(e,n);case w:return new r;case x:case T:return new r(e);case S:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return new r;case j:return i=e,Ln?Te(Ln.call(i)):{}}}(t,f,s)}}o||(o=new Hn);var _=o.get(t);if(_)return _;o.set(t,l),ll(t)?t.forEach((function(e){l.add(ci(e,n,i,e,t,o))})):il(t)&&t.forEach((function(e,r){l.set(r,ci(e,n,i,r,t,o))}));var g=d?e:(u?c?aa:ra:c?Al:Il)(t);return St(g||t,(function(e,r){g&&(e=t[r=e]),ni(l,r,ci(e,n,i,r,t,o))})),l}function ui(t,n,i){var r=i.length;if(null==t)return!r;for(t=Te(t);r--;){var a=i[r],o=n[a],l=t[a];if(l===e&&!(a in t)||!o(l))return!1}return!0}function di(n,i,r){if("function"!=typeof n)throw new $e(t);return Oa((function(){n.apply(e,r)}),i)}function fi(e,t,n,i){var r=-1,a=Nt,o=!0,l=e.length,s=[],c=t.length;if(!l)return s;n&&(t=Ot(t,Xt(n))),i?(a=$t,o=!1):t.length>=200&&(a=Gt,o=!1,t=new Xn(t));e:for(;++r<l;){var u=e[r],d=null==n?u:n(u);if(u=i||0!==u?u:0,o&&d==d){for(var f=c;f--;)if(t[f]===d)continue e;s.push(u)}else a(t,d,i)||s.push(u)}return s}zn.templateSettings={escape:Y,evaluate:X,interpolate:H,variable:"",imports:{_:zn}},zn.prototype=Bn.prototype,zn.prototype.constructor=zn,Vn.prototype=Un(Bn.prototype),Vn.prototype.constructor=Vn,qn.prototype=Un(Bn.prototype),qn.prototype.constructor=qn,Wn.prototype.clear=function(){this.__data__=$n?$n(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(t){var i=this.__data__;if($n){var r=i[t];return r===n?e:r}return Pe.call(i,t)?i[t]:e},Wn.prototype.has=function(t){var n=this.__data__;return $n?n[t]!==e:Pe.call(n,t)},Wn.prototype.set=function(t,i){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=$n&&i===e?n:i,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=ii(t,e);return!(n<0||(n==t.length-1?t.pop():Je.call(t,n,1),--this.size,0))},Kn.prototype.get=function(t){var n=this.__data__,i=ii(n,t);return i<0?e:n[i][1]},Kn.prototype.has=function(e){return ii(this.__data__,e)>-1},Kn.prototype.set=function(e,t){var n=this.__data__,i=ii(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Cn||Kn),string:new Wn}},Yn.prototype.delete=function(e){var t=ua(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return ua(this,e).get(e)},Yn.prototype.has=function(e){return ua(this,e).has(e)},Yn.prototype.set=function(e,t){var n=ua(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Xn.prototype.add=Xn.prototype.push=function(e){return this.__data__.set(e,n),this},Xn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.clear=function(){this.__data__=new Kn,this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Hn.prototype.get=function(e){return this.__data__.get(e)},Hn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Kn){var i=n.__data__;if(!Cn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(i)}return n.set(e,t),this.size=n.size,this};var pi=Rr(wi),hi=Rr(xi,!0);function _i(e,t){var n=!0;return pi(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function mi(t,n,i){for(var r=-1,a=t.length;++r<a;){var o=t[r],l=n(o);if(null!=l&&(s===e?l==l&&!cl(l):i(l,s)))var s=l,c=o}return c}function vi(e,t){var n=[];return pi(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function gi(e,t,n,i,r){var a=-1,o=e.length;for(n||(n=ga),r||(r=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?gi(l,t-1,n,i,r):It(r,l):i||(r[r.length]=l)}return r}var yi=Dr(),bi=Dr(!0);function wi(e,t){return e&&yi(e,t,Il)}function xi(e,t){return e&&bi(e,t,Il)}function ki(e,t){return jt(t,(function(t){return Jo(e[t])}))}function Ei(t,n){for(var i=0,r=(n=br(n,t)).length;null!=t&&i<r;)t=t[Ma(n[i++])];return i&&i==r?t:e}function Si(e,t,n){var i=t(e);return qo(e)?i:It(i,n(e))}function Ci(t){return null==t?t===e?"[object Undefined]":"[object Null]":ct&&ct in Te(t)?function(t){var n=Pe.call(t,ct),i=t[ct];try{t[ct]=e;var r=!0}catch(e){}var a=Le.call(t);return r&&(n?t[ct]=i:delete t[ct]),a}(t):function(e){return Le.call(e)}(t)}function Ti(e,t){return e>t}function ji(e,t){return null!=e&&Pe.call(e,t)}function Ni(e,t){return null!=e&&t in Te(e)}function $i(t,n,i){for(var r=i?$t:Nt,a=t[0].length,o=t.length,l=o,s=xe(o),c=1/0,u=[];l--;){var d=t[l];l&&n&&(d=Ot(d,Xt(n))),c=bn(d.length,c),s[l]=!i&&(n||a>=120&&d.length>=120)?new Xn(l&&d):e}d=t[0];var f=-1,p=s[0];e:for(;++f<a&&u.length<c;){var h=d[f],_=n?n(h):h;if(h=i||0!==h?h:0,!(p?Gt(p,_):r(u,_,i))){for(l=o;--l;){var m=s[l];if(!(m?Gt(m,_):r(t[l],_,i)))continue e}p&&p.push(_),u.push(h)}}return u}function Oi(t,n,i){var r=null==(t=ja(t,n=br(n,t)))?t:t[Ma(Ha(n))];return null==r?e:kt(r,t,i)}function Ii(e){return nl(e)&&Ci(e)==h}function Ai(t,n,i,r,a){return t===n||(null==t||null==n||!nl(t)&&!nl(n)?t!=t&&n!=n:function(t,n,i,r,a,o){var l=qo(t),s=qo(n),c=l?_:_a(t),u=s?_:_a(n),d=(c=c==h?k:c)==k,f=(u=u==h?k:u)==k,p=c==u;if(p&&Xo(t)){if(!Xo(n))return!1;l=!0,d=!1}if(p&&!d)return o||(o=new Hn),l||ul(t)?na(t,n,i,r,a,o):function(e,t,n,i,r,a,o){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case $:return!(e.byteLength!=t.byteLength||!a(new qe(e),new qe(t)));case m:case v:case x:return zo(+e,+t);case g:return e.name==t.name&&e.message==t.message;case S:case T:return e==t+"";case w:var l=an;case C:var s=1&i;if(l||(l=sn),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;i|=2,o.set(e,t);var u=na(l(e),l(t),i,r,a,o);return o.delete(e),u;case j:if(Ln)return Ln.call(e)==Ln.call(t)}return!1}(t,n,c,i,r,a,o);if(!(1&i)){var y=d&&Pe.call(t,"__wrapped__"),b=f&&Pe.call(n,"__wrapped__");if(y||b){var E=y?t.value():t,N=b?n.value():n;return o||(o=new Hn),a(E,N,i,r,o)}}return!!p&&(o||(o=new Hn),function(t,n,i,r,a,o){var l=1&i,s=ra(t),c=s.length,u=ra(n),d=u.length;if(c!=d&&!l)return!1;for(var f=c;f--;){var p=s[f];if(!(l?p in n:Pe.call(n,p)))return!1}var h=o.get(t),_=o.get(n);if(h&&_)return h==n&&_==t;var m=!0;o.set(t,n),o.set(n,t);for(var v=l;++f<c;){var g=t[p=s[f]],y=n[p];if(r)var b=l?r(y,g,p,n,t,o):r(g,y,p,t,n,o);if(!(b===e?g===y||a(g,y,i,r,o):b)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var w=t.constructor,x=n.constructor;w==x||!("constructor"in t)||!("constructor"in n)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return o.delete(t),o.delete(n),m}(t,n,i,r,a,o))}(t,n,i,r,Ai,a))}function Ri(t,n,i,r){var a=i.length,o=a,l=!r;if(null==t)return!o;for(t=Te(t);a--;){var s=i[a];if(l&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<o;){var c=(s=i[a])[0],u=t[c],d=s[1];if(l&&s[2]){if(u===e&&!(c in t))return!1}else{var f=new Hn;if(r)var p=r(u,d,c,t,n,f);if(!(p===e?Ai(d,u,3,r,f):p))return!1}}return!0}function Di(e){return!(!tl(e)||(t=e,Ze&&Ze in t))&&(Jo(e)?Ue:he).test(Za(e));var t}function Pi(e){return"function"==typeof e?e:null==e?rs:"object"==typeof e?qo(e)?Ui(e[0],e[1]):zi(e):ps(e)}function Mi(e){if(!Ea(e))return gn(e);var t=[];for(var n in Te(e))Pe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Zi(e){if(!tl(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Ea(e),n=[];for(var i in e)("constructor"!=i||!t&&Pe.call(e,i))&&n.push(i);return n}function Li(e,t){return e<t}function Fi(e,t){var n=-1,i=Ko(e)?xe(e.length):[];return pi(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}function zi(e){var t=da(e);return 1==t.length&&t[0][2]?Ca(t[0][0],t[0][1]):function(n){return n===e||Ri(n,e,t)}}function Ui(t,n){return wa(t)&&Sa(n)?Ca(Ma(t),n):function(i){var r=Tl(i,t);return r===e&&r===n?jl(i,t):Ai(n,r,3)}}function Bi(t,n,i,r,a){t!==n&&yi(n,(function(o,l){if(a||(a=new Hn),tl(o))!function(t,n,i,r,a,o,l){var s=Na(t,i),c=Na(n,i),u=l.get(c);if(u)ti(t,i,u);else{var d=o?o(s,c,i+"",t,n,l):e,f=d===e;if(f){var p=qo(c),h=!p&&Xo(c),_=!p&&!h&&ul(c);d=c,p||h||_?qo(s)?d=s:Yo(s)?d=$r(s):h?(f=!1,d=Er(c,!0)):_?(f=!1,d=Cr(c,!0)):d=[]:al(c)||Vo(c)?(d=s,Vo(s)?d=gl(s):tl(s)&&!Jo(s)||(d=va(c))):f=!1}f&&(l.set(c,d),a(d,c,r,o,l),l.delete(c)),ti(t,i,d)}}(t,n,l,i,Bi,r,a);else{var s=r?r(Na(t,l),o,l+"",t,n,a):e;s===e&&(s=o),ti(t,l,s)}}),Al)}function Vi(t,n){var i=t.length;if(i)return ya(n+=n<0?i:0,i)?t[n]:e}function qi(e,t,n){t=t.length?Ot(t,(function(e){return qo(e)?function(t){return Ei(t,1===e.length?e[0]:e)}:e})):[rs];var i=-1;t=Ot(t,Xt(ca()));var r=Fi(e,(function(e,n,r){var a=Ot(t,(function(t){return t(e)}));return{criteria:a,index:++i,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(r,(function(e,t){return function(e,t,n){for(var i=-1,r=e.criteria,a=t.criteria,o=r.length,l=n.length;++i<o;){var s=Tr(r[i],a[i]);if(s)return i>=l?s:s*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)}))}function Wi(e,t,n){for(var i=-1,r=t.length,a={};++i<r;){var o=t[i],l=Ei(e,o);n(l,o)&&er(a,br(o,e),l)}return a}function Ki(e,t,n,i){var r=i?Ft:Lt,a=-1,o=t.length,l=e;for(e===t&&(t=$r(t)),n&&(l=Ot(e,Xt(n)));++a<o;)for(var s=0,c=t[a],u=n?n(c):c;(s=r(l,u,s,i))>-1;)l!==e&&Je.call(l,s,1),Je.call(e,s,1);return e}function Yi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==a){var a=r;ya(r)?Je.call(e,r,1):fr(e,r)}}return e}function Xi(e,t){return e+Pt(kn()*(t-e+1))}function Hi(e,t){var n="";if(!e||t<1||t>u)return n;do{t%2&&(n+=e),(t=Pt(t/2))&&(e+=e)}while(t);return n}function Gi(e,t){return Ia(Ta(e,t,rs),e+"")}function Ji(e){return Jn(zl(e))}function Qi(e,t){var n=zl(e);return Da(n,si(t,0,n.length))}function er(t,n,i,r){if(!tl(t))return t;for(var a=-1,o=(n=br(n,t)).length,l=o-1,s=t;null!=s&&++a<o;){var c=Ma(n[a]),u=i;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(a!=l){var d=s[c];(u=r?r(d,c,s):e)===e&&(u=tl(d)?d:ya(n[a+1])?[]:{})}ni(s,c,u),s=s[c]}return t}var tr=On?function(e,t){return On.set(e,t),e}:rs,nr=ut?function(e,t){return ut(e,"toString",{configurable:!0,enumerable:!1,value:ts(t),writable:!0})}:rs;function ir(e){return Da(zl(e))}function rr(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=xe(r);++i<r;)a[i]=e[i+t];return a}function ar(e,t){var n;return pi(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function or(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var a=i+r>>>1,o=e[a];null!==o&&!cl(o)&&(n?o<=t:o<t)?i=a+1:r=a}return r}return lr(e,t,rs,n)}function lr(t,n,i,r){var a=0,o=null==t?0:t.length;if(0===o)return 0;for(var l=(n=i(n))!=n,s=null===n,c=cl(n),u=n===e;a<o;){var d=Pt((a+o)/2),f=i(t[d]),p=f!==e,h=null===f,_=f==f,m=cl(f);if(l)var v=r||_;else v=u?_&&(r||p):s?_&&p&&(r||!h):c?_&&p&&!h&&(r||!m):!h&&!m&&(r?f<=n:f<n);v?a=d+1:o=d}return bn(o,4294967294)}function sr(e,t){for(var n=-1,i=e.length,r=0,a=[];++n<i;){var o=e[n],l=t?t(o):o;if(!n||!zo(l,s)){var s=l;a[r++]=0===o?0:o}}return a}function cr(e){return"number"==typeof e?e:cl(e)?d:+e}function ur(e){if("string"==typeof e)return e;if(qo(e))return Ot(e,ur)+"";if(cl(e))return Fn?Fn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function dr(e,t,n){var i=-1,r=Nt,a=e.length,o=!0,l=[],s=l;if(n)o=!1,r=$t;else if(a>=200){var c=t?null:Hr(e);if(c)return sn(c);o=!1,r=Gt,s=new Xn}else s=t?[]:l;e:for(;++i<a;){var u=e[i],d=t?t(u):u;if(u=n||0!==u?u:0,o&&d==d){for(var f=s.length;f--;)if(s[f]===d)continue e;t&&s.push(d),l.push(u)}else r(s,d,n)||(s!==l&&s.push(d),l.push(u))}return l}function fr(e,t){return null==(e=ja(e,t=br(t,e)))||delete e[Ma(Ha(t))]}function pr(e,t,n,i){return er(e,t,n(Ei(e,t)),i)}function hr(e,t,n,i){for(var r=e.length,a=i?r:-1;(i?a--:++a<r)&&t(e[a],a,e););return n?rr(e,i?0:a,i?a+1:r):rr(e,i?a+1:0,i?r:a)}function _r(e,t){var n=e;return n instanceof qn&&(n=n.value()),At(t,(function(e,t){return t.func.apply(t.thisArg,It([e],t.args))}),n)}function mr(e,t,n){var i=e.length;if(i<2)return i?dr(e[0]):[];for(var r=-1,a=xe(i);++r<i;)for(var o=e[r],l=-1;++l<i;)l!=r&&(a[r]=fi(a[r]||o,e[l],t,n));return dr(gi(a,1),t,n)}function vr(t,n,i){for(var r=-1,a=t.length,o=n.length,l={};++r<a;){var s=r<o?n[r]:e;i(l,t[r],s)}return l}function gr(e){return Yo(e)?e:[]}function yr(e){return"function"==typeof e?e:rs}function br(e,t){return qo(e)?e:wa(e,t)?[e]:Pa(yl(e))}var wr=Gi;function xr(t,n,i){var r=t.length;return i=i===e?r:i,!n&&i>=r?t:rr(t,n,i)}var kr=ft||function(e){return dt.clearTimeout(e)};function Er(e,t){if(t)return e.slice();var n=e.length,i=We?We(n):new e.constructor(n);return e.copy(i),i}function Sr(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function Cr(e,t){var n=t?Sr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Tr(t,n){if(t!==n){var i=t!==e,r=null===t,a=t==t,o=cl(t),l=n!==e,s=null===n,c=n==n,u=cl(n);if(!s&&!u&&!o&&t>n||o&&l&&c&&!s&&!u||r&&l&&c||!i&&c||!a)return 1;if(!r&&!o&&!u&&t<n||u&&i&&a&&!r&&!o||s&&i&&a||!l&&a||!c)return-1}return 0}function jr(e,t,n,i){for(var r=-1,a=e.length,o=n.length,l=-1,s=t.length,c=yn(a-o,0),u=xe(s+c),d=!i;++l<s;)u[l]=t[l];for(;++r<o;)(d||r<a)&&(u[n[r]]=e[r]);for(;c--;)u[l++]=e[r++];return u}function Nr(e,t,n,i){for(var r=-1,a=e.length,o=-1,l=n.length,s=-1,c=t.length,u=yn(a-l,0),d=xe(u+c),f=!i;++r<u;)d[r]=e[r];for(var p=r;++s<c;)d[p+s]=t[s];for(;++o<l;)(f||r<a)&&(d[p+n[o]]=e[r++]);return d}function $r(e,t){var n=-1,i=e.length;for(t||(t=xe(i));++n<i;)t[n]=e[n];return t}function Or(t,n,i,r){var a=!i;i||(i={});for(var o=-1,l=n.length;++o<l;){var s=n[o],c=r?r(i[s],t[s],s,i,t):e;c===e&&(c=t[s]),a?oi(i,s,c):ni(i,s,c)}return i}function Ir(e,t){return function(n,i){var r=qo(n)?Et:ri,a=t?t():{};return r(n,e,ca(i,2),a)}}function Ar(t){return Gi((function(n,i){var r=-1,a=i.length,o=a>1?i[a-1]:e,l=a>2?i[2]:e;for(o=t.length>3&&"function"==typeof o?(a--,o):e,l&&ba(i[0],i[1],l)&&(o=a<3?e:o,a=1),n=Te(n);++r<a;){var s=i[r];s&&t(n,s,r,o)}return n}))}function Rr(e,t){return function(n,i){if(null==n)return n;if(!Ko(n))return e(n,i);for(var r=n.length,a=t?r:-1,o=Te(n);(t?a--:++a<r)&&!1!==i(o[a],a,o););return n}}function Dr(e){return function(t,n,i){for(var r=-1,a=Te(t),o=i(t),l=o.length;l--;){var s=o[e?l:++r];if(!1===n(a[s],s,a))break}return t}}function Pr(t){return function(n){var i=rn(n=yl(n))?dn(n):e,r=i?i[0]:n.charAt(0),a=i?xr(i,1).join(""):n.slice(1);return r[t]()+a}}function Mr(e){return function(t){return At(Jl(Vl(t).replace(He,"")),e,"")}}function Zr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),i=e.apply(n,t);return tl(i)?i:n}}function Lr(t){return function(n,i,r){var a=Te(n);if(!Ko(n)){var o=ca(i,3);n=Il(n),i=function(e){return o(a[e],e,a)}}var l=t(n,i,r);return l>-1?a[o?n[l]:l]:e}}function Fr(n){return ia((function(i){var r=i.length,a=r,o=Vn.prototype.thru;for(n&&i.reverse();a--;){var l=i[a];if("function"!=typeof l)throw new $e(t);if(o&&!s&&"wrapper"==la(l))var s=new Vn([],!0)}for(a=s?a:r;++a<r;){var c=la(l=i[a]),u="wrapper"==c?oa(l):e;s=u&&xa(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?s[la(u[0])].apply(s,u[3]):1==l.length&&xa(l)?s[c]():s.thru(l)}return function(){var e=arguments,t=e[0];if(s&&1==e.length&&qo(t))return s.plant(t).value();for(var n=0,a=r?i[n].apply(this,e):t;++n<r;)a=i[n].call(this,a);return a}}))}function zr(t,n,i,r,a,o,s,c,u,d){var f=n&l,p=1&n,h=2&n,_=24&n,m=512&n,v=h?e:Zr(t);return function l(){for(var g=arguments.length,y=xe(g),b=g;b--;)y[b]=arguments[b];if(_)var w=sa(l),x=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(y,w);if(r&&(y=jr(y,r,a,_)),o&&(y=Nr(y,o,s,_)),g-=x,_&&g<d){var k=ln(y,w);return Yr(t,n,zr,l.placeholder,i,y,k,c,u,d-g)}var E=p?i:this,S=h?E[t]:t;return g=y.length,c?y=function(t,n){for(var i=t.length,r=bn(n.length,i),a=$r(t);r--;){var o=n[r];t[r]=ya(o,i)?a[o]:e}return t}(y,c):m&&g>1&&y.reverse(),f&&u<g&&(y.length=u),this&&this!==dt&&this instanceof l&&(S=v||Zr(S)),S.apply(E,y)}}function Ur(e,t){return function(n,i){return function(e,t,n,i){return wi(e,(function(e,r,a){t(i,n(e),r,a)})),i}(n,e,t(i),{})}}function Br(t,n){return function(i,r){var a;if(i===e&&r===e)return n;if(i!==e&&(a=i),r!==e){if(a===e)return r;"string"==typeof i||"string"==typeof r?(i=ur(i),r=ur(r)):(i=cr(i),r=cr(r)),a=t(i,r)}return a}}function Vr(e){return ia((function(t){return t=Ot(t,Xt(ca())),Gi((function(n){var i=this;return e(t,(function(e){return kt(e,i,n)}))}))}))}function qr(t,n){var i=(n=n===e?" ":ur(n)).length;if(i<2)return i?Hi(n,t):n;var r=Hi(n,mt(t/un(n)));return rn(n)?xr(dn(r),0,t).join(""):r.slice(0,t)}function Wr(t){return function(n,i,r){return r&&"number"!=typeof r&&ba(n,i,r)&&(i=r=e),n=hl(n),i===e?(i=n,n=0):i=hl(i),function(e,t,n,i){for(var r=-1,a=yn(mt((t-e)/(n||1)),0),o=xe(a);a--;)o[i?a:++r]=e,e+=n;return o}(n,i,r=r===e?n<i?1:-1:hl(r),t)}}function Kr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=vl(t),n=vl(n)),e(t,n)}}function Yr(t,n,i,r,l,s,c,u,d,f){var p=8&n;n|=p?a:o,4&(n&=~(p?o:a))||(n&=-4);var h=[t,n,l,p?s:e,p?c:e,p?e:s,p?e:c,u,d,f],_=i.apply(e,h);return xa(t)&&$a(_,h),_.placeholder=r,Aa(_,t,n)}function Xr(e){var t=Ce[e];return function(e,n){if(e=vl(e),(n=null==n?0:bn(_l(n),292))&&mn(e)){var i=(yl(e)+"e").split("e");return+((i=(yl(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Hr=jn&&1/sn(new jn([,-0]))[1]==c?function(e){return new jn(e)}:cs;function Gr(e){return function(t){var n=_a(t);return n==w?an(t):n==C?cn(t):function(e,t){return Ot(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Jr(n,c,u,d,f,p,h,_){var m=2&c;if(!m&&"function"!=typeof n)throw new $e(t);var v=d?d.length:0;if(v||(c&=-97,d=f=e),h=h===e?h:yn(_l(h),0),_=_===e?_:_l(_),v-=f?f.length:0,c&o){var g=d,y=f;d=f=e}var b=m?e:oa(n),w=[n,c,u,d,f,g,y,p,h,_];if(b&&function(e,t){var n=e[1],r=t[1],a=n|r,o=a<131,c=r==l&&8==n||r==l&&n==s&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!c)return e;1&r&&(e[2]=t[2],a|=1&n?0:4);var u=t[3];if(u){var d=e[3];e[3]=d?jr(d,u,t[4]):u,e[4]=d?ln(e[3],i):t[4]}(u=t[5])&&(d=e[5],e[5]=d?Nr(d,u,t[6]):u,e[6]=d?ln(e[5],i):t[6]),(u=t[7])&&(e[7]=u),r&l&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a}(w,b),n=w[0],c=w[1],u=w[2],d=w[3],f=w[4],!(_=w[9]=w[9]===e?m?0:n.length:yn(w[9]-v,0))&&24&c&&(c&=-25),c&&1!=c)x=8==c||c==r?function(t,n,i){var r=Zr(t);return function a(){for(var o=arguments.length,l=xe(o),s=o,c=sa(a);s--;)l[s]=arguments[s];var u=o<3&&l[0]!==c&&l[o-1]!==c?[]:ln(l,c);return(o-=u.length)<i?Yr(t,n,zr,a.placeholder,e,l,u,e,e,i-o):kt(this&&this!==dt&&this instanceof a?r:t,this,l)}}(n,c,_):c!=a&&33!=c||f.length?zr.apply(e,w):function(e,t,n,i){var r=1&t,a=Zr(e);return function t(){for(var o=-1,l=arguments.length,s=-1,c=i.length,u=xe(c+l),d=this&&this!==dt&&this instanceof t?a:e;++s<c;)u[s]=i[s];for(;l--;)u[s++]=arguments[++o];return kt(d,r?n:this,u)}}(n,c,u,d);else var x=function(e,t,n){var i=1&t,r=Zr(e);return function t(){return(this&&this!==dt&&this instanceof t?r:e).apply(i?n:this,arguments)}}(n,c,u);return Aa((b?tr:$a)(x,w),n,c)}function Qr(t,n,i,r){return t===e||zo(t,Ae[i])&&!Pe.call(r,i)?n:t}function ea(t,n,i,r,a,o){return tl(t)&&tl(n)&&(o.set(n,t),Bi(t,n,e,ea,o),o.delete(n)),t}function ta(t){return al(t)?e:t}function na(t,n,i,r,a,o){var l=1&i,s=t.length,c=n.length;if(s!=c&&!(l&&c>s))return!1;var u=o.get(t),d=o.get(n);if(u&&d)return u==n&&d==t;var f=-1,p=!0,h=2&i?new Xn:e;for(o.set(t,n),o.set(n,t);++f<s;){var _=t[f],m=n[f];if(r)var v=l?r(m,_,f,n,t,o):r(_,m,f,t,n,o);if(v!==e){if(v)continue;p=!1;break}if(h){if(!Dt(n,(function(e,t){if(!Gt(h,t)&&(_===e||a(_,e,i,r,o)))return h.push(t)}))){p=!1;break}}else if(_!==m&&!a(_,m,i,r,o)){p=!1;break}}return o.delete(t),o.delete(n),p}function ia(t){return Ia(Ta(t,e,qa),t+"")}function ra(e){return Si(e,Il,pa)}function aa(e){return Si(e,Al,ha)}var oa=On?function(e){return On.get(e)}:cs;function la(e){for(var t=e.name+"",n=In[t],i=Pe.call(In,t)?n.length:0;i--;){var r=n[i],a=r.func;if(null==a||a==e)return r.name}return t}function sa(e){return(Pe.call(zn,"placeholder")?zn:e).placeholder}function ca(){var e=zn.iteratee||as;return e=e===as?Pi:e,arguments.length?e(arguments[0],arguments[1]):e}function ua(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function da(e){for(var t=Il(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,Sa(r)]}return t}function fa(t,n){var i=function(t,n){return null==t?e:t[n]}(t,n);return Di(i)?i:e}var pa=Vt?function(e){return null==e?[]:(e=Te(e),jt(Vt(e),(function(t){return Xe.call(e,t)})))}:ms,ha=Vt?function(e){for(var t=[];e;)It(t,pa(e)),e=Ke(e);return t}:ms,_a=Ci;function ma(e,t,n){for(var i=-1,r=(t=br(t,e)).length,a=!1;++i<r;){var o=Ma(t[i]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++i!=r?a:!!(r=null==e?0:e.length)&&el(r)&&ya(o,r)&&(qo(e)||Vo(e))}function va(e){return"function"!=typeof e.constructor||Ea(e)?{}:Un(Ke(e))}function ga(e){return qo(e)||Vo(e)||!!(et&&e&&e[et])}function ya(e,t){var n=typeof e;return!!(t=null==t?u:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function ba(e,t,n){if(!tl(n))return!1;var i=typeof t;return!!("number"==i?Ko(n)&&ya(t,n.length):"string"==i&&t in n)&&zo(n[t],e)}function wa(e,t){if(qo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cl(e))||J.test(e)||!G.test(e)||null!=t&&e in Te(t)}function xa(e){var t=la(e),n=zn[t];if("function"!=typeof n||!(t in qn.prototype))return!1;if(e===n)return!0;var i=oa(n);return!!i&&e===i[0]}(Sn&&_a(new Sn(new ArrayBuffer(1)))!=O||Cn&&_a(new Cn)!=w||Tn&&_a(Tn.resolve())!=E||jn&&_a(new jn)!=C||Nn&&_a(new Nn)!=N)&&(_a=function(t){var n=Ci(t),i=n==k?t.constructor:e,r=i?Za(i):"";if(r)switch(r){case An:return O;case Rn:return w;case Dn:return E;case Pn:return C;case Mn:return N}return n});var ka=Re?Jo:vs;function Ea(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ae)}function Sa(e){return e==e&&!tl(e)}function Ca(t,n){return function(i){return null!=i&&i[t]===n&&(n!==e||t in Te(i))}}function Ta(t,n,i){return n=yn(n===e?t.length-1:n,0),function(){for(var e=arguments,r=-1,a=yn(e.length-n,0),o=xe(a);++r<a;)o[r]=e[n+r];r=-1;for(var l=xe(n+1);++r<n;)l[r]=e[r];return l[n]=i(o),kt(t,this,l)}}function ja(e,t){return t.length<2?e:Ei(e,rr(t,0,-1))}function Na(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var $a=Ra(tr),Oa=_t||function(e,t){return dt.setTimeout(e,t)},Ia=Ra(nr);function Aa(e,t,n){var i=t+"";return Ia(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(re,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return St(p,(function(n){var i="_."+n[0];t&n[1]&&!Nt(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(oe):[]}(i),n)))}function Ra(t){var n=0,i=0;return function(){var r=wn(),a=16-(r-i);if(i=r,a>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(e,arguments)}}function Da(t,n){var i=-1,r=t.length,a=r-1;for(n=n===e?r:n;++i<n;){var o=Xi(i,a),l=t[o];t[o]=t[i],t[i]=l}return t.length=n,t}var Pa=function(e){var t=Do(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Q,(function(e,n,i,r){t.push(i?r.replace(ce,"$1"):n||e)})),t}));function Ma(e){if("string"==typeof e||cl(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Za(e){if(null!=e){try{return De.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function La(e){if(e instanceof qn)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=$r(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fa=Gi((function(e,t){return Yo(e)?fi(e,gi(t,1,Yo,!0)):[]})),za=Gi((function(t,n){var i=Ha(n);return Yo(i)&&(i=e),Yo(t)?fi(t,gi(n,1,Yo,!0),ca(i,2)):[]})),Ua=Gi((function(t,n){var i=Ha(n);return Yo(i)&&(i=e),Yo(t)?fi(t,gi(n,1,Yo,!0),e,i):[]}));function Ba(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:_l(n);return r<0&&(r=yn(i+r,0)),Zt(e,ca(t,3),r)}function Va(t,n,i){var r=null==t?0:t.length;if(!r)return-1;var a=r-1;return i!==e&&(a=_l(i),a=i<0?yn(r+a,0):bn(a,r-1)),Zt(t,ca(n,3),a,!0)}function qa(e){return null!=e&&e.length?gi(e,1):[]}function Wa(t){return t&&t.length?t[0]:e}var Ka=Gi((function(e){var t=Ot(e,gr);return t.length&&t[0]===e[0]?$i(t):[]})),Ya=Gi((function(t){var n=Ha(t),i=Ot(t,gr);return n===Ha(i)?n=e:i.pop(),i.length&&i[0]===t[0]?$i(i,ca(n,2)):[]})),Xa=Gi((function(t){var n=Ha(t),i=Ot(t,gr);return(n="function"==typeof n?n:e)&&i.pop(),i.length&&i[0]===t[0]?$i(i,e,n):[]}));function Ha(t){var n=null==t?0:t.length;return n?t[n-1]:e}var Ga=Gi(Ja);function Ja(e,t){return e&&e.length&&t&&t.length?Ki(e,t):e}var Qa=ia((function(e,t){var n=null==e?0:e.length,i=li(e,t);return Yi(e,Ot(t,(function(e){return ya(e,n)?+e:e})).sort(Tr)),i}));function eo(e){return null==e?e:En.call(e)}var to=Gi((function(e){return dr(gi(e,1,Yo,!0))})),no=Gi((function(t){var n=Ha(t);return Yo(n)&&(n=e),dr(gi(t,1,Yo,!0),ca(n,2))})),io=Gi((function(t){var n=Ha(t);return n="function"==typeof n?n:e,dr(gi(t,1,Yo,!0),e,n)}));function ro(e){if(!e||!e.length)return[];var t=0;return e=jt(e,(function(e){if(Yo(e))return t=yn(e.length,t),!0})),Kt(t,(function(t){return Ot(e,Bt(t))}))}function ao(t,n){if(!t||!t.length)return[];var i=ro(t);return null==n?i:Ot(i,(function(t){return kt(n,e,t)}))}var oo=Gi((function(e,t){return Yo(e)?fi(e,t):[]})),lo=Gi((function(e){return mr(jt(e,Yo))})),so=Gi((function(t){var n=Ha(t);return Yo(n)&&(n=e),mr(jt(t,Yo),ca(n,2))})),co=Gi((function(t){var n=Ha(t);return n="function"==typeof n?n:e,mr(jt(t,Yo),e,n)})),uo=Gi(ro),fo=Gi((function(t){var n=t.length,i=n>1?t[n-1]:e;return i="function"==typeof i?(t.pop(),i):e,ao(t,i)}));function po(e){var t=zn(e);return t.__chain__=!0,t}function ho(e,t){return t(e)}var _o=ia((function(t){var n=t.length,i=n?t[0]:0,r=this.__wrapped__,a=function(e){return li(e,t)};return!(n>1||this.__actions__.length)&&r instanceof qn&&ya(i)?((r=r.slice(i,+i+(n?1:0))).__actions__.push({func:ho,args:[a],thisArg:e}),new Vn(r,this.__chain__).thru((function(t){return n&&!t.length&&t.push(e),t}))):this.thru(a)})),mo=Ir((function(e,t,n){Pe.call(e,n)?++e[n]:oi(e,n,1)})),vo=Lr(Ba),go=Lr(Va);function yo(e,t){return(qo(e)?St:pi)(e,ca(t,3))}function bo(e,t){return(qo(e)?Ct:hi)(e,ca(t,3))}var wo=Ir((function(e,t,n){Pe.call(e,n)?e[n].push(t):oi(e,n,[t])})),xo=Gi((function(e,t,n){var i=-1,r="function"==typeof t,a=Ko(e)?xe(e.length):[];return pi(e,(function(e){a[++i]=r?kt(t,e,n):Oi(e,t,n)})),a})),ko=Ir((function(e,t,n){oi(e,n,t)}));function Eo(e,t){return(qo(e)?Ot:Fi)(e,ca(t,3))}var So=Ir((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Co=Gi((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ba(e,t[0],t[1])?t=[]:n>2&&ba(t[0],t[1],t[2])&&(t=[t[0]]),qi(e,gi(t,1),[])})),To=pt||function(){return dt.Date.now()};function jo(t,n,i){return n=i?e:n,n=t&&null==n?t.length:n,Jr(t,l,e,e,e,e,n)}function No(n,i){var r;if("function"!=typeof i)throw new $e(t);return n=_l(n),function(){return--n>0&&(r=i.apply(this,arguments)),n<=1&&(i=e),r}}var $o=Gi((function(e,t,n){var i=1;if(n.length){var r=ln(n,sa($o));i|=a}return Jr(e,i,t,n,r)})),Oo=Gi((function(e,t,n){var i=3;if(n.length){var r=ln(n,sa(Oo));i|=a}return Jr(t,i,e,n,r)}));function Io(n,i,r){var a,o,l,s,c,u,d=0,f=!1,p=!1,h=!0;if("function"!=typeof n)throw new $e(t);function _(t){var i=a,r=o;return a=o=e,d=t,s=n.apply(r,i)}function m(t){var n=t-u;return u===e||n>=i||n<0||p&&t-d>=l}function v(){var e=To();if(m(e))return g(e);c=Oa(v,function(e){var t=i-(e-u);return p?bn(t,l-(e-d)):t}(e))}function g(t){return c=e,h&&a?_(t):(a=o=e,s)}function y(){var t=To(),n=m(t);if(a=arguments,o=this,u=t,n){if(c===e)return function(e){return d=e,c=Oa(v,i),f?_(e):s}(u);if(p)return kr(c),c=Oa(v,i),_(u)}return c===e&&(c=Oa(v,i)),s}return i=vl(i)||0,tl(r)&&(f=!!r.leading,l=(p="maxWait"in r)?yn(vl(r.maxWait)||0,i):l,h="trailing"in r?!!r.trailing:h),y.cancel=function(){c!==e&&kr(c),d=0,a=u=o=c=e},y.flush=function(){return c===e?s:g(To())},y}var Ao=Gi((function(e,t){return di(e,1,t)})),Ro=Gi((function(e,t,n){return di(e,vl(t)||0,n)}));function Do(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new $e(t);var i=function(){var t=arguments,r=n?n.apply(this,t):t[0],a=i.cache;if(a.has(r))return a.get(r);var o=e.apply(this,t);return i.cache=a.set(r,o)||a,o};return i.cache=new(Do.Cache||Yn),i}function Po(e){if("function"!=typeof e)throw new $e(t);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Do.Cache=Yn;var Mo=wr((function(e,t){var n=(t=1==t.length&&qo(t[0])?Ot(t[0],Xt(ca())):Ot(gi(t,1),Xt(ca()))).length;return Gi((function(i){for(var r=-1,a=bn(i.length,n);++r<a;)i[r]=t[r].call(this,i[r]);return kt(e,this,i)}))})),Zo=Gi((function(t,n){var i=ln(n,sa(Zo));return Jr(t,a,e,n,i)})),Lo=Gi((function(t,n){var i=ln(n,sa(Lo));return Jr(t,o,e,n,i)})),Fo=ia((function(t,n){return Jr(t,s,e,e,e,n)}));function zo(e,t){return e===t||e!=e&&t!=t}var Uo=Kr(Ti),Bo=Kr((function(e,t){return e>=t})),Vo=Ii(function(){return arguments}())?Ii:function(e){return nl(e)&&Pe.call(e,"callee")&&!Xe.call(e,"callee")},qo=xe.isArray,Wo=vt?Xt(vt):function(e){return nl(e)&&Ci(e)==$};function Ko(e){return null!=e&&el(e.length)&&!Jo(e)}function Yo(e){return nl(e)&&Ko(e)}var Xo=_n||vs,Ho=gt?Xt(gt):function(e){return nl(e)&&Ci(e)==v};function Go(e){if(!nl(e))return!1;var t=Ci(e);return t==g||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!al(e)}function Jo(e){if(!tl(e))return!1;var t=Ci(e);return t==y||t==b||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qo(e){return"number"==typeof e&&e==_l(e)}function el(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function tl(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function nl(e){return null!=e&&"object"==typeof e}var il=yt?Xt(yt):function(e){return nl(e)&&_a(e)==w};function rl(e){return"number"==typeof e||nl(e)&&Ci(e)==x}function al(e){if(!nl(e)||Ci(e)!=k)return!1;var t=Ke(e);if(null===t)return!0;var n=Pe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Fe}var ol=bt?Xt(bt):function(e){return nl(e)&&Ci(e)==S},ll=wt?Xt(wt):function(e){return nl(e)&&_a(e)==C};function sl(e){return"string"==typeof e||!qo(e)&&nl(e)&&Ci(e)==T}function cl(e){return"symbol"==typeof e||nl(e)&&Ci(e)==j}var ul=xt?Xt(xt):function(e){return nl(e)&&el(e.length)&&!!rt[Ci(e)]},dl=Kr(Li),fl=Kr((function(e,t){return e<=t}));function pl(e){if(!e)return[];if(Ko(e))return sl(e)?dn(e):$r(e);if(ot&&e[ot])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[ot]());var t=_a(e);return(t==w?an:t==C?sn:zl)(e)}function hl(e){return e?(e=vl(e))===c||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function _l(e){var t=hl(e),n=t%1;return t==t?n?t-n:t:0}function ml(e){return e?si(_l(e),0,f):0}function vl(e){if("number"==typeof e)return e;if(cl(e))return d;if(tl(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=tl(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=pe.test(e);return n||_e.test(e)?st(e.slice(2),n?2:8):fe.test(e)?d:+e}function gl(e){return Or(e,Al(e))}function yl(e){return null==e?"":ur(e)}var bl=Ar((function(e,t){if(Ea(t)||Ko(t))Or(t,Il(t),e);else for(var n in t)Pe.call(t,n)&&ni(e,n,t[n])})),wl=Ar((function(e,t){Or(t,Al(t),e)})),xl=Ar((function(e,t,n,i){Or(t,Al(t),e,i)})),kl=Ar((function(e,t,n,i){Or(t,Il(t),e,i)})),El=ia(li),Sl=Gi((function(t,n){t=Te(t);var i=-1,r=n.length,a=r>2?n[2]:e;for(a&&ba(n[0],n[1],a)&&(r=1);++i<r;)for(var o=n[i],l=Al(o),s=-1,c=l.length;++s<c;){var u=l[s],d=t[u];(d===e||zo(d,Ae[u])&&!Pe.call(t,u))&&(t[u]=o[u])}return t})),Cl=Gi((function(t){return t.push(e,ea),kt(Dl,e,t)}));function Tl(t,n,i){var r=null==t?e:Ei(t,n);return r===e?i:r}function jl(e,t){return null!=e&&ma(e,t,Ni)}var Nl=Ur((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),e[t]=n}),ts(rs)),$l=Ur((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),Pe.call(e,t)?e[t].push(n):e[t]=[n]}),ca),Ol=Gi(Oi);function Il(e){return Ko(e)?Gn(e):Mi(e)}function Al(e){return Ko(e)?Gn(e,!0):Zi(e)}var Rl=Ar((function(e,t,n){Bi(e,t,n)})),Dl=Ar((function(e,t,n,i){Bi(e,t,n,i)})),Pl=ia((function(e,t){var n={};if(null==e)return n;var i=!1;t=Ot(t,(function(t){return t=br(t,e),i||(i=t.length>1),t})),Or(e,aa(e),n),i&&(n=ci(n,7,ta));for(var r=t.length;r--;)fr(n,t[r]);return n})),Ml=ia((function(e,t){return null==e?{}:function(e,t){return Wi(e,t,(function(t,n){return jl(e,n)}))}(e,t)}));function Zl(e,t){if(null==e)return{};var n=Ot(aa(e),(function(e){return[e]}));return t=ca(t),Wi(e,n,(function(e,n){return t(e,n[0])}))}var Ll=Gr(Il),Fl=Gr(Al);function zl(e){return null==e?[]:Ht(e,Il(e))}var Ul=Mr((function(e,t,n){return t=t.toLowerCase(),e+(n?Bl(t):t)}));function Bl(e){return Gl(yl(e).toLowerCase())}function Vl(e){return(e=yl(e))&&e.replace(ve,en).replace(Ge,"")}var ql=Mr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Wl=Mr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Kl=Pr("toLowerCase"),Yl=Mr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Xl=Mr((function(e,t,n){return e+(n?" ":"")+Gl(t)})),Hl=Mr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Gl=Pr("toUpperCase");function Jl(t,n,i){return t=yl(t),(n=i?e:n)===e?function(e){return tt.test(e)}(t)?function(e){return e.match(Qe)||[]}(t):function(e){return e.match(le)||[]}(t):t.match(n)||[]}var Ql=Gi((function(t,n){try{return kt(t,e,n)}catch(e){return Go(e)?e:new Ee(e)}})),es=ia((function(e,t){return St(t,(function(t){t=Ma(t),oi(e,t,$o(e[t],e))})),e}));function ts(e){return function(){return e}}var ns=Fr(),is=Fr(!0);function rs(e){return e}function as(e){return Pi("function"==typeof e?e:ci(e,1))}var os=Gi((function(e,t){return function(n){return Oi(n,e,t)}})),ls=Gi((function(e,t){return function(n){return Oi(e,n,t)}}));function ss(e,t,n){var i=Il(t),r=ki(t,i);null!=n||tl(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=ki(t,Il(t)));var a=!(tl(n)&&"chain"in n&&!n.chain),o=Jo(e);return St(r,(function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=$r(this.__actions__)).push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,It([this.value()],arguments))})})),e}function cs(){}var us=Vr(Ot),ds=Vr(Tt),fs=Vr(Dt);function ps(e){return wa(e)?Bt(Ma(e)):function(e){return function(t){return Ei(t,e)}}(e)}var hs=Wr(),_s=Wr(!0);function ms(){return[]}function vs(){return!1}var gs,ys=Br((function(e,t){return e+t}),0),bs=Xr("ceil"),ws=Br((function(e,t){return e/t}),1),xs=Xr("floor"),ks=Br((function(e,t){return e*t}),1),Es=Xr("round"),Ss=Br((function(e,t){return e-t}),0);return zn.after=function(e,n){if("function"!=typeof n)throw new $e(t);return e=_l(e),function(){if(--e<1)return n.apply(this,arguments)}},zn.ary=jo,zn.assign=bl,zn.assignIn=wl,zn.assignInWith=xl,zn.assignWith=kl,zn.at=El,zn.before=No,zn.bind=$o,zn.bindAll=es,zn.bindKey=Oo,zn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qo(e)?e:[e]},zn.chain=po,zn.chunk=function(t,n,i){n=(i?ba(t,n,i):n===e)?1:yn(_l(n),0);var r=null==t?0:t.length;if(!r||n<1)return[];for(var a=0,o=0,l=xe(mt(r/n));a<r;)l[o++]=rr(t,a,a+=n);return l},zn.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var a=e[t];a&&(r[i++]=a)}return r},zn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=xe(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return It(qo(n)?$r(n):[n],gi(t,1))},zn.cond=function(e){var n=null==e?0:e.length,i=ca();return e=n?Ot(e,(function(e){if("function"!=typeof e[1])throw new $e(t);return[i(e[0]),e[1]]})):[],Gi((function(t){for(var i=-1;++i<n;){var r=e[i];if(kt(r[0],this,t))return kt(r[1],this,t)}}))},zn.conforms=function(e){return function(e){var t=Il(e);return function(n){return ui(n,e,t)}}(ci(e,1))},zn.constant=ts,zn.countBy=mo,zn.create=function(e,t){var n=Un(e);return null==t?n:ai(n,t)},zn.curry=function t(n,i,r){var a=Jr(n,8,e,e,e,e,e,i=r?e:i);return a.placeholder=t.placeholder,a},zn.curryRight=function t(n,i,a){var o=Jr(n,r,e,e,e,e,e,i=a?e:i);return o.placeholder=t.placeholder,o},zn.debounce=Io,zn.defaults=Sl,zn.defaultsDeep=Cl,zn.defer=Ao,zn.delay=Ro,zn.difference=Fa,zn.differenceBy=za,zn.differenceWith=Ua,zn.drop=function(t,n,i){var r=null==t?0:t.length;return r?rr(t,(n=i||n===e?1:_l(n))<0?0:n,r):[]},zn.dropRight=function(t,n,i){var r=null==t?0:t.length;return r?rr(t,0,(n=r-(n=i||n===e?1:_l(n)))<0?0:n):[]},zn.dropRightWhile=function(e,t){return e&&e.length?hr(e,ca(t,3),!0,!0):[]},zn.dropWhile=function(e,t){return e&&e.length?hr(e,ca(t,3),!0):[]},zn.fill=function(t,n,i,r){var a=null==t?0:t.length;return a?(i&&"number"!=typeof i&&ba(t,n,i)&&(i=0,r=a),function(t,n,i,r){var a=t.length;for((i=_l(i))<0&&(i=-i>a?0:a+i),(r=r===e||r>a?a:_l(r))<0&&(r+=a),r=i>r?0:ml(r);i<r;)t[i++]=n;return t}(t,n,i,r)):[]},zn.filter=function(e,t){return(qo(e)?jt:vi)(e,ca(t,3))},zn.flatMap=function(e,t){return gi(Eo(e,t),1)},zn.flatMapDeep=function(e,t){return gi(Eo(e,t),c)},zn.flatMapDepth=function(t,n,i){return i=i===e?1:_l(i),gi(Eo(t,n),i)},zn.flatten=qa,zn.flattenDeep=function(e){return null!=e&&e.length?gi(e,c):[]},zn.flattenDepth=function(t,n){return null!=t&&t.length?gi(t,n=n===e?1:_l(n)):[]},zn.flip=function(e){return Jr(e,512)},zn.flow=ns,zn.flowRight=is,zn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},zn.functions=function(e){return null==e?[]:ki(e,Il(e))},zn.functionsIn=function(e){return null==e?[]:ki(e,Al(e))},zn.groupBy=wo,zn.initial=function(e){return null!=e&&e.length?rr(e,0,-1):[]},zn.intersection=Ka,zn.intersectionBy=Ya,zn.intersectionWith=Xa,zn.invert=Nl,zn.invertBy=$l,zn.invokeMap=xo,zn.iteratee=as,zn.keyBy=ko,zn.keys=Il,zn.keysIn=Al,zn.map=Eo,zn.mapKeys=function(e,t){var n={};return t=ca(t,3),wi(e,(function(e,i,r){oi(n,t(e,i,r),e)})),n},zn.mapValues=function(e,t){var n={};return t=ca(t,3),wi(e,(function(e,i,r){oi(n,i,t(e,i,r))})),n},zn.matches=function(e){return zi(ci(e,1))},zn.matchesProperty=function(e,t){return Ui(e,ci(t,1))},zn.memoize=Do,zn.merge=Rl,zn.mergeWith=Dl,zn.method=os,zn.methodOf=ls,zn.mixin=ss,zn.negate=Po,zn.nthArg=function(e){return e=_l(e),Gi((function(t){return Vi(t,e)}))},zn.omit=Pl,zn.omitBy=function(e,t){return Zl(e,Po(ca(t)))},zn.once=function(e){return No(2,e)},zn.orderBy=function(t,n,i,r){return null==t?[]:(qo(n)||(n=null==n?[]:[n]),qo(i=r?e:i)||(i=null==i?[]:[i]),qi(t,n,i))},zn.over=us,zn.overArgs=Mo,zn.overEvery=ds,zn.overSome=fs,zn.partial=Zo,zn.partialRight=Lo,zn.partition=So,zn.pick=Ml,zn.pickBy=Zl,zn.property=ps,zn.propertyOf=function(t){return function(n){return null==t?e:Ei(t,n)}},zn.pull=Ga,zn.pullAll=Ja,zn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Ki(e,t,ca(n,2)):e},zn.pullAllWith=function(t,n,i){return t&&t.length&&n&&n.length?Ki(t,n,e,i):t},zn.pullAt=Qa,zn.range=hs,zn.rangeRight=_s,zn.rearg=Fo,zn.reject=function(e,t){return(qo(e)?jt:vi)(e,Po(ca(t,3)))},zn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],a=e.length;for(t=ca(t,3);++i<a;){var o=e[i];t(o,i,e)&&(n.push(o),r.push(i))}return Yi(e,r),n},zn.rest=function(n,i){if("function"!=typeof n)throw new $e(t);return Gi(n,i=i===e?i:_l(i))},zn.reverse=eo,zn.sampleSize=function(t,n,i){return n=(i?ba(t,n,i):n===e)?1:_l(n),(qo(t)?Qn:Qi)(t,n)},zn.set=function(e,t,n){return null==e?e:er(e,t,n)},zn.setWith=function(t,n,i,r){return r="function"==typeof r?r:e,null==t?t:er(t,n,i,r)},zn.shuffle=function(e){return(qo(e)?ei:ir)(e)},zn.slice=function(t,n,i){var r=null==t?0:t.length;return r?(i&&"number"!=typeof i&&ba(t,n,i)?(n=0,i=r):(n=null==n?0:_l(n),i=i===e?r:_l(i)),rr(t,n,i)):[]},zn.sortBy=Co,zn.sortedUniq=function(e){return e&&e.length?sr(e):[]},zn.sortedUniqBy=function(e,t){return e&&e.length?sr(e,ca(t,2)):[]},zn.split=function(t,n,i){return i&&"number"!=typeof i&&ba(t,n,i)&&(n=i=e),(i=i===e?f:i>>>0)?(t=yl(t))&&("string"==typeof n||null!=n&&!ol(n))&&!(n=ur(n))&&rn(t)?xr(dn(t),0,i):t.split(n,i):[]},zn.spread=function(e,n){if("function"!=typeof e)throw new $e(t);return n=null==n?0:yn(_l(n),0),Gi((function(t){var i=t[n],r=xr(t,0,n);return i&&It(r,i),kt(e,this,r)}))},zn.tail=function(e){var t=null==e?0:e.length;return t?rr(e,1,t):[]},zn.take=function(t,n,i){return t&&t.length?rr(t,0,(n=i||n===e?1:_l(n))<0?0:n):[]},zn.takeRight=function(t,n,i){var r=null==t?0:t.length;return r?rr(t,(n=r-(n=i||n===e?1:_l(n)))<0?0:n,r):[]},zn.takeRightWhile=function(e,t){return e&&e.length?hr(e,ca(t,3),!1,!0):[]},zn.takeWhile=function(e,t){return e&&e.length?hr(e,ca(t,3)):[]},zn.tap=function(e,t){return t(e),e},zn.throttle=function(e,n,i){var r=!0,a=!0;if("function"!=typeof e)throw new $e(t);return tl(i)&&(r="leading"in i?!!i.leading:r,a="trailing"in i?!!i.trailing:a),Io(e,n,{leading:r,maxWait:n,trailing:a})},zn.thru=ho,zn.toArray=pl,zn.toPairs=Ll,zn.toPairsIn=Fl,zn.toPath=function(e){return qo(e)?Ot(e,Ma):cl(e)?[e]:$r(Pa(yl(e)))},zn.toPlainObject=gl,zn.transform=function(e,t,n){var i=qo(e),r=i||Xo(e)||ul(e);if(t=ca(t,4),null==n){var a=e&&e.constructor;n=r?i?new a:[]:tl(e)&&Jo(a)?Un(Ke(e)):{}}return(r?St:wi)(e,(function(e,i,r){return t(n,e,i,r)})),n},zn.unary=function(e){return jo(e,1)},zn.union=to,zn.unionBy=no,zn.unionWith=io,zn.uniq=function(e){return e&&e.length?dr(e):[]},zn.uniqBy=function(e,t){return e&&e.length?dr(e,ca(t,2)):[]},zn.uniqWith=function(t,n){return n="function"==typeof n?n:e,t&&t.length?dr(t,e,n):[]},zn.unset=function(e,t){return null==e||fr(e,t)},zn.unzip=ro,zn.unzipWith=ao,zn.update=function(e,t,n){return null==e?e:pr(e,t,yr(n))},zn.updateWith=function(t,n,i,r){return r="function"==typeof r?r:e,null==t?t:pr(t,n,yr(i),r)},zn.values=zl,zn.valuesIn=function(e){return null==e?[]:Ht(e,Al(e))},zn.without=oo,zn.words=Jl,zn.wrap=function(e,t){return Zo(yr(t),e)},zn.xor=lo,zn.xorBy=so,zn.xorWith=co,zn.zip=uo,zn.zipObject=function(e,t){return vr(e||[],t||[],ni)},zn.zipObjectDeep=function(e,t){return vr(e||[],t||[],er)},zn.zipWith=fo,zn.entries=Ll,zn.entriesIn=Fl,zn.extend=wl,zn.extendWith=xl,ss(zn,zn),zn.add=ys,zn.attempt=Ql,zn.camelCase=Ul,zn.capitalize=Bl,zn.ceil=bs,zn.clamp=function(t,n,i){return i===e&&(i=n,n=e),i!==e&&(i=(i=vl(i))==i?i:0),n!==e&&(n=(n=vl(n))==n?n:0),si(vl(t),n,i)},zn.clone=function(e){return ci(e,4)},zn.cloneDeep=function(e){return ci(e,5)},zn.cloneDeepWith=function(t,n){return ci(t,5,n="function"==typeof n?n:e)},zn.cloneWith=function(t,n){return ci(t,4,n="function"==typeof n?n:e)},zn.conformsTo=function(e,t){return null==t||ui(e,t,Il(t))},zn.deburr=Vl,zn.defaultTo=function(e,t){return null==e||e!=e?t:e},zn.divide=ws,zn.endsWith=function(t,n,i){t=yl(t),n=ur(n);var r=t.length,a=i=i===e?r:si(_l(i),0,r);return(i-=n.length)>=0&&t.slice(i,a)==n},zn.eq=zo,zn.escape=function(e){return(e=yl(e))&&K.test(e)?e.replace(q,tn):e},zn.escapeRegExp=function(e){return(e=yl(e))&&te.test(e)?e.replace(ee,"\\$&"):e},zn.every=function(t,n,i){var r=qo(t)?Tt:_i;return i&&ba(t,n,i)&&(n=e),r(t,ca(n,3))},zn.find=vo,zn.findIndex=Ba,zn.findKey=function(e,t){return Mt(e,ca(t,3),wi)},zn.findLast=go,zn.findLastIndex=Va,zn.findLastKey=function(e,t){return Mt(e,ca(t,3),xi)},zn.floor=xs,zn.forEach=yo,zn.forEachRight=bo,zn.forIn=function(e,t){return null==e?e:yi(e,ca(t,3),Al)},zn.forInRight=function(e,t){return null==e?e:bi(e,ca(t,3),Al)},zn.forOwn=function(e,t){return e&&wi(e,ca(t,3))},zn.forOwnRight=function(e,t){return e&&xi(e,ca(t,3))},zn.get=Tl,zn.gt=Uo,zn.gte=Bo,zn.has=function(e,t){return null!=e&&ma(e,t,ji)},zn.hasIn=jl,zn.head=Wa,zn.identity=rs,zn.includes=function(e,t,n,i){e=Ko(e)?e:zl(e),n=n&&!i?_l(n):0;var r=e.length;return n<0&&(n=yn(r+n,0)),sl(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Lt(e,t,n)>-1},zn.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:_l(n);return r<0&&(r=yn(i+r,0)),Lt(e,t,r)},zn.inRange=function(t,n,i){return n=hl(n),i===e?(i=n,n=0):i=hl(i),function(e,t,n){return e>=bn(t,n)&&e<yn(t,n)}(t=vl(t),n,i)},zn.invoke=Ol,zn.isArguments=Vo,zn.isArray=qo,zn.isArrayBuffer=Wo,zn.isArrayLike=Ko,zn.isArrayLikeObject=Yo,zn.isBoolean=function(e){return!0===e||!1===e||nl(e)&&Ci(e)==m},zn.isBuffer=Xo,zn.isDate=Ho,zn.isElement=function(e){return nl(e)&&1===e.nodeType&&!al(e)},zn.isEmpty=function(e){if(null==e)return!0;if(Ko(e)&&(qo(e)||"string"==typeof e||"function"==typeof e.splice||Xo(e)||ul(e)||Vo(e)))return!e.length;var t=_a(e);if(t==w||t==C)return!e.size;if(Ea(e))return!Mi(e).length;for(var n in e)if(Pe.call(e,n))return!1;return!0},zn.isEqual=function(e,t){return Ai(e,t)},zn.isEqualWith=function(t,n,i){var r=(i="function"==typeof i?i:e)?i(t,n):e;return r===e?Ai(t,n,e,i):!!r},zn.isError=Go,zn.isFinite=function(e){return"number"==typeof e&&mn(e)},zn.isFunction=Jo,zn.isInteger=Qo,zn.isLength=el,zn.isMap=il,zn.isMatch=function(e,t){return e===t||Ri(e,t,da(t))},zn.isMatchWith=function(t,n,i){return i="function"==typeof i?i:e,Ri(t,n,da(n),i)},zn.isNaN=function(e){return rl(e)&&e!=+e},zn.isNative=function(e){if(ka(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Di(e)},zn.isNil=function(e){return null==e},zn.isNull=function(e){return null===e},zn.isNumber=rl,zn.isObject=tl,zn.isObjectLike=nl,zn.isPlainObject=al,zn.isRegExp=ol,zn.isSafeInteger=function(e){return Qo(e)&&e>=-9007199254740991&&e<=u},zn.isSet=ll,zn.isString=sl,zn.isSymbol=cl,zn.isTypedArray=ul,zn.isUndefined=function(t){return t===e},zn.isWeakMap=function(e){return nl(e)&&_a(e)==N},zn.isWeakSet=function(e){return nl(e)&&"[object WeakSet]"==Ci(e)},zn.join=function(e,t){return null==e?"":vn.call(e,t)},zn.kebabCase=ql,zn.last=Ha,zn.lastIndexOf=function(t,n,i){var r=null==t?0:t.length;if(!r)return-1;var a=r;return i!==e&&(a=(a=_l(i))<0?yn(r+a,0):bn(a,r-1)),n==n?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(t,n,a):Zt(t,zt,a,!0)},zn.lowerCase=Wl,zn.lowerFirst=Kl,zn.lt=dl,zn.lte=fl,zn.max=function(t){return t&&t.length?mi(t,rs,Ti):e},zn.maxBy=function(t,n){return t&&t.length?mi(t,ca(n,2),Ti):e},zn.mean=function(e){return Ut(e,rs)},zn.meanBy=function(e,t){return Ut(e,ca(t,2))},zn.min=function(t){return t&&t.length?mi(t,rs,Li):e},zn.minBy=function(t,n){return t&&t.length?mi(t,ca(n,2),Li):e},zn.stubArray=ms,zn.stubFalse=vs,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=ks,zn.nth=function(t,n){return t&&t.length?Vi(t,_l(n)):e},zn.noConflict=function(){return dt._===this&&(dt._=ze),this},zn.noop=cs,zn.now=To,zn.pad=function(e,t,n){e=yl(e);var i=(t=_l(t))?un(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return qr(Pt(r),n)+e+qr(mt(r),n)},zn.padEnd=function(e,t,n){e=yl(e);var i=(t=_l(t))?un(e):0;return t&&i<t?e+qr(t-i,n):e},zn.padStart=function(e,t,n){e=yl(e);var i=(t=_l(t))?un(e):0;return t&&i<t?qr(t-i,n)+e:e},zn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(yl(e).replace(ne,""),t||0)},zn.random=function(t,n,i){if(i&&"boolean"!=typeof i&&ba(t,n,i)&&(n=i=e),i===e&&("boolean"==typeof n?(i=n,n=e):"boolean"==typeof t&&(i=t,t=e)),t===e&&n===e?(t=0,n=1):(t=hl(t),n===e?(n=t,t=0):n=hl(n)),t>n){var r=t;t=n,n=r}if(i||t%1||n%1){var a=kn();return bn(t+a*(n-t+lt("1e-"+((a+"").length-1))),n)}return Xi(t,n)},zn.reduce=function(e,t,n){var i=qo(e)?At:qt,r=arguments.length<3;return i(e,ca(t,4),n,r,pi)},zn.reduceRight=function(e,t,n){var i=qo(e)?Rt:qt,r=arguments.length<3;return i(e,ca(t,4),n,r,hi)},zn.repeat=function(t,n,i){return n=(i?ba(t,n,i):n===e)?1:_l(n),Hi(yl(t),n)},zn.replace=function(){var e=arguments,t=yl(e[0]);return e.length<3?t:t.replace(e[1],e[2])},zn.result=function(t,n,i){var r=-1,a=(n=br(n,t)).length;for(a||(a=1,t=e);++r<a;){var o=null==t?e:t[Ma(n[r])];o===e&&(r=a,o=i),t=Jo(o)?o.call(t):o}return t},zn.round=Es,zn.runInContext=ie,zn.sample=function(e){return(qo(e)?Jn:Ji)(e)},zn.size=function(e){if(null==e)return 0;if(Ko(e))return sl(e)?un(e):e.length;var t=_a(e);return t==w||t==C?e.size:Mi(e).length},zn.snakeCase=Yl,zn.some=function(t,n,i){var r=qo(t)?Dt:ar;return i&&ba(t,n,i)&&(n=e),r(t,ca(n,3))},zn.sortedIndex=function(e,t){return or(e,t)},zn.sortedIndexBy=function(e,t,n){return lr(e,t,ca(n,2))},zn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=or(e,t);if(i<n&&zo(e[i],t))return i}return-1},zn.sortedLastIndex=function(e,t){return or(e,t,!0)},zn.sortedLastIndexBy=function(e,t,n){return lr(e,t,ca(n,2),!0)},zn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=or(e,t,!0)-1;if(zo(e[n],t))return n}return-1},zn.startCase=Xl,zn.startsWith=function(e,t,n){return e=yl(e),n=null==n?0:si(_l(n),0,e.length),t=ur(t),e.slice(n,n+t.length)==t},zn.subtract=Ss,zn.sum=function(e){return e&&e.length?Wt(e,rs):0},zn.sumBy=function(e,t){return e&&e.length?Wt(e,ca(t,2)):0},zn.template=function(t,n,i){var r=zn.templateSettings;i&&ba(t,n,i)&&(n=e),t=yl(t),n=xl({},n,r,Qr);var a,o,l=xl({},n.imports,r.imports,Qr),s=Il(l),c=Ht(l,s),u=0,d=n.interpolate||ge,f="__p += '",p=je((n.escape||ge).source+"|"+d.source+"|"+(d===H?ue:ge).source+"|"+(n.evaluate||ge).source+"|$","g"),h="//# sourceURL="+(Pe.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";t.replace(p,(function(e,n,i,r,l,s){return i||(i=r),f+=t.slice(u,s).replace(ye,nn),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),l&&(o=!0,f+="';\n"+l+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=s+e.length,e})),f+="';\n";var _=Pe.call(n,"variable")&&n.variable;if(_){if(se.test(_))throw new Ee("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(z,""):f).replace(U,"$1").replace(B,"$1;"),f="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Ql((function(){return Se(s,h+"return "+f).apply(e,c)}));if(m.source=f,Go(m))throw m;return m},zn.times=function(e,t){if((e=_l(e))<1||e>u)return[];var n=f,i=bn(e,f);t=ca(t),e-=f;for(var r=Kt(i,t);++n<e;)t(n);return r},zn.toFinite=hl,zn.toInteger=_l,zn.toLength=ml,zn.toLower=function(e){return yl(e).toLowerCase()},zn.toNumber=vl,zn.toSafeInteger=function(e){return e?si(_l(e),-9007199254740991,u):0===e?e:0},zn.toString=yl,zn.toUpper=function(e){return yl(e).toUpperCase()},zn.trim=function(t,n,i){if((t=yl(t))&&(i||n===e))return Yt(t);if(!t||!(n=ur(n)))return t;var r=dn(t),a=dn(n);return xr(r,Jt(r,a),Qt(r,a)+1).join("")},zn.trimEnd=function(t,n,i){if((t=yl(t))&&(i||n===e))return t.slice(0,fn(t)+1);if(!t||!(n=ur(n)))return t;var r=dn(t);return xr(r,0,Qt(r,dn(n))+1).join("")},zn.trimStart=function(t,n,i){if((t=yl(t))&&(i||n===e))return t.replace(ne,"");if(!t||!(n=ur(n)))return t;var r=dn(t);return xr(r,Jt(r,dn(n))).join("")},zn.truncate=function(t,n){var i=30,r="...";if(tl(n)){var a="separator"in n?n.separator:a;i="length"in n?_l(n.length):i,r="omission"in n?ur(n.omission):r}var o=(t=yl(t)).length;if(rn(t)){var l=dn(t);o=l.length}if(i>=o)return t;var s=i-un(r);if(s<1)return r;var c=l?xr(l,0,s).join(""):t.slice(0,s);if(a===e)return c+r;if(l&&(s+=c.length-s),ol(a)){if(t.slice(s).search(a)){var u,d=c;for(a.global||(a=je(a.source,yl(de.exec(a))+"g")),a.lastIndex=0;u=a.exec(d);)var f=u.index;c=c.slice(0,f===e?s:f)}}else if(t.indexOf(ur(a),s)!=s){var p=c.lastIndexOf(a);p>-1&&(c=c.slice(0,p))}return c+r},zn.unescape=function(e){return(e=yl(e))&&W.test(e)?e.replace(V,pn):e},zn.uniqueId=function(e){var t=++Me;return yl(e)+t},zn.upperCase=Hl,zn.upperFirst=Gl,zn.each=yo,zn.eachRight=bo,zn.first=Wa,ss(zn,(gs={},wi(zn,(function(e,t){Pe.call(zn.prototype,t)||(gs[t]=e)})),gs),{chain:!1}),zn.VERSION="4.17.21",St(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){zn[e].placeholder=zn})),St(["drop","take"],(function(t,n){qn.prototype[t]=function(i){i=i===e?1:yn(_l(i),0);var r=this.__filtered__&&!n?new qn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(i,r.__takeCount__):r.__views__.push({size:bn(i,f),type:t+(r.__dir__<0?"Right":"")}),r},qn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),St(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;qn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ca(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),St(["head","last"],(function(e,t){var n="take"+(t?"Right":"");qn.prototype[e]=function(){return this[n](1).value()[0]}})),St(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");qn.prototype[e]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(rs)},qn.prototype.find=function(e){return this.filter(e).head()},qn.prototype.findLast=function(e){return this.reverse().find(e)},qn.prototype.invokeMap=Gi((function(e,t){return"function"==typeof e?new qn(this):this.map((function(n){return Oi(n,e,t)}))})),qn.prototype.reject=function(e){return this.filter(Po(ca(e)))},qn.prototype.slice=function(t,n){t=_l(t);var i=this;return i.__filtered__&&(t>0||n<0)?new qn(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),n!==e&&(i=(n=_l(n))<0?i.dropRight(-n):i.take(n-t)),i)},qn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qn.prototype.toArray=function(){return this.take(f)},wi(qn.prototype,(function(t,n){var i=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),a=zn[r?"take"+("last"==n?"Right":""):n],o=r||/^find/.test(n);a&&(zn.prototype[n]=function(){var n=this.__wrapped__,l=r?[1]:arguments,s=n instanceof qn,c=l[0],u=s||qo(n),d=function(e){var t=a.apply(zn,It([e],l));return r&&f?t[0]:t};u&&i&&"function"==typeof c&&1!=c.length&&(s=u=!1);var f=this.__chain__,p=!!this.__actions__.length,h=o&&!f,_=s&&!p;if(!o&&u){n=_?n:new qn(this);var m=t.apply(n,l);return m.__actions__.push({func:ho,args:[d],thisArg:e}),new Vn(m,f)}return h&&_?t.apply(this,l):(m=this.thru(d),h?r?m.value()[0]:m.value():m)})})),St(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Oe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);zn.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(qo(r)?r:[],e)}return this[n]((function(n){return t.apply(qo(n)?n:[],e)}))}})),wi(qn.prototype,(function(e,t){var n=zn[t];if(n){var i=n.name+"";Pe.call(In,i)||(In[i]=[]),In[i].push({name:t,func:n})}})),In[zr(e,2).name]=[{name:"wrapper",func:e}],qn.prototype.clone=function(){var e=new qn(this.__wrapped__);return e.__actions__=$r(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=$r(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=$r(this.__views__),e},qn.prototype.reverse=function(){if(this.__filtered__){var e=new qn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=qo(e),i=t<0,r=n?e.length:0,a=function(e,t,n){for(var i=-1,r=n.length;++i<r;){var a=n[i],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=bn(t,e+o);break;case"takeRight":e=yn(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=a.start,l=a.end,s=l-o,c=i?l:o-1,u=this.__iteratees__,d=u.length,f=0,p=bn(s,this.__takeCount__);if(!n||!i&&r==s&&p==s)return _r(e,this.__actions__);var h=[];e:for(;s--&&f<p;){for(var _=-1,m=e[c+=t];++_<d;){var v=u[_],g=v.iteratee,y=v.type,b=g(m);if(2==y)m=b;else if(!b){if(1==y)continue e;break e}}h[f++]=m}return h},zn.prototype.at=_o,zn.prototype.chain=function(){return po(this)},zn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===e&&(this.__values__=pl(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},zn.prototype.plant=function(t){for(var n,i=this;i instanceof Bn;){var r=La(i);r.__index__=0,r.__values__=e,n?a.__wrapped__=r:n=r;var a=r;i=i.__wrapped__}return a.__wrapped__=t,n},zn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof qn){var n=t;return this.__actions__.length&&(n=new qn(this)),(n=n.reverse()).__actions__.push({func:ho,args:[eo],thisArg:e}),new Vn(n,this.__chain__)}return this.thru(eo)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return _r(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,ot&&(zn.prototype[ot]=function(){return this}),zn}();pt?((pt.exports=hn)._=hn,ft._=hn):dt._=hn}.call(vn);var xn=wn.exports,kn=gn(xn),En=e({__name:"select-dropdown",props:{value:{},disabled:{type:Boolean},choices:{},icon:{},allowNone:{type:Boolean},placeholder:{},allowOther:{type:Boolean}},emits:["input"],setup(e){const d=e,{t:f}=N(),p=t((()=>{var e;return null==(e=d.choices)?void 0:e.some((e=>e.icon))})),h=t((()=>{var e;return p.value?null==(e=d.choices)?void 0:e.map((e=>{var t;return e.icon||e.icon||e.color||(e.icon=null!=(t=d.icon)?t:null),e})):d.choices})),_=t((()=>!!d.icon&&(!p.value||!!xn.isEmpty(d.value))));return(e,t)=>{const d=n("v-notice"),p=n("v-icon"),m=n("v-select");return h.value?(i(),r(m,{key:1,"model-value":e.value,items:h.value,disabled:e.disabled,"show-deselect":e.allowNone,"item-icon":"icon","item-color":"color",placeholder:s(f)("select_an_item"),"allow-other":e.allowOther,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("input",t))},c({_:2},[_.value?{name:"prepend",fn:a((()=>[u(p,{name:e.icon},null,8,["name"])])),key:"0"}:void 0]),1032,["model-value","items","disabled","show-deselect","placeholder","allow-other"])):(i(),r(d,{key:0,type:"warning"},{default:a((()=>[o(l(s(f)("choices_option_configured_incorrectly")),1)])),_:1}))}}}),Sn=(e,t)=>{const n=e.__vccOpts||e;for(const[e,i]of t)n[e]=i;return n};var Cn={id:"dcb-dropdown-group",name:"Dropdown (Group)",description:"$t:interfaces.select-dropdown.description",icon:"arrow_drop_down_circle",component:Sn(En,[["__file","select-dropdown.vue"]]),types:["string","integer","float","decimal","bigInteger"],group:"selection",preview:'<svg\n   width="156"\n   height="96"\n   fill="none"\n   version="1.1"\n   id="svg7"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg">\n  <defs\n     id="defs7" />\n  <rect\n     x="18"\n     y="17.037001"\n     width="120"\n     height="62"\n     rx="6"\n     fill="var(--theme--background)"\n     id="rect1" />\n  <rect\n     x="19"\n     y="18.037001"\n     width="118"\n     height="60"\n     rx="5"\n     stroke="var(--theme--primary)"\n     stroke-opacity="0.25"\n     stroke-width="2"\n     id="rect2" />\n  <rect\n     x="28"\n     y="51"\n     width="40"\n     height="6"\n     rx="2"\n     fill="var(--theme--primary)"\n     fill-opacity="0.25"\n     id="rect3" />\n  <rect\n     x="28"\n     y="63"\n     width="60"\n     height="6"\n     rx="2"\n     fill="var(--theme--primary)"\n     fill-opacity="0.25"\n     id="rect4" />\n  <rect\n     x="18"\n     y="17"\n     width="120"\n     height="26"\n     rx="6"\n     fill="var(--theme--background)"\n     class="glow"\n     id="rect5" />\n  <rect\n     x="19"\n     y="18"\n     width="118"\n     height="24"\n     rx="5"\n     stroke="var(--theme--primary)"\n     stroke-width="2"\n     id="rect6" />\n  <rect\n     x="28"\n     y="27"\n     width="70"\n     height="6"\n     rx="2"\n     fill="var(--theme--primary)"\n     fill-opacity="0.25"\n     id="rect7" />\n  <path\n     d="m 120.966,28 a 0.4,0.4 0 0 0 -0.283,0.683 l 3.034,3.034 a 0.4,0.4 0 0 0 0.566,0 l 3.034,-3.034 A 0.4,0.4 0 0 0 127.034,28 Z"\n     fill="var(--theme--primary)"\n     id="path7" />\n  <path\n     fill="var(--theme--primary)"\n     d="m 103.41048,80.407 v -1.787109 h 4.10157 V 82.282 q -1.17774,0.802735 -2.08594,1.095704 -0.90235,0.287109 -2.14453,0.287109 -1.5293,0 -2.4961,-0.521484 Q 99.824547,82.621844 99.291343,81.590594 98.764,80.559344 98.764,79.223407 q 0,-1.40625 0.580078,-2.44336 0.580078,-1.042968 1.699222,-1.582031 0.87304,-0.416016 2.34961,-0.416016 1.42382,0 2.12695,0.257813 0.70898,0.257812 1.17187,0.802734 0.46875,0.539063 0.70313,1.371094 l -2.56055,0.457031 q -0.1582,-0.486328 -0.53906,-0.74414 -0.375,-0.257813 -0.96094,-0.257813 -0.87305,0 -1.39453,0.609375 -0.51562,0.603516 -0.51562,1.916016 0,1.394531 0.52148,1.992187 0.52734,0.597657 1.46484,0.597657 0.44532,0 0.84961,-0.128907 0.4043,-0.128906 0.92578,-0.439453 V 80.407 Z m 5.71289,3.111329 v -8.589844 h 4.42383 q 1.23047,0 1.88086,0.210937 0.65039,0.210938 1.04883,0.785157 0.39844,0.568359 0.39844,1.388671 0,0.714844 -0.30469,1.236329 -0.30469,0.515625 -0.83789,0.83789 -0.33984,0.205078 -0.93164,0.339844 0.47461,0.158203 0.6914,0.316406 0.14649,0.105469 0.42188,0.451172 0.28125,0.345703 0.375,0.533203 l 1.2832,2.490235 h -3 l -1.41797,-2.625 q -0.26953,-0.509766 -0.48046,-0.66211 Q 112.38705,80.032 112.02376,80.032 h -0.23437 v 3.486329 z m 2.66602,-5.109375 h 1.11914 q 0.18164,0 0.70313,-0.117188 0.26367,-0.05273 0.42773,-0.269531 0.16992,-0.216797 0.16992,-0.498047 0,-0.416016 -0.26367,-0.638672 -0.26367,-0.222656 -0.99023,-0.222656 h -1.16602 z m 6.09375,0.820312 q 0,-2.103516 1.17187,-3.275391 1.17188,-1.171875 3.26368,-1.171875 2.14453,0 3.30468,1.154297 1.16016,1.148438 1.16016,3.222657 0,1.505859 -0.50977,2.472656 -0.5039,0.960937 -1.46484,1.5 -0.95508,0.533203 -2.38476,0.533203 -1.45313,0 -2.40821,-0.462891 -0.94922,-0.46289 -1.54101,-1.464843 -0.5918,-1.001954 -0.5918,-2.507813 z m 2.6543,0.01172 q 0,1.300781 0.48047,1.86914 0.48632,0.56836 1.31835,0.56836 0.85547,0 1.32422,-0.556641 0.46875,-0.55664 0.46875,-1.998047 0,-1.21289 -0.49218,-1.769531 -0.48633,-0.5625 -1.32422,-0.5625 -0.80274,0 -1.28907,0.568359 -0.48632,0.56836 -0.48632,1.88086 z m 13.26562,-4.3125 h 2.64844 v 5.121094 q 0,0.761718 -0.24024,1.441406 -0.23437,0.673828 -0.74414,1.183594 -0.5039,0.503906 -1.06054,0.708984 -0.77344,0.287109 -1.85742,0.287109 -0.62696,0 -1.3711,-0.08789 -0.73828,-0.08789 -1.23633,-0.345703 -0.49804,-0.263672 -0.91406,-0.744141 -0.41016,-0.480469 -0.5625,-0.990234 -0.24609,-0.820313 -0.24609,-1.453125 v -5.121095 h 2.64843 v 5.24414 q 0,0.703125 0.38672,1.101563 0.39258,0.392578 1.08399,0.392578 0.68554,0 1.07226,-0.386719 0.39258,-0.392578 0.39258,-1.107422 z m 4.39453,0 h 4.41211 q 1.44141,0 2.15625,0.685547 0.72071,0.685547 0.72071,1.951172 0,1.300781 -0.78516,2.033203 -0.7793,0.732422 -2.38477,0.732422 h -1.45312 v 3.1875 h -2.66602 z m 2.66602,3.662109 h 0.65039 q 0.76758,0 1.07812,-0.263672 0.31055,-0.269531 0.31055,-0.685547 0,-0.404296 -0.26953,-0.685546 -0.26953,-0.28125 -1.01367,-0.28125 h -0.75586 z"\n     id="text1"\n     aria-label="GROUP" />\n</svg>',options:({field:e})=>[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{placeholder:"$t:interfaces.select-dropdown.choices_placeholder",template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{interface:"system-input-translated-string",required:!0,width:"half",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:e.type,name:"$t:value",meta:{interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_value_placeholder"},required:!0,width:"half"}},{field:"icon",name:"$t:icon",type:"string",meta:{interface:"select-icon",width:"half"}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"max_level",name:"Max Level",type:"integer",meta:{interface:"input",width:"half",options:{min:0},required:!0}}]}}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"allowNone",name:"$t:interfaces.select-dropdown.allow_none",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_none_label"}},schema:{default_value:!1}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}}],recommendedDisplays:["labels"]},Tn={table:"directus_collections",defaults:{collection:null,hidden:!1,singleton:!1,icon:null,note:null,translations:null,display_template:null,accountability:"all"},data:[{collection:"directus_activity",note:"$t:directus_collection.directus_activity",accountability:null},{collection:"directus_collections",icon:"database",note:"$t:directus_collection.directus_collections"},{collection:"directus_fields",icon:"input",note:"$t:directus_collection.directus_fields"},{collection:"directus_files",icon:"folder",note:"$t:directus_collection.directus_files",display_template:"{{ $thumbnail }} {{ title }}"},{collection:"directus_folders",note:"$t:directus_collection.directus_folders",display_template:"{{ name }}"},{collection:"directus_migrations",note:"$t:directus_collection.directus_migrations"},{collection:"directus_permissions",icon:"admin_panel_settings",note:"$t:directus_collection.directus_permissions"},{collection:"directus_presets",icon:"bookmark",note:"$t:directus_collection.directus_presets",accountability:null},{collection:"directus_relations",icon:"merge_type",note:"$t:directus_collection.directus_relations"},{collection:"directus_revisions",note:"$t:directus_collection.directus_revisions",accountability:null},{collection:"directus_roles",icon:"supervised_user_circle",note:"$t:directus_collection.directus_roles"},{collection:"directus_sessions",note:"$t:directus_collection.directus_sessions"},{collection:"directus_settings",singleton:!0,note:"$t:directus_collection.directus_settings"},{collection:"directus_users",archive_field:"status",archive_value:"archived",unarchive_value:"draft",icon:"people_alt",note:"$t:directus_collection.directus_users",display_template:"{{ first_name }} {{ last_name }}"},{collection:"directus_webhooks",note:"$t:directus_collection.directus_webhooks"},{collection:"directus_dashboards",note:"$t:directus_collection.directus_dashboards"},{collection:"directus_panels",note:"$t:directus_collection.directus_panels"},{collection:"directus_notifications",note:"$t:directus_collection.directus_notifications"},{collection:"directus_shares",icon:"share",note:"$t:directus_collection.directus_shares"},{collection:"directus_flows",note:"$t:directus_collection.directus_flows"},{collection:"directus_operations",note:"$t:directus_collection.directus_operations"},{collection:"directus_translations",note:"$t:directus_collection.directus_translations"},{collection:"directus_versions",note:"$t:directus_collection.directus_versions"},{collection:"directus_extensions",note:"$t:directus_collection.directus_extensions"}]};Tn.data.map((e=>({...Tn.defaults,...e,system:!0})));var jn=Tn.data.map((e=>e.collection));function Nn(e){return jn.includes(e)}var $n={table:"directus_relations",defaults:{many_collection:"directus_users",many_field:null,one_collection:null,one_field:null,one_allowed_collections:null,one_collection_field:null,one_deselect_action:"nullify",junction_field:null,sort_field:null},data:[{many_collection:"directus_collections",many_field:"group",one_collection:"directus_collections"},{many_collection:"directus_users",many_field:"role",one_collection:"directus_roles",one_field:"users"},{many_collection:"directus_users",many_field:"avatar",one_collection:"directus_files"},{many_collection:"directus_revisions",many_field:"activity",one_collection:"directus_activity",one_field:"revisions"},{many_collection:"directus_revisions",many_field:"parent",one_collection:"directus_revisions"},{many_collection:"directus_revisions",many_field:"version",one_collection:"directus_versions"},{many_collection:"directus_presets",many_field:"user",one_collection:"directus_users"},{many_collection:"directus_presets",many_field:"role",one_collection:"directus_roles"},{many_collection:"directus_folders",many_field:"parent",one_collection:"directus_folders"},{many_collection:"directus_files",many_field:"folder",one_collection:"directus_folders"},{many_collection:"directus_files",many_field:"uploaded_by",one_collection:"directus_users"},{many_collection:"directus_files",many_field:"modified_by",one_collection:"directus_users"},{many_collection:"directus_fields",many_field:"collection",one_collection:"directus_collections",one_field:"fields"},{many_collection:"directus_fields",many_field:"group",one_collection:"directus_fields"},{many_collection:"directus_activity",many_field:"user",one_collection:"directus_users"},{many_collection:"directus_settings",many_field:"project_logo",one_collection:"directus_files"},{many_collection:"directus_settings",many_field:"public_foreground",one_collection:"directus_files"},{many_collection:"directus_settings",many_field:"public_background",one_collection:"directus_files"},{many_collection:"directus_settings",many_field:"public_favicon",one_collection:"directus_files"},{many_collection:"directus_settings",many_field:"storage_default_folder",one_collection:"directus_folders"},{many_collection:"directus_settings",many_field:"public_registration_role",one_collection:"directus_roles"},{many_collection:"directus_panels",many_field:"dashboard",one_collection:"directus_dashboards",one_field:"panels"},{many_collection:"directus_panels",many_field:"user_created",one_collection:"directus_users"},{many_collection:"directus_flows",many_field:"operation",one_collection:"directus_operations"},{many_collection:"directus_flows",many_field:"user_created",one_collection:"directus_users"},{many_collection:"directus_operations",many_field:"flow",one_collection:"directus_flows",one_field:"operations",one_deselect_action:"delete"},{many_collection:"directus_operations",many_field:"resolve",one_collection:"directus_operations"},{many_collection:"directus_operations",many_field:"reject",one_collection:"directus_operations"},{many_collection:"directus_operations",many_field:"user_created",one_collection:"directus_users"},{many_collection:"directus_permissions",many_field:"role",one_collection:"directus_roles"},{many_collection:"directus_sessions",many_field:"user",one_collection:"directus_users"},{many_collection:"directus_sessions",many_field:"share",one_collection:"directus_shares"},{many_collection:"directus_dashboards",many_field:"user_created",one_collection:"directus_users"},{many_collection:"directus_notifications",many_field:"recipient",one_collection:"directus_users"},{many_collection:"directus_notifications",many_field:"sender",one_collection:"directus_users"},{many_collection:"directus_shares",many_field:"role",one_collection:"directus_roles"},{many_collection:"directus_shares",many_field:"collection",one_collection:"directus_collections"},{many_collection:"directus_shares",many_field:"user_created",one_collection:"directus_users"},{many_collection:"directus_versions",many_field:"collection",one_collection:"directus_collections"},{many_collection:"directus_versions",many_field:"user_created",one_collection:"directus_users"},{many_collection:"directus_versions",many_field:"user_updated",one_collection:"directus_users"},{many_collection:"directus_webhooks",many_field:"migrated_flow",one_collection:"directus_flows"}]};$n.data.map((e=>({...$n.defaults,...e,system:!0})));var On={collection:null,field:null,special:null,interface:null,options:null,display:null,display_options:null,readonly:!1,hidden:!1,sort:null,width:"full",group:null,translations:null,note:null,conditions:null,required:!1},In={table:"directus_settings",fields:[{field:"id",hidden:!0},{field:"project_name",interface:"input",options:{iconRight:"title",placeholder:"$t:field_options.directus_settings.project_name_placeholder"},width:"half"},{field:"project_descriptor",interface:"input",options:{iconRight:"title",placeholder:"$t:field_options.directus_settings.project_name_placeholder"},width:"half"},{field:"project_url",interface:"input",options:{iconRight:"link",placeholder:"https://example.com"},width:"half"},{field:"default_language",interface:"system-language",options:{iconRight:"language",placeholder:"en-US"},width:"half"},{field:"theming_group",interface:"group-raw",special:["alias","no-data","group"]},{field:"branding_divider",interface:"presentation-divider",options:{icon:"palette",title:"$t:fields.directus_settings.branding"},special:["alias","no-data"],width:"full",group:"theming_group"},{field:"project_color",interface:"select-color",note:"$t:field_options.directus_settings.project_color_note",width:"half",group:"theming_group"},{field:"project_logo",interface:"file",note:"$t:field_options.directus_settings.project_logo_note",width:"half",group:"theming_group"},{field:"public_foreground",interface:"file",width:"half",group:"theming_group"},{field:"public_background",interface:"file",width:"half",group:"theming_group"},{field:"public_favicon",interface:"file",note:"$t:field_options.directus_settings.project_favicon_note",width:"half",group:"theming_group"},{field:"public_note",interface:"input",options:{placeholder:"$t:field_options.directus_settings.public_note_placeholder",iconRight:"info"},width:"half",group:"theming_group"},{field:"theming_divider",interface:"presentation-divider",options:{icon:"palette",title:"$t:fields.directus_settings.theming"},special:["alias","no-data"],width:"full",group:"theming_group"},{field:"default_appearance",interface:"select-dropdown",width:"half",options:{choices:[{value:"auto",text:"$t:appearance_auto"},{value:"light",text:"$t:appearance_light"},{value:"dark",text:"$t:appearance_dark"}]},group:"theming_group"},{field:"default_theme_light",width:"full",interface:"system-theme",options:{appearance:"light"},group:"theming_group"},{field:"theme_light_overrides",width:"full",interface:"system-theme-overrides",options:{appearance:"light"},group:"theming_group",special:["cast-json"]},{field:"default_theme_dark",width:"full",interface:"system-theme",options:{appearance:"dark"},group:"theming_group"},{field:"theme_dark_overrides",width:"full",interface:"system-theme-overrides",options:{appearance:"dark"},group:"theming_group",special:["cast-json"]},{field:"custom_css",interface:"input-code",options:{language:"css",lineNumber:!0,template:"#app, #main-content, body {\n  --v-button-background-color: #6644FF !important;\n  --v-button-background-color-hover: #5E41EC !important;\n}\n"},width:"full",group:"theming_group"},{field:"modules_divider",interface:"presentation-divider",options:{icon:"menu_open",title:"$t:modules"},special:["alias","no-data"],width:"full"},{field:"module_bar",interface:"system-modules",special:["cast-json"]},{field:"security_divider",interface:"presentation-divider",options:{icon:"shield",title:"$t:security"},special:["alias","no-data"],width:"full"},{field:"auth_password_policy",interface:"select-dropdown",options:{choices:[{value:null,text:"$t:field_options.directus_settings.auth_password_policy.none_text"},{value:"/^.{8,}$/",text:"$t:field_options.directus_settings.auth_password_policy.weak_text"},{value:"/(?=^.{8,}$)(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()_+}{';'?>.<,])(?!.*\\s).*$/",text:"$t:field_options.directus_settings.auth_password_policy.strong_text"}],allowOther:!0},width:"half"},{field:"auth_login_attempts",interface:"input",options:{iconRight:"lock",placeholder:"$t:unlimited"},width:"half"},{field:"public_registration_divider",interface:"presentation-divider",options:{icon:"person_add",title:"$t:fields.directus_settings.public_registration"},special:["alias","no-data"],width:"full"},{field:"public_registration",interface:"boolean",note:"$t:fields.directus_settings.public_registration_note",width:"half",options:{label:"$t:enabled"},special:["cast-boolean"]},{field:"public_registration_role",interface:"select-dropdown-m2o",note:"$t:fields.directus_settings.public_registration_role_note",options:{template:"{{ name }}",filter:{admin_access:{_eq:!1}}},special:["m2o"],width:"half",display:"related-values",display_options:{template:"{{ name }}"}},{field:"public_registration_verify_email",interface:"boolean",note:"$t:fields.directus_settings.public_registration_verify_email_note",width:"half",options:{label:"$t:enabled"},special:["cast-boolean"]},{field:"public_registration_email_filter",interface:"system-filter",note:"$t:fields.directus_settings.public_registration_email_filter_note",options:{collectionName:"directus_users",collectionField:"email",fieldName:"email"},special:["cast-json"],width:"half"},{field:"files_divider",interface:"presentation-divider",options:{icon:"folder",title:"$t:fields.directus_settings.files_and_thumbnails"},special:["alias","no-data"],width:"full"},{field:"storage_asset_transform",interface:"select-dropdown",options:{choices:[{value:"all",text:"$t:fields.directus_settings.transformations_all"},{value:"none",text:"$t:fields.directus_settings.transformations_none"},{value:"presets",text:"$t:fields.directus_settings.transformations_presets"}]},width:"half"},{field:"storage_default_folder",interface:"system-folder",width:"half",note:"$t:interfaces.system-folder.field_hint"},{field:"storage_asset_presets",interface:"list",options:{fields:[{field:"key",name:"$t:key",type:"string",schema:{is_nullable:!1},meta:{interface:"input",options:{slug:!0,onlyOnCreate:!1},width:"full",required:!0}},{field:"fit",name:"$t:field_options.directus_settings.storage_asset_presets.fit_label",type:"string",schema:{is_nullable:!1},meta:{interface:"select-dropdown",options:{choices:[{value:"contain",text:"$t:field_options.directus_settings.storage_asset_presets.fit.contain_text"},{value:"cover",text:"$t:field_options.directus_settings.storage_asset_presets.fit.cover_text"},{value:"inside",text:"$t:field_options.directus_settings.storage_asset_presets.fit.fit_text"},{value:"outside",text:"$t:field_options.directus_settings.storage_asset_presets.fit.outside_text"}]},width:"half"}},{field:"width",name:"$t:width",type:"integer",schema:{is_nullable:!1},meta:{interface:"input",width:"half"}},{field:"height",name:"$t:height",type:"integer",schema:{is_nullable:!1},meta:{interface:"input",width:"half"}},{field:"quality",type:"integer",name:"$t:quality",schema:{default_value:80,is_nullable:!1},meta:{interface:"slider",options:{max:100,min:0,step:1},width:"half"}},{field:"withoutEnlargement",name:"$t:field_options.directus_settings.storage_asset_presets.upscaling",type:"boolean",schema:{default_value:!1},meta:{interface:"boolean",width:"half",options:{label:"$t:no_upscale"}}},{field:"format",name:"$t:format",type:"string",schema:{is_nullable:!1,default_value:""},meta:{interface:"select-dropdown",options:{allowNone:!0,choices:[{value:"auto",text:"Auto"},{value:"jpeg",text:"JPEG"},{value:"png",text:"PNG"},{value:"webp",text:"WebP"},{value:"tiff",text:"Tiff"},{value:"avif",text:"AVIF"}]},width:"half"}},{field:"transforms",name:"$t:field_options.directus_settings.additional_transforms",type:"json",schema:{is_nullable:!1,default_value:[]},meta:{note:"$t:field_options.directus_settings.transforms_note",interface:"json",options:{template:'[\n  ["blur", 45],\n  ["grayscale"],\n  ["extend", { "right": 500, "background": "rgb(255, 0, 0)" }]\n]\n',placeholder:'[\n  ["blur", 45],\n  ["grayscale"],\n  ["extend", { "right": 500, "background": "rgb(255, 0, 0)" }]\n]\n'},width:"full"}}],template:"{{key}}"},special:["cast-json"],width:"full"},{field:"reporting_divider",interface:"presentation-divider",options:{icon:"feedback",title:"$t:fields.directus_settings.reporting"},special:["alias","no-data"],width:"full"},{field:"report_feature_url",interface:"input",options:{iconRight:"link",placeholder:"https://example.com/feature"},width:"half"},{field:"report_bug_url",interface:"input",options:{iconRight:"link",placeholder:"https://example.com/bug"},width:"half"},{field:"report_error_url",interface:"system-display-template",options:{placeholder:"https://example.com/error",fields:[{name:"Error",field:"error",key:"error",path:"error",children:[{name:"Name",field:"name",key:"error.name",path:"error.name"},{name:"Message",field:"message",key:"error.message",path:"error.message"}]},{name:"Navigator",field:"navigator",key:"navigator",path:"navigator",children:[{name:"Language",field:"language",key:"navigator.language",path:"navigator.language"},{name:"User Agent",field:"userAgent",key:"navigator.userAgent",path:"navigator.userAgent"}]},{name:"Route",field:"route",key:"route",path:"route",children:[{name:"Full Path",field:"fullPath",key:"route.fullPath",path:"route.fullPath"},{name:"Hash",field:"hash",key:"route.hash",path:"route.hash"},{name:"Name",field:"name",key:"route.name",path:"route.name"},{name:"Path",field:"path",key:"route.path",path:"route.path"},{name:"Query",field:"query",key:"route.query",path:"route.query"}]},{name:"User",field:"user",key:"user",path:"user",children:[{name:"ID",field:"id",key:"user.id",path:"user.id"},{name:"First Name",field:"first_name",key:"user.first_name",path:"user.first_name"},{name:"Last Name",field:"last_name",key:"user.last_name",path:"user.last_name"},{name:"Status",field:"status",key:"user.status",path:"user.status"},{name:"Title",field:"title",key:"user.title",path:"user.title"},{name:"Description",field:"description",key:"user.description",path:"user.description"},{name:"Location",field:"location",key:"user.location",path:"user.location"}]},{name:"Role",field:"role",key:"role",path:"role",children:[{name:"ID",field:"id",key:"role.id",path:"role.id"},{name:"Name",field:"name",key:"role.name",path:"role.name"}]}]},width:"full"},{field:"map_divider",interface:"presentation-divider",options:{icon:"map",title:"$t:fields.directus_settings.mapping"},special:["alias","no-data"],width:"full"},{field:"mapbox_key",interface:"input",options:{icon:"key",title:"$t:field_options.directus_settings.mapbox_key",placeholder:"$t:field_options.directus_settings.mapbox_placeholder",iconLeft:"vpn_key",font:"monospace"},width:"full"},{field:"basemaps",interface:"list",special:["cast-json"],options:{template:"{{name}}",fields:[{field:"name",name:"$t:name",schema:{is_nullable:!1},meta:{interface:"text-input",required:!0,options:{placeholder:"$t:field_options.directus_settings.basemaps_name_placeholder"}}},{field:"type",name:"$t:type",meta:{interface:"select-dropdown",options:{choices:[{value:"raster",text:"$t:field_options.directus_settings.basemaps_raster"},{value:"tile",text:"$t:field_options.directus_settings.basemaps_tile"},{value:"style",text:"$t:field_options.directus_settings.basemaps_style"}]}}},{field:"url",name:"$t:url",schema:{is_nullable:!1},meta:{interface:"text-input",options:{placeholder:"http://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"}}},{field:"tileSize",name:"$t:tile_size",type:"integer",schema:{is_nullable:!0},meta:{interface:"input",options:{placeholder:"512"},conditions:[{name:"typeNeqRaster",rule:{type:{_neq:"raster"}},hidden:!0}]}},{field:"attribution",name:"$t:fields.directus_settings.attribution",type:"string",schema:{is_nullable:!0},meta:{interface:"input",options:{placeholder:"$t:fields.directus_settings.attribution_placeholder"}}}]}},{field:"image_editor",interface:"presentation-divider",options:{icon:"image",title:"$t:fields.directus_settings.image_editor"},special:["alias","no-data"],width:"full"},{field:"custom_aspect_ratios",interface:"list",special:["cast-json"],options:{template:"{{text}}",fields:[{field:"text",name:"$t:text",type:"string",meta:{interface:"text-input",width:"half",required:!0,options:{placeholder:"$t:text"}}},{field:"value",name:"$t:value",type:"float",meta:{interface:"input",width:"half",required:!0,options:{placeholder:"$t:value"}}}]}}]},An=[];function Rn(e){let{fields:t,table:n}=e;t.forEach(((e,t)=>{An.push({system:!0,...On,...e,collection:n,sort:t+1})}))}Rn({table:"directus_activity",fields:[{field:"id",width:"half"},{field:"item",width:"half"},{field:"action",display:"labels",display_options:{choices:[{text:"$t:field_options.directus_activity.create",value:"create",foreground:"var(--theme--primary)",background:"var(--theme--primary-subdued)"},{text:"$t:field_options.directus_activity.update",value:"update",foreground:"var(--blue)",background:"var(--blue-25)"},{text:"$t:field_options.directus_activity.delete",value:"delete",foreground:"var(--theme--danger)",background:"var(--danger-25)"},{text:"$t:field_options.directus_activity.login",value:"login",foreground:"var(--purple)",background:"var(--purple-25)"}]},width:"half"},{field:"collection",display:"collection",display_options:{icon:!0},width:"half"},{field:"timestamp",display:"datetime",special:["date-created","cast-timestamp"],options:{relative:!0},width:"half"},{field:"user",display:"user",width:"half"},{field:"comment",display:"formatted-value",display_options:{color:"var(--theme--foreground-subdued)"},width:"half"},{field:"user_agent",display:"formatted-value",display_options:{font:"monospace"},width:"half"},{field:"origin",display:"formatted-value",display_options:{font:"monospace"},width:"half"},{field:"ip",display:"formatted-value",display_options:{font:"monospace"},width:"half"},{field:"revisions",interface:"list-o2m",special:["o2m"],options:{fields:["collection","item"]},width:"half"}]}),Rn({table:"directus_collections",fields:[{field:"collection_divider",special:["alias","no-data"],interface:"presentation-divider",options:{icon:"box",title:"$t:field_options.directus_collections.collection_setup"},width:"full"},{field:"collection",interface:"input",options:{font:"monospace"},readonly:!0,width:"half"},{field:"note",interface:"input",options:{placeholder:"$t:field_options.directus_collections.note_placeholder"},width:"half"},{field:"icon",interface:"select-icon",options:null,width:"half"},{field:"color",interface:"select-color",options:{placeholder:"$t:interfaces.select-color.placeholder"},width:"half"},{field:"display_template",interface:"system-display-template",options:{collectionField:"collection"},width:"full"},{field:"hidden",special:["cast-boolean"],interface:"boolean",options:{label:"$t:field_options.directus_collections.hidden_label"},width:"half"},{field:"singleton",special:["cast-boolean"],interface:"boolean",options:{label:"$t:singleton_label"},width:"half"},{field:"translations",special:["cast-json"],interface:"list",options:{template:"{{ translation }} ({{ language }})",fields:[{field:"language",name:"$t:language",type:"string",schema:{default_value:"en-US"},meta:{interface:"system-language",width:"half",required:!0}},{field:"translation",name:"$t:field_options.directus_collections.collection_name",type:"string",meta:{interface:"input",width:"half",required:!0,options:{placeholder:"$t:field_options.directus_collections.translation_placeholder"}}},{field:"singular",name:"$t:field_options.directus_collections.singular_unit",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:field_options.directus_collections.translation_placeholder"}}},{field:"plural",name:"$t:field_options.directus_collections.plural_unit",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:field_options.directus_collections.translation_placeholder"}}}]},width:"full"},{field:"preview_divider",special:["alias","no-data"],interface:"presentation-divider",options:{icon:"preview",title:"$t:field_options.directus_collections.preview_divider"},width:"full"},{field:"preview_url",interface:"system-display-template",options:{collectionField:"collection",injectVersionField:!0},width:"full"},{field:"content_versioning_divider",special:["alias","no-data"],interface:"presentation-divider",options:{icon:"published_with_changes",title:"$t:field_options.directus_collections.content_versioning_divider"},width:"full"},{field:"versioning",interface:"boolean",special:["cast-boolean"],options:{label:"$t:field_options.directus_collections.enable_versioning"},width:"half"},{field:"archive_divider",special:["alias","no-data"],interface:"presentation-divider",options:{icon:"archive",title:"$t:field_options.directus_collections.archive_divider"},width:"full"},{field:"archive_field",interface:"system-field",options:{collectionField:"collection",allowNone:!0,placeholder:"$t:field_options.directus_collections.archive_field_placeholder"},width:"half"},{field:"archive_app_filter",interface:"boolean",special:["cast-boolean"],options:{label:"$t:field_options.directus_collections.archive_app_filter"},width:"half"},{field:"archive_value",interface:"input",options:{font:"monospace",iconRight:"archive",placeholder:"$t:field_options.directus_collections.archive_value"},width:"half"},{field:"unarchive_value",interface:"input",options:{font:"monospace",iconRight:"unarchive",placeholder:"$t:field_options.directus_collections.unarchive_value"},width:"half"},{field:"sort_divider",special:["alias","no-data"],interface:"presentation-divider",options:{icon:"sort",title:"$t:field_options.directus_collections.sort_divider"},width:"full"},{field:"sort_field",interface:"system-field",options:{collectionField:"collection",placeholder:"$t:field_options.directus_collections.sort_field",typeAllowList:["float","decimal","integer"],allowNone:!0,allowPrimaryKey:!1,allowForeignKeys:!1},width:"half"},{field:"accountability_divider",special:["alias","no-data"],interface:"presentation-divider",options:{icon:"admin_panel_settings",title:"$t:field_options.directus_collections.accountability_divider"},width:"full"},{field:"accountability",interface:"select-dropdown",options:{choices:[{text:"$t:field_options.directus_collections.track_activity_revisions",value:"all"},{text:"$t:field_options.directus_collections.only_track_activity",value:"activity"},{text:"$t:field_options.directus_collections.do_not_track_anything",value:null}]},width:"half"},{field:"duplication_divider",special:["alias","no-data"],interface:"presentation-divider",options:{icon:"content_copy",title:"$t:field_options.directus_collections.duplication_divider"}},{field:"item_duplication_fields",special:["cast-json"],interface:"system-field-tree",options:{collectionField:"collection"}},{field:"sort",hidden:!0},{field:"group",hidden:!0},{field:"collapse",hidden:!0}]}),Rn({table:"directus_fields",fields:[{collection:"directus_fields",field:"id",width:"half"},{collection:"directus_fields",field:"collection",width:"half"},{collection:"directus_fields",field:"field",width:"half"},{collection:"directus_fields",field:"special",hidden:!0,special:["cast-csv"],width:"half"},{collection:"directus_fields",field:"interface",width:"half"},{collection:"directus_fields",field:"options",hidden:!0,special:["cast-json"],width:"half"},{collection:"directus_fields",field:"display",width:"half"},{collection:"directus_fields",field:"display_options",hidden:!0,special:["cast-json"],width:"half"},{collection:"directus_fields",field:"readonly",hidden:!0,special:["cast-boolean"],width:"half"},{collection:"directus_fields",field:"hidden",hidden:!0,special:["cast-boolean"],width:"half"},{collection:"directus_fields",field:"required",hidden:!0,special:["cast-boolean"],width:"half"},{collection:"directus_fields",field:"sort",width:"half"},{collection:"directus_fields",field:"width",width:"half"},{collection:"directus_fields",field:"group",width:"half"},{collection:"directus_fields",field:"translations",hidden:!0,special:["cast-json"],width:"half"},{collection:"directus_fields",field:"note",width:"half"},{collection:"directus_fields",field:"conditions",hidden:!0,special:["cast-json"]},{collection:"directus_fields",field:"validation",hidden:!0,special:["cast-json"]},{collection:"directus_fields",field:"validation_message",hidden:!0}]}),Rn({table:"directus_files",fields:[{field:"id",hidden:!0,interface:"input",special:["uuid"]},{field:"title",interface:"input",options:{iconRight:"title",placeholder:"$t:field_options.directus_files.title"},width:"full"},{field:"description",interface:"input-multiline",width:"full",options:{placeholder:"$t:field_options.directus_files.description"}},{field:"tags",interface:"tags",options:{iconRight:"local_offer"},special:["cast-json"],width:"full",display:"labels",display_options:{choices:null,format:!1}},{field:"location",interface:"input",options:{iconRight:"place",placeholder:"$t:field_options.directus_files.location"},width:"half"},{field:"storage",interface:"input",options:{iconRight:"storage"},width:"half",readonly:!0},{field:"focal_point_divider",interface:"presentation-divider",options:{icon:"image_search",title:"$t:field_options.directus_files.focal_point_divider"},special:["alias","no-data"],width:"full"},{field:"focal_point_x",width:"half"},{field:"focal_point_y",width:"half"},{field:"storage_divider",interface:"presentation-divider",options:{icon:"insert_drive_file",title:"$t:field_options.directus_files.storage_divider"},special:["alias","no-data"],width:"full"},{field:"filename_disk",interface:"input",options:{iconRight:"publish",placeholder:"$t:field_options.directus_files.filename_disk"},readonly:!0,width:"half"},{field:"filename_download",interface:"input",options:{iconRight:"get_app",placeholder:"$t:field_options.directus_files.filename_download"},width:"half"},{field:"metadata",hidden:!0,special:["cast-json"]},{field:"type",display:"mime-type",readonly:!0},{field:"filesize",display:"filesize",readonly:!0},{field:"modified_by",interface:"select-dropdown-m2o",special:["user-updated"],width:"half",display:"user",readonly:!0,options:{template:"{{avatar.$thumbnail}} {{first_name}} {{last_name}}"}},{field:"modified_on",interface:"datetime",special:["date-updated"],width:"half",display:"datetime",readonly:!0},{field:"embed",width:"half",hidden:!0},{field:"uploaded_by",display:"user",width:"half",hidden:!0,special:["user-created"]},{field:"uploaded_on",display:"datetime",width:"half",hidden:!0,special:["date-created"]},{field:"folder",width:"half",readonly:!0,special:["m2o"],display:"related-values",display_options:{template:"{{ name }}"}},{field:"width",width:"half",readonly:!0},{field:"height",width:"half",readonly:!0},{field:"charset",width:"half",readonly:!0},{field:"duration",width:"half",readonly:!0},{field:"tus_id",width:"half",hidden:!0},{field:"tus_data",width:"half",hidden:!0,special:["cast-json"]}]}),Rn({table:"directus_folders",fields:[{field:"id",interface:"input",special:["uuid"],width:"half"},{field:"parent",width:"half"},{field:"name",width:"full"}]}),Rn({table:"directus_migrations",fields:[{collection:"directus_migrations",field:"version"},{collection:"directus_migrations",field:"name"},{collection:"directus_migrations",field:"timestamp"}]}),Rn({table:"directus_permissions",fields:[{field:"permissions",hidden:!0,special:["cast-json"],width:"half"},{field:"presets",hidden:!0,special:["cast-json"],width:"half"},{field:"role",width:"half"},{field:"collection",width:"half"},{field:"id",width:"half"},{field:"fields",width:"half",special:["cast-csv"]},{field:"action",width:"half"},{field:"validation",width:"half",special:["cast-json"]}]}),Rn({table:"directus_presets",fields:[{field:"filter",hidden:!0,special:["cast-json"]},{field:"layout_query",hidden:!0,special:["cast-json"]},{field:"layout_options",hidden:!0,special:["cast-json"]},{field:"role",width:"half",special:["m2o"],display:"related-values",display_options:{template:"{{ name }}"}},{field:"user",width:"half",special:["m2o"],display:"related-values",display_options:{template:"{{ email }}"}},{field:"id",width:"half"},{field:"bookmark",width:"half"},{field:"icon",width:"half",display:"icon"},{field:"color",width:"half",display:"color"},{field:"search",width:"half"},{field:"collection",width:"half"},{field:"layout",width:"half"},{field:"refresh_interval"}]}),Rn({table:"directus_relations",fields:[{field:"id",width:"half"},{field:"many_collection",width:"half"},{field:"many_field",width:"half"},{field:"one_collection",width:"half"},{field:"one_field",width:"half"},{field:"one_collection_field",width:"half"},{field:"one_allowed_collections",special:["cast-csv"],width:"half"},{field:"junction_field",width:"half"},{field:"sort_field",width:"half"},{field:"one_deselect_action",width:"half"}]}),Rn({table:"directus_revisions",fields:[{field:"id",width:"half"},{field:"activity",width:"half"},{field:"collection",width:"half"},{field:"item",width:"half"},{field:"data",hidden:!0,special:["cast-json"]},{field:"delta",hidden:!0,special:["cast-json"]},{field:"parent",width:"half"},{field:"version",width:"half"}]}),Rn({table:"directus_roles",fields:[{field:"id",hidden:!0,interface:"input",special:["uuid"]},{field:"name",interface:"input",options:{placeholder:"$t:field_options.directus_roles.name"},width:"half"},{field:"icon",interface:"select-icon",display:"icon",width:"half"},{field:"description",interface:"input",options:{placeholder:"$t:field_options.directus_roles.description"},width:"full"},{field:"app_access",interface:"boolean",special:["cast-boolean"],width:"half"},{field:"admin_access",interface:"boolean",special:["cast-boolean"],width:"half"},{field:"ip_access",interface:"tags",options:{placeholder:"$t:field_options.directus_roles.ip_access"},special:["cast-csv"],width:"full"},{field:"enforce_tfa",interface:"boolean",special:["cast-boolean"],width:"half"},{field:"users",interface:"list-o2m",special:["o2m"],options:{fields:["first_name","last_name"]},width:"full"}]}),Rn({table:"directus_sessions",fields:[{field:"token",width:"half"},{field:"user",width:"half"},{field:"expires",width:"half"},{field:"ip",width:"half"},{field:"user_agent",width:"half"},{field:"origin",width:"half"},{field:"share",width:"half"},{field:"next_token",width:"half"}]}),Rn(In),Rn({table:"directus_users",fields:[{field:"first_name",interface:"input",options:{iconRight:"account_circle"},width:"half"},{field:"last_name",interface:"input",options:{iconRight:"account_circle"},width:"half"},{field:"email",interface:"input",options:{iconRight:"email"},width:"half"},{field:"password",special:["hash","conceal"],interface:"input-hash",options:{iconRight:"lock",masked:!0},width:"half"},{field:"avatar",interface:"file",width:"full",display:"image"},{field:"location",interface:"input",options:{iconRight:"place"},width:"half"},{field:"title",interface:"input",options:{iconRight:"work"},width:"half"},{field:"description",interface:"input-multiline",width:"full"},{field:"tags",interface:"tags",special:["cast-json"],width:"full",options:{iconRight:"local_offer"},display:"labels",display_options:{choices:null,format:!1}},{field:"preferences_divider",interface:"presentation-divider",options:{icon:"face",title:"$t:fields.directus_users.user_preferences"},special:["alias","no-data"],width:"full"},{field:"language",interface:"system-language",width:"half",options:{includeProjectDefault:!0}},{field:"tfa_secret",interface:"system-mfa-setup",special:["conceal"],width:"half"},{field:"email_notifications",interface:"boolean",width:"half",special:["cast-boolean"]},{field:"theming_divider",interface:"presentation-divider",options:{icon:"palette",title:"$t:theme"},special:["alias","no-data"],width:"full"},{field:"appearance",interface:"select-dropdown",options:{choices:[{value:null,text:"$t:default_sync_with_project"},{value:"auto",text:"$t:appearance_auto"},{value:"light",text:"$t:appearance_light"},{value:"dark",text:"$t:appearance_dark"}]},width:"half"},{field:"theme_light",width:"full",interface:"system-theme",options:{appearance:"light",includeNull:!0}},{field:"theme_light_overrides",width:"full",interface:"system-theme-overrides",options:{appearance:"light"},special:["cast-json"]},{field:"theme_dark",width:"full",interface:"system-theme",options:{appearance:"dark",includeNull:!0}},{field:"theme_dark_overrides",width:"full",interface:"system-theme-overrides",options:{appearance:"dark"},special:["cast-json"]},{field:"admin_divider",interface:"presentation-divider",options:{icon:"verified_user",title:"$t:fields.directus_users.admin_options",color:"var(--theme--danger)"},special:["alias","no-data"],width:"full"},{field:"status",interface:"select-dropdown",options:{choices:[{text:"$t:fields.directus_users.status_draft",value:"draft"},{text:"$t:fields.directus_users.status_invited",value:"invited"},{text:"$t:fields.directus_users.status_unverified",value:"unverified"},{text:"$t:fields.directus_users.status_active",value:"active"},{text:"$t:fields.directus_users.status_suspended",value:"suspended"},{text:"$t:fields.directus_users.status_archived",value:"archived"}]},width:"half"},{field:"role",interface:"select-dropdown-m2o",options:{template:"{{ name }}"},special:["m2o"],width:"half",display:"related-values",display_options:{template:"{{ name }}"}},{field:"token",interface:"system-token",special:["conceal"],width:"full"},{field:"id",special:["uuid"],interface:"input",options:{iconRight:"vpn_key"},width:"full"},{field:"last_page",width:"half"},{field:"last_access",width:"half",display:"datetime",readonly:!0,display_options:{relative:!0}},{field:"provider",width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:default_provider",value:"default"}]}},{field:"external_identifier",width:"half",options:{iconRight:"account_circle"},interface:"input"},{field:"auth_data",hidden:!0}]}),Rn({table:"directus_webhooks",fields:[{field:"id",hidden:!0},{field:"name",interface:"input",options:{iconRight:"title"},width:"full"},{field:"method",interface:"select-dropdown",display:"labels",display_options:{choices:[{value:"POST",foreground:"var(--theme--primary)",background:"var(--theme--primary-subdued)"},{value:"GET",foreground:"var(--theme--secondary)",background:"var(--secondary-25)"}],format:!1},options:{choices:["GET","POST"]},width:"half"},{field:"url",interface:"input",options:{iconRight:"link"},width:"half"},{field:"status",interface:"select-dropdown",display:"labels",display_options:{showAsDot:!0,choices:[{text:"$t:field_options.directus_webhooks.status_options_active",value:"active",foreground:"var(--theme--primary-background)",background:"var(--theme--primary)"},{text:"$t:field_options.directus_webhooks.status_options_inactive",value:"inactive",foreground:"var(--theme--foreground)",background:"var(--background-normal-alt)"}]},options:{choices:[{text:"$t:field_options.directus_webhooks.status_options_active",value:"active"},{text:"$t:field_options.directus_webhooks.status_options_inactive",value:"inactive"}]},width:"half"},{field:"data",interface:"boolean",options:{label:"$t:fields.directus_webhooks.data_label"},special:["cast-boolean"],width:"half",display:"boolean"},{field:"headers",special:["cast-json"],interface:"list",options:{template:"{{ header }}: {{ value }}",addLabel:"$t:field_options.directus_webhooks.headers.add",fields:[{field:"header",name:"$t:field_options.directus_webhooks.headers.header",type:"string",meta:{interface:"input",width:"half"}},{field:"value",name:"$t:field_options.directus_webhooks.headers.value",type:"string",meta:{interface:"input",width:"half"}}]},width:"full"},{field:"triggers_divider",interface:"presentation-divider",options:{icon:"api",title:"$t:fields.directus_webhooks.triggers"},special:["alias","no-data"],width:"full"},{field:"actions",interface:"select-multiple-checkbox",options:{choices:[{text:"$t:create",value:"create"},{text:"$t:update",value:"update"},{text:"$t:delete_label",value:"delete"}]},special:["cast-csv"],width:"full",display:"labels",display_options:{choices:[{text:"$t:create",value:"create",foreground:"var(--theme--primary)",background:"var(--theme--primary-subdued)"},{text:"$t:update",value:"update",foreground:"var(--blue)",background:"var(--blue-25)"},{text:"$t:delete_label",value:"delete",foreground:"var(--theme--danger)",background:"var(--danger-25)"},{text:"$t:login",value:"login",foreground:"var(--purple)",background:"var(--purple-25)"}]}},{field:"collections",interface:"system-collections",special:["cast-csv"],width:"full",display:"labels",display_options:{choices:null,format:!1}},{field:"was_active_before_deprecation",hidden:!0},{field:"migrated_flow",hidden:!0}]}),Rn({table:"directus_dashboards",fields:[{field:"id",special:["uuid"]},{field:"name"},{field:"icon"},{field:"panels",special:["o2m"]},{field:"date_created",special:["date-created","cast-timestamp"]},{field:"user_created",special:["user-created"]},{field:"note"},{field:"color"}]}),Rn({table:"directus_panels",fields:[{field:"id",special:["uuid"]},{field:"name"},{field:"icon"},{field:"color"},{field:"note"},{field:"type"},{field:"show_header",special:["cast-boolean"]},{field:"position_x"},{field:"position_y"},{field:"width"},{field:"height"},{field:"options",special:["cast-json"]},{field:"date_created",special:["date-created","cast-timestamp"]},{field:"user_created",special:["user-created"]},{field:"dashboard"}]}),Rn({table:"directus_notifications",fields:[{field:"id"},{field:"timestamp",special:["date-created","cast-timestamp"]},{field:"status"},{field:"recipient"},{field:"sender"},{field:"subject"},{field:"message"},{field:"collection"},{field:"item"}]}),Rn({table:"directus_shares",fields:[{field:"id",special:["uuid"],readonly:!0,hidden:!0},{field:"name"},{field:"collection",width:"half",hidden:!0},{field:"item",width:"half",hidden:!0},{field:"role",interface:"select-dropdown-m2o",width:"half",options:{template:"{{name}}",filter:{admin_access:{_eq:!1}}}},{field:"password",special:["hash","conceal"],interface:"input-hash",options:{iconRight:"lock",masked:!0},width:"half",note:"$t:shared_leave_blank_for_passwordless_access"},{field:"date_start",width:"half",note:"$t:shared_leave_blank_for_unlimited"},{field:"date_end",width:"half",note:"$t:shared_leave_blank_for_unlimited"},{field:"max_uses",width:"half",note:"$t:shared_leave_blank_for_unlimited"},{field:"times_used",width:"half",readonly:!0},{field:"date_created",special:["date-created","cast-timestamp"],width:"half",readonly:!0,conditions:[{name:"notCreatedYet",rule:{id:{_null:!0}},hidden:!0}]},{field:"user_created",special:["user-created"],interface:"select-dropdown-m2o",width:"half",display:"user",options:{template:"{{avatar.$thumbnail}} {{first_name}} {{last_name}}"},readonly:!0,conditions:[{name:"notCreatedYet",rule:{id:{_null:!0}},hidden:!0}]}]}),Rn({table:"directus_flows",fields:[{field:"id",special:["uuid"]},{field:"name"},{field:"icon"},{field:"color"},{field:"description"},{field:"status"},{field:"trigger"},{field:"accountability"},{field:"options",special:["cast-json"]},{field:"operation"},{field:"operations",special:["o2m"]},{field:"date_created",special:["date-created"]},{field:"user_created",special:["user-created"]}]}),Rn({table:"directus_operations",fields:[{field:"id",special:["uuid"]},{field:"name"},{field:"key"},{field:"type"},{field:"position_x"},{field:"position_y"},{field:"options",special:["cast-json"]},{field:"resolve"},{field:"reject"},{field:"flow"},{field:"date_created",special:["date-created"]},{field:"user_created",special:["user-created"]}]}),Rn({table:"directus_translations",fields:[{field:"id",hidden:!0,sort:1,special:["uuid"]},{field:"key",width:"half",sort:2,required:!0,interface:"input",options:{font:"monospace",placeholder:"$t:translation_key_placeholder"}},{field:"language",interface:"system-language",width:"half",sort:3,required:!0},{field:"value",interface:"input-multiline",sort:4,required:!0,options:{placeholder:"$t:enter_a_value"}}]}),Rn({table:"directus_versions",fields:[{field:"id",special:["uuid"],readonly:!0,hidden:!0},{field:"key"},{field:"name"},{field:"collection"},{field:"item"},{field:"hash",readonly:!0,hidden:!0},{field:"date_created",special:["date-created","cast-timestamp"]},{field:"date_updated",special:["date-updated","cast-timestamp"]},{field:"user_created",special:["user-created"]},{field:"user_updated",special:["user-updated"]}]}),Rn({table:"directus_extensions",fields:[{collection:"directus_extensions",field:"id",special:["uuid"]},{collection:"directus_extensions",field:"folder"},{collection:"directus_extensions",field:"source"},{collection:"directus_extensions",field:"bundle"},{collection:"directus_extensions",field:"enabled",special:["cast-boolean"]}]});var Dn={role:null,permissions:{},validation:null,presets:null,fields:["*"],system:!0};[...[{collection:"directus_collections",action:"read"},{collection:"directus_fields",action:"read"},{collection:"directus_permissions",action:"read",permissions:{role:{_eq:"$CURRENT_ROLE"}}},{collection:"directus_relations",action:"read"}].map((e=>({...Dn,...e}))),{collection:"directus_activity",action:"read",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_activity",action:"create",validation:{comment:{_nnull:!0}}},{collection:"directus_presets",action:"read",permissions:{_or:[{user:{_eq:"$CURRENT_USER"}},{_and:[{user:{_null:!0}},{role:{_eq:"$CURRENT_ROLE"}}]},{_and:[{user:{_null:!0}},{role:{_null:!0}}]}]}},{collection:"directus_presets",action:"create",validation:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_presets",action:"update",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_presets",action:"delete",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_roles",action:"read",permissions:{id:{_eq:"$CURRENT_ROLE"}}},{collection:"directus_settings",action:"read"},{collection:"directus_translations",action:"read"},{collection:"directus_notifications",action:"read",permissions:{recipient:{_eq:"$CURRENT_USER"}}},{collection:"directus_notifications",action:"update",permissions:{recipient:{_eq:"$CURRENT_USER"}},fields:["status"]},{collection:"directus_shares",action:"read",permissions:{user_created:{_eq:"$CURRENT_USER"}}},{collection:"directus_users",action:"read",permissions:{id:{_eq:"$CURRENT_USER"}},fields:["id","first_name","last_name","last_page","email","password","location","title","description","tags","preferences_divider","avatar","language","appearance","theme_light","theme_dark","tfa_secret","status","role"]}].map((e=>({...Dn,...e})));var Pn=(e,t)=>{if(0===e.length)throw new Error(t)},Mn=(e,t)=>{if(Nn(String(e)))throw new Error(t)};const Zn={key:0,class:"tree__action processing"};var Ln=e({inheritAttrs:!1,__name:"actions",props:{dataLength:{},handleSaveChanges:{type:Function},hasInvalidItems:{type:Boolean},isInEditMode:{type:Boolean},processingMessage:{},refresh:{type:Function},toggleEditMode:{type:Function},userCanUpdate:{type:Boolean}},setup(e){const o=e,s=t((()=>Boolean(o.processingMessage))),c=t((()=>s.value||o.hasInvalidItems||!o.userCanUpdate||!o.dataLength));return(e,t)=>{const o=n("VIcon"),h=n("VButton");return i(),d(f,null,[e.processingMessage?(i(),d("div",Zn,l(e.processingMessage),1)):p("v-if",!0),e.isInEditMode?(i(),r(h,{key:1,class:"tree__action",onClick:e.handleSaveChanges,rounded:!0,icon:!0,tooltip:"Save",disabled:c.value},{default:a((()=>[u(o,{name:"check"})])),_:1},8,["onClick","disabled"])):p("v-if",!0),e.isInEditMode?(i(),r(h,{key:2,class:"tree__action",onClick:e.refresh,rounded:!0,icon:!0,danger:!0,tooltip:"Cancel",disabled:s.value},{default:a((()=>[u(o,{name:"close"})])),_:1},8,["onClick","disabled"])):p("v-if",!0),e.isInEditMode?p("v-if",!0):(i(),r(h,{key:3,class:"tree__action",onClick:e.toggleEditMode,rounded:!0,icon:!0,tooltip:"Sort Tree",disabled:c.value},{default:a((()=>[u(o,{name:"swap_vert"})])),_:1},8,["onClick","disabled"]))],64)}}}),Fn=[],zn=[];function Un(e,t){if(e&&"undefined"!=typeof document){var n,i=!0===t.prepend?"prepend":"append",r=!0===t.singleTag,a="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(r){var o=Fn.indexOf(a);-1===o&&(o=Fn.push(a)-1,zn[o]={}),n=zn[o]&&zn[o][i]?zn[o][i]:zn[o][i]=l()}else n=l();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function l(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var n=Object.keys(t.attributes),r=0;r<n.length;r++)e.setAttribute(n[r],t.attributes[n[r]]);var o="prepend"===i?"afterbegin":"beforeend";return a.insertAdjacentElement(o,e),e}}Un("\n.tree__action {\n  margin-right: 8px;\n&.processing {\n    color: var(--theme--foreground-subdued);\n}\n}\n",{});var Bn=Sn(Ln,[["__file","actions.vue"]]);function Vn({items:e,slugifyFieldName:n,defPrimKeyName:i,metaGroupField:r,listOfCollapsed:a}){const o=h(new Map),l=t((()=>o.size)),s=_(new Map),c=h(new Set),u=t((()=>c.size>0)),d=h(new Map),f=e=>{const t=o.get(e);if(!t)throw new Error(`getItem: Invalid argument [ key: ${e} ]}`);return t};return m([r,e],(([t,n])=>{return t&&n.length&&(o.clear(),s.value.clear(),d.clear(),(null!=(u=null==(c=null==(l=null==(i=r.value)?void 0:i.meta)?void 0:l.options)?void 0:c.choices)?u:[]).forEach((e=>d.set(e.value,{_has_dirty:!1,...e}))),d.forEach((({value:e})=>{const t={_allow_children:!0,_changes:new Map,_is_dirty:!1,_is_expanded:!0,rels_children:[],group:e,id:null,level:0,rel_parent:null,path:"",slug:"",sort:0,rel_item:[],slug_is_key:!1};o.set(e,t)})),e.value.forEach((e=>{const t=kn.cloneDeep(e),{id:n,rel_parent:i,group:r,rels_children:l}=t,s={_is_dirty:!1,_is_expanded:!a.value.includes(n)&&Boolean(l.length),_changes:new Map,_allow_children:!1,...t};i||f(r).rels_children.push(n),o.set(n,s)})),[...d].map((([e])=>v(f(e),!0))),void p());var i,l,c,u})),{data:o,dataLength:l,dirtyItems:s,getItem:f,groups:d,handleDrop:({itemId:e,from:t,to:n})=>{let i,r;t.parent!==n.parent&&(r=f(n.parent),g(r.rels_children,e,void 0,n.index),v(r)),i=f(t.parent),g(i.rels_children,e,t.index,r?void 0:n.index),v(i),p()},hasInvalidItems:u};function p(){d.forEach(((e,t)=>{const{_has_dirty:n}=e,i=Boolean([...s.value].find((e=>e[1]===t)));n!==i&&(e._has_dirty=i)}))}function v(e,t=!1){const r=kn.cloneDeep(e);r._changes.forEach(((e,t)=>r[t]=e)),r.rels_children.forEach(((e,a)=>{var o;const l=f(e),u=new Map;l.sort!==a&&u.set("sort",a);const p=r.id;l.rel_parent!==p&&u.set("rel_parent",p);const h=r.level+1;l.level!==h&&u.set("level",h);const _=r.group;if(l.group!==_&&u.set("group",_),!l.slug){const{slug_is_key:e,rel_item:t}=l,r=n.value;let a=e?t[i.value]:r?t[r]:null;a&&!e&&(a=a.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")),u.set("slug",a)}const m=r.path+"/"+(null!=(o=l.slug)?o:u.get("slug"));l.path!==m&&u.set("path",m);const g=Boolean(["rel_parent","level","group","path"].find((e=>l._changes.get(e)!==u.get(e)))),y=u.size>0;l._is_dirty=y,y?s.value.set(e,u.get("group")||l.group):s.value.delete(e);const b=d.get(_).max_level,w=!b||h<b;l._allow_children=w,r._allow_children?c.delete(l.id):c.add(l.id),l._changes=u,(g||t)&&v(l,t)}))}function g(e,t,n,i){void 0!==n&&e.splice(n,1),void 0!==i&&e.splice(i,0,t)}}const qn=new Map([["id",{validate:()=>tn.object({type:tn.literal("uuid"),schema:tn.object({is_primary_key:tn.literal(!0)}),meta:tn.object({interface:tn.literal("input"),special:tn.array(tn.literal("uuid")),readonly:tn.literal(!0)})}),default:{type:"uuid",schema:{is_primary_key:!0},meta:{interface:"input",special:["uuid"],readonly:!0,hidden:!0}}}],["group",{validate:()=>tn.object({type:tn.literal("string"),schema:tn.object({default_value:tn.string()}),meta:tn.object({interface:tn.literal("dcb-dropdown-group"),readonly:tn.literal(!0),options:tn.object({choices:tn.array(tn.object({text:tn.string(),value:tn.string(),max_level:tn.number()})).refine((e=>!!e.find((e=>"ungrouped"===e.value&&0===e.max_level))),{message:'Must contain an item with value "ungrouped" and max level 0'})})})}),default:{type:"string",schema:{default_value:"ungrouped"},meta:{interface:"dcb-dropdown-group",options:{choices:[{text:"Ungrouped",value:"ungrouped",max_level:0}]},readonly:!0,hidden:!0,sort:8}}}],["level",{validate:()=>tn.object({type:tn.literal("integer"),meta:tn.object({interface:tn.literal("input")})}),default:{type:"integer",meta:{interface:"input",readonly:!0,hidden:!0,sort:9}}}],["sort",{validate:()=>tn.object({type:tn.literal("integer"),meta:tn.object({interface:tn.literal("input")})}),default:{type:"integer",meta:{interface:"input",readonly:!0,hidden:!0,sort:10}}}],["rel_item",{validate:({defCollectionName:e})=>tn.object({schema:tn.object({is_unique:tn.literal(!0),foreign_key_table:tn.literal(e)}),meta:tn.object({interface:tn.literal("select-dropdown-m2o"),special:tn.array(tn.literal("m2o"))})}),default:{schema:{is_unique:!0},meta:{interface:"select-dropdown-m2o",special:["m2o"],required:!0,sort:6}}}],["rel_parent",{validate:({metaCollectionName:e})=>tn.object({schema:tn.object({foreign_key_table:tn.literal(e)}),meta:tn.object({interface:tn.literal("select-dropdown-m2o"),special:tn.array(tn.literal("m2o"))})}),default:{type:"uuid",meta:{interface:"select-dropdown-m2o",special:["m2o"],options:{enableSelect:!1,enableCreate:!1},sort:2}}}],["rels_children",{validate:()=>tn.object({type:tn.literal("alias"),meta:tn.object({interface:tn.literal("list-o2m"),special:tn.array(tn.literal("o2m"))})}),default:{type:"alias",meta:{interface:"list-o2m",special:["o2m"],readonly:!0,hidden:!0,sort:7}}}],["slug",{validate:()=>tn.object({type:tn.literal("string"),meta:tn.object({interface:tn.literal("input"),options:tn.object({slug:tn.literal(!0)})})}),default:{type:"string",meta:{interface:"input",options:{slug:!0},sort:3,width:"half"}}}],["slug_is_key",{validate:()=>tn.object({type:tn.literal("boolean"),schema:tn.object({default_value:tn.literal(!1)}),meta:tn.object({interface:tn.literal("boolean"),special:tn.array(tn.literal("cast-boolean"))})}),default:{type:"boolean",schema:{default_value:!1},meta:{interface:"boolean",hidden:!1,special:["cast-boolean"],sort:4,width:"half"}}}],["path",{validate:()=>tn.object({type:tn.literal("string"),meta:tn.object({interface:tn.literal("input")})}),default:{type:"string",meta:{interface:"input",readonly:!0,sort:5}}}]]),Wn=[...qn.keys()];function Kn(e,t){return[...qn].map((([n,i])=>({collection:e,field:n,schema:null,type:"rel_item"===n?t:void 0,...i.default})))}function Yn({field:e,...t}){try{qn.get(e.field).validate(t).parse(e)}catch(t){throw{message:`Error when validating field [${e.field}]`,details:t instanceof B?t.issues:t}}}function Xn(e){const n=t((()=>Wn.filter((e=>"id"!==e)))),i=_(!1);return{createModel:async t=>{i.value=!0;try{const n=function({metaCollectionName:e,defPrimKeyField:t}){return{collection:e,meta:{hidden:!1},schema:{},fields:Kn(e,t.type)}}(t);await e.request(((e,t)=>()=>({path:"/collections",params:t??{},body:JSON.stringify(e),method:"POST"}))(n));const i=function({defCollectionName:e,defConnectorName:t}){return{collection:e,field:t,type:"alias",meta:{interface:"list-o2m",special:["o2m"]}}}(t);await e.request(((e,t,n)=>()=>({path:`/fields/${e}`,params:n??{},body:JSON.stringify(t),method:"POST"}))(i.collection,i));const r=function({defCollectionName:e,defConnectorName:t,metaCollectionName:n}){return[{collection:n,field:"rel_parent",related_collection:n,meta:{one_field:"rels_children",sort_field:"sort"}},{collection:n,field:"rel_item",related_collection:e,schema:{foreign_key_column:"id",foreign_key_table:e,on_update:"NO ACTION",on_delete:"CASCADE"},meta:{many_collection:e,many_field:"rel_item",one_collection:e,one_field:t}}]}(t);await Promise.all(r.map((t=>e.request((e=>()=>({path:"/relations",body:JSON.stringify(e),method:"POST"}))(t))))),await async function({defCollectionName:t,metaCollectionName:n,defPrimKeyField:i}){const r=i.field,a=await e.request(((e,t)=>()=>(Pn(String(e),"Collection cannot be empty"),Mn(e,"Cannot use readItems for core collections"),{path:`/items/${e}`,params:t??{},method:"GET"}))(t,{fields:[r]}));if(!a.length)return;const o=a.map((e=>({rel_item:e[r]})));await e.request(((e,t,n)=>()=>{let i=String(e);if(Nn(i))throw new Error("Cannot use createItems for core collections");return{path:`/items/${i}`,params:n??{},body:JSON.stringify(t),method:"POST"}})(n,o))}(t)}catch(e){throw e}finally{i.value=!1}},isCreatingModel:i,mandatoryFields:n,validateFields:({foreignFields:e,...t})=>{const i=new Set(n.value);if(e.forEach((e=>{n.value.includes(e.field)&&(Yn({field:e,...t}),i.delete(e.field))})),i.size>0)throw new Error("Following fields are missing: "+[...i].join(", "))}}}var Hn=e({__name:"Notice",props:{message:{}},setup:e=>(e,t)=>{const o=n("VNotice");return i(),r(o,{class:"tree__user-message",type:e.message.type},{default:a((()=>[v("div",null,[v("h2",null,l(e.message.title),1),v("div",null,l(e.message.text),1)])])),_:1},8,["type"])}});Un("\n.tree__user-message {\n  margin: 0 var(--content-padding);\n& h2 {\n    margin-bottom: 0.5rem;\n    font-weight: var(--theme--header--title--font-weight);\n}\n}\n",{});var Gn=Sn(Hn,[["__file","Notice.vue"]]);
/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){ti(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ei(e){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ei(e)}function ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ni(){return ni=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ni.apply(this,arguments)}function ii(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ri(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var ai=ri(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),oi=ri(/Edge/i),li=ri(/firefox/i),si=ri(/safari/i)&&!ri(/chrome/i)&&!ri(/android/i),ci=ri(/iP(ad|od|hone)/i),ui=ri(/chrome/i)&&ri(/android/i),di={capture:!1,passive:!1};function fi(e,t,n){e.addEventListener(t,n,!ai&&di)}function pi(e,t,n){e.removeEventListener(t,n,!ai&&di)}function hi(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function _i(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function mi(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&hi(e,t):hi(e,t))||i&&e===n)return e;if(e===n)break}while(e=_i(e))}return null}var vi,gi=/\s+/g;function yi(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(gi," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(gi," ")}}function bi(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function wi(e,t){var n="";if("string"==typeof e)n=e;else do{var i=bi(e,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function xi(e,t,n){if(e){var i=e.getElementsByTagName(t),r=0,a=i.length;if(n)for(;r<a;r++)n(i[r],r);return i}return[]}function ki(){var e=document.scrollingElement;return e||document.documentElement}function Ei(e,t,n,i,r){if(e.getBoundingClientRect||e===window){var a,o,l,s,c,u,d;if(e!==window&&e.parentNode&&e!==ki()?(o=(a=e.getBoundingClientRect()).top,l=a.left,s=a.bottom,c=a.right,u=a.height,d=a.width):(o=0,l=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!ai))do{if(r&&r.getBoundingClientRect&&("none"!==bi(r,"transform")||n&&"static"!==bi(r,"position"))){var f=r.getBoundingClientRect();o-=f.top+parseInt(bi(r,"border-top-width")),l-=f.left+parseInt(bi(r,"border-left-width")),s=o+a.height,c=l+a.width;break}}while(r=r.parentNode);if(i&&e!==window){var p=wi(r||e),h=p&&p.a,_=p&&p.d;p&&(s=(o/=_)+(u/=_),c=(l/=h)+(d/=h))}return{top:o,left:l,bottom:s,right:c,width:d,height:u}}}function Si(e,t,n){for(var i=$i(e,!0),r=Ei(e)[t];i;){var a=Ei(i)[n];if(!("top"===n||"left"===n?r>=a:r<=a))return i;if(i===ki())break;i=$i(i,!1)}return!1}function Ci(e,t,n,i){for(var r=0,a=0,o=e.children;a<o.length;){if("none"!==o[a].style.display&&o[a]!==Rr.ghost&&(i||o[a]!==Rr.dragged)&&mi(o[a],n.draggable,e,!1)){if(r===t)return o[a];r++}a++}return null}function Ti(e,t){for(var n=e.lastElementChild;n&&(n===Rr.ghost||"none"===bi(n,"display")||t&&!hi(n,t));)n=n.previousElementSibling;return n||null}function ji(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Rr.clone||t&&!hi(e,t)||n++;return n}function Ni(e){var t=0,n=0,i=ki();if(e)do{var r=wi(e),a=r.a,o=r.d;t+=e.scrollLeft*a,n+=e.scrollTop*o}while(e!==i&&(e=e.parentNode));return[t,n]}function $i(e,t){if(!e||!e.getBoundingClientRect)return ki();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=bi(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return ki();if(i||t)return n;i=!0}}}while(n=n.parentNode);return ki()}function Oi(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Ii(e,t){return function(){if(!vi){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),vi=setTimeout((function(){vi=void 0}),t)}}}function Ai(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Ri(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function Di(e,t,n){var i={};return Array.from(e.children).forEach((function(r){var a,o,l,s;if(mi(r,t.draggable,e,!1)&&!r.animated&&r!==n){var c=Ei(r);i.left=Math.min(null!==(a=i.left)&&void 0!==a?a:1/0,c.left),i.top=Math.min(null!==(o=i.top)&&void 0!==o?o:1/0,c.top),i.right=Math.max(null!==(l=i.right)&&void 0!==l?l:-1/0,c.right),i.bottom=Math.max(null!==(s=i.bottom)&&void 0!==s?s:-1/0,c.bottom)}})),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var Pi="Sortable"+(new Date).getTime();function Mi(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==bi(e,"display")&&e!==Rr.ghost){t.push({target:e,rect:Ei(e)});var n=Qn({},t[t.length-1].rect);if(e.thisAnimationDuration){var i=wi(e,!0);i&&(n.top-=i.f,n.left-=i.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var i=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var r=!1,a=0;t.forEach((function(e){var t=0,n=e.target,o=n.fromRect,l=Ei(n),s=n.prevFromRect,c=n.prevToRect,u=e.rect,d=wi(n,!0);d&&(l.top-=d.f,l.left-=d.e),n.toRect=l,n.thisAnimationDuration&&Oi(s,l)&&!Oi(o,l)&&(u.top-l.top)/(u.left-l.left)==(o.top-l.top)/(o.left-l.left)&&(t=function(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}(u,s,c,i.options)),Oi(l,o)||(n.prevFromRect=o,n.prevToRect=l,t||(t=i.options.animation),i.animate(n,u,l,t)),t&&(r=!0,a=Math.max(a,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),r?e=setTimeout((function(){"function"==typeof n&&n()}),a):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,i){if(i){bi(e,"transition",""),bi(e,"transform","");var r=wi(this.el),a=r&&r.a,o=r&&r.d,l=(t.left-n.left)/(a||1),s=(t.top-n.top)/(o||1);e.animatingX=!!l,e.animatingY=!!s,bi(e,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),bi(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),bi(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){bi(e,"transition",""),bi(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),i)}}}}var Zi=[],Li={initializeByDefault:!0},Fi={mount:function(e){for(var t in Li)Li.hasOwnProperty(t)&&!(t in e)&&(e[t]=Li[t]);Zi.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Zi.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=e+"Global";Zi.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][r]&&t[i.pluginName][r](Qn({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](Qn({sortable:t},n)))}))},initializePlugins:function(e,t,n,i){for(var r in Zi.forEach((function(i){var r=i.pluginName;if(e.options[r]||i.initializeByDefault){var a=new i(e,t,e.options);a.sortable=e,a.options=e.options,e[r]=a,ni(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);void 0!==a&&(e.options[r]=a)}},getEventProperties:function(e,t){var n={};return Zi.forEach((function(i){"function"==typeof i.eventProperties&&ni(n,i.eventProperties.call(t[i.pluginName],e))})),n},modifyOption:function(e,t,n){var i;return Zi.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(i=r.optionListeners[t].call(e[r.pluginName],n))})),i}};var zi=["evt"],Ui=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,r=ii(n,zi);Fi.pluginEvent.bind(Rr)(e,t,Qn({dragEl:Vi,parentEl:qi,ghostEl:Wi,rootEl:Ki,nextEl:Yi,lastDownEl:Xi,cloneEl:Hi,cloneHidden:Gi,dragStarted:ur,putSortable:ir,activeSortable:Rr.active,originalEvent:i,oldIndex:Ji,oldDraggableIndex:er,newIndex:Qi,newDraggableIndex:tr,hideGhostForTarget:$r,unhideGhostForTarget:Or,cloneNowHidden:function(){Gi=!0},cloneNowShown:function(){Gi=!1},dispatchSortableEvent:function(e){Bi({sortable:t,name:e,originalEvent:i})}},r))};function Bi(e){!function(e){var t=e.sortable,n=e.rootEl,i=e.name,r=e.targetEl,a=e.cloneEl,o=e.toEl,l=e.fromEl,s=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,p=e.putSortable,h=e.extraEventProperties;if(t=t||n&&n[Pi]){var _,m=t.options,v="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||ai||oi?(_=document.createEvent("Event")).initEvent(i,!0,!0):_=new CustomEvent(i,{bubbles:!0,cancelable:!0}),_.to=o||n,_.from=l||n,_.item=r||n,_.clone=a,_.oldIndex=s,_.newIndex=c,_.oldDraggableIndex=u,_.newDraggableIndex=d,_.originalEvent=f,_.pullMode=p?p.lastPutMode:void 0;var g=Qn(Qn({},h),Fi.getEventProperties(i,t));for(var y in g)_[y]=g[y];n&&n.dispatchEvent(_),m[v]&&m[v].call(t,_)}}(Qn({putSortable:ir,cloneEl:Hi,targetEl:Vi,rootEl:Ki,oldIndex:Ji,oldDraggableIndex:er,newIndex:Qi,newDraggableIndex:tr},e))}var Vi,qi,Wi,Ki,Yi,Xi,Hi,Gi,Ji,Qi,er,tr,nr,ir,rr,ar,or,lr,sr,cr,ur,dr,fr,pr,hr,_r=!1,mr=!1,vr=[],gr=!1,yr=!1,br=[],wr=!1,xr=[],kr="undefined"!=typeof document,Er=ci,Sr=oi||ai?"cssFloat":"float",Cr=kr&&!ui&&!ci&&"draggable"in document.createElement("div"),Tr=function(){if(kr){if(ai)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),jr=function(e,t){var n=bi(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Ci(e,0,t),a=Ci(e,1,t),o=r&&bi(r),l=a&&bi(a),s=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+Ei(r).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Ei(a).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&o.float&&"none"!==o.float){var u="left"===o.float?"left":"right";return!a||"both"!==l.clear&&l.clear!==u?"horizontal":"vertical"}return r&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||s>=i&&"none"===n[Sr]||a&&"none"===n[Sr]&&s+c>i)?"vertical":"horizontal"},Nr=function(e){function t(e,n){return function(i,r,a,o){var l=i.options.group.name&&r.options.group.name&&i.options.group.name===r.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(i,r,a,o),n)(i,r,a,o);var s=(n?i:r).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},i=e.group;i&&"object"==ei(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},$r=function(){!Tr&&Wi&&bi(Wi,"display","none")},Or=function(){!Tr&&Wi&&bi(Wi,"display","")};kr&&!ui&&document.addEventListener("click",(function(e){if(mr)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),mr=!1,!1}),!0);var Ir=function(e){if(Vi){var t=function(e,t){var n;return vr.some((function(i){var r=i[Pi].options.emptyInsertThreshold;if(r&&!Ti(i)){var a=Ei(i),o=e>=a.left-r&&e<=a.right+r,l=t>=a.top-r&&t<=a.bottom+r;return o&&l?n=i:void 0}})),n}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Pi]._onDragOver(n)}}},Ar=function(e){Vi&&Vi.parentNode[Pi]._isOutsideThisEl(e.target)};function Rr(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ni({},t),e[Pi]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return jr(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Rr.supportPointer&&"PointerEvent"in window&&!si,emptyInsertThreshold:5};for(var i in Fi.initializePlugins(this,e,n),n)!(i in t)&&(t[i]=n[i]);for(var r in Nr(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&Cr,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?fi(e,"pointerdown",this._onTapStart):(fi(e,"mousedown",this._onTapStart),fi(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(fi(e,"dragover",this),fi(e,"dragenter",this)),vr.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ni(this,Mi())}function Dr(e,t,n,i,r,a,o,l){var s,c,u=e[Pi],d=u.options.onMove;return!window.CustomEvent||ai||oi?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=i,s.related=r||t,s.relatedRect=a||Ei(t),s.willInsertAfter=l,s.originalEvent=o,e.dispatchEvent(s),d&&(c=d.call(u,s,o)),c}function Pr(e){e.draggable=!1}function Mr(){wr=!1}function Zr(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function Lr(e){return setTimeout(e,0)}function Fr(e){return clearTimeout(e)}Rr.prototype={constructor:Rr,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(dr=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Vi):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,r=i.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(o||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(function(e){xr.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var i=t[n];i.checked&&xr.push(i)}}(n),!Vi&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||i.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!si||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=mi(l,i.draggable,n,!1))&&l.animated||Xi===l)){if(Ji=ji(l),er=ji(l,i.draggable),"function"==typeof c){if(c.call(this,e,l,this))return Bi({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),Ui("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(i){if(i=mi(s,i.trim(),n,!1))return Bi({sortable:t,rootEl:i,name:"filter",targetEl:l,fromEl:n,toEl:n}),Ui("filter",t,{evt:e}),!0}))))return void(r&&e.cancelable&&e.preventDefault());i.handle&&!mi(s,i.handle,n,!1)||this._prepareDragStart(e,o,l)}}},_prepareDragStart:function(e,t,n){var i,r=this,a=r.el,o=r.options,l=a.ownerDocument;if(n&&!Vi&&n.parentNode===a){var s=Ei(n);if(Ki=a,qi=(Vi=n).parentNode,Yi=Vi.nextSibling,Xi=n,nr=o.group,Rr.dragged=Vi,rr={target:Vi,clientX:(t||e).clientX,clientY:(t||e).clientY},sr=rr.clientX-s.left,cr=rr.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Vi.style["will-change"]="all",i=function(){Ui("delayEnded",r,{evt:e}),Rr.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!li&&r.nativeDraggable&&(Vi.draggable=!0),r._triggerDragStart(e,t),Bi({sortable:r,name:"choose",originalEvent:e}),yi(Vi,o.chosenClass,!0))},o.ignore.split(",").forEach((function(e){xi(Vi,e.trim(),Pr)})),fi(l,"dragover",Ir),fi(l,"mousemove",Ir),fi(l,"touchmove",Ir),fi(l,"mouseup",r._onDrop),fi(l,"touchend",r._onDrop),fi(l,"touchcancel",r._onDrop),li&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Vi.draggable=!0),Ui("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(oi||ai))i();else{if(Rr.eventCanceled)return void this._onDrop();fi(l,"mouseup",r._disableDelayedDrag),fi(l,"touchend",r._disableDelayedDrag),fi(l,"touchcancel",r._disableDelayedDrag),fi(l,"mousemove",r._delayedDragTouchMoveHandler),fi(l,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&fi(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(i,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Vi&&Pr(Vi),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;pi(e,"mouseup",this._disableDelayedDrag),pi(e,"touchend",this._disableDelayedDrag),pi(e,"touchcancel",this._disableDelayedDrag),pi(e,"mousemove",this._delayedDragTouchMoveHandler),pi(e,"touchmove",this._delayedDragTouchMoveHandler),pi(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?fi(document,"pointermove",this._onTouchMove):fi(document,t?"touchmove":"mousemove",this._onTouchMove):(fi(Vi,"dragend",this),fi(Ki,"dragstart",this._onDragStart));try{document.selection?Lr((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(_r=!1,Ki&&Vi){Ui("dragStarted",this,{evt:t}),this.nativeDraggable&&fi(document,"dragover",Ar);var n=this.options;!e&&yi(Vi,n.dragClass,!1),yi(Vi,n.ghostClass,!0),Rr.active=this,e&&this._appendGhost(),Bi({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ar){this._lastX=ar.clientX,this._lastY=ar.clientY,$r();for(var e=document.elementFromPoint(ar.clientX,ar.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ar.clientX,ar.clientY))!==t;)t=e;if(Vi.parentNode[Pi]._isOutsideThisEl(e),t)do{if(t[Pi]){if(t[Pi]._onDragOver({clientX:ar.clientX,clientY:ar.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Or()}},_onTouchMove:function(e){if(rr){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=Wi&&wi(Wi,!0),o=Wi&&a&&a.a,l=Wi&&a&&a.d,s=Er&&hr&&Ni(hr),c=(r.clientX-rr.clientX+i.x)/(o||1)+(s?s[0]-br[0]:0)/(o||1),u=(r.clientY-rr.clientY+i.y)/(l||1)+(s?s[1]-br[1]:0)/(l||1);if(!Rr.active&&!_r){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Wi){a?(a.e+=c-(or||0),a.f+=u-(lr||0)):a={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");bi(Wi,"webkitTransform",d),bi(Wi,"mozTransform",d),bi(Wi,"msTransform",d),bi(Wi,"transform",d),or=c,lr=u,ar=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Wi){var e=this.options.fallbackOnBody?document.body:Ki,t=Ei(Vi,!0,Er,!0,e),n=this.options;if(Er){for(hr=e;"static"===bi(hr,"position")&&"none"===bi(hr,"transform")&&hr!==document;)hr=hr.parentNode;hr!==document.body&&hr!==document.documentElement?(hr===document&&(hr=ki()),t.top+=hr.scrollTop,t.left+=hr.scrollLeft):hr=ki(),br=Ni(hr)}yi(Wi=Vi.cloneNode(!0),n.ghostClass,!1),yi(Wi,n.fallbackClass,!0),yi(Wi,n.dragClass,!0),bi(Wi,"transition",""),bi(Wi,"transform",""),bi(Wi,"box-sizing","border-box"),bi(Wi,"margin",0),bi(Wi,"top",t.top),bi(Wi,"left",t.left),bi(Wi,"width",t.width),bi(Wi,"height",t.height),bi(Wi,"opacity","0.8"),bi(Wi,"position",Er?"absolute":"fixed"),bi(Wi,"zIndex","100000"),bi(Wi,"pointerEvents","none"),Rr.ghost=Wi,e.appendChild(Wi),bi(Wi,"transform-origin",sr/parseInt(Wi.style.width)*100+"% "+cr/parseInt(Wi.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,r=n.options;Ui("dragStart",this,{evt:e}),Rr.eventCanceled?this._onDrop():(Ui("setupClone",this),Rr.eventCanceled||((Hi=Ri(Vi)).removeAttribute("id"),Hi.draggable=!1,Hi.style["will-change"]="",this._hideClone(),yi(Hi,this.options.chosenClass,!1),Rr.clone=Hi),n.cloneId=Lr((function(){Ui("clone",n),Rr.eventCanceled||(n.options.removeCloneOnHide||Ki.insertBefore(Hi,Vi),n._hideClone(),Bi({sortable:n,name:"clone"}))})),!t&&yi(Vi,r.dragClass,!0),t?(mr=!0,n._loopId=setInterval(n._emulateDragOver,50)):(pi(document,"mouseup",n._onDrop),pi(document,"touchend",n._onDrop),pi(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,Vi)),fi(document,"drop",n),bi(Vi,"transform","translateZ(0)")),_r=!0,n._dragStartId=Lr(n._dragStarted.bind(n,t,e)),fi(document,"selectstart",n),ur=!0,si&&bi(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,r,a=this.el,o=e.target,l=this.options,s=l.group,c=Rr.active,u=nr===s,d=l.sort,f=ir||c,p=this,h=!1;if(!wr){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),o=mi(o,l.draggable,a,!0),N("dragOver"),Rr.eventCanceled)return h;if(Vi.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||p._ignoreWhileAnimating===o)return O(!1);if(mr=!1,c&&!l.disabled&&(u?d||(i=qi!==Ki):ir===this||(this.lastPutMode=nr.checkPull(this,c,Vi,e))&&s.checkPut(this,c,Vi,e))){if(r="vertical"===this._getDirection(e,o),t=Ei(Vi),N("dragOverValid"),Rr.eventCanceled)return h;if(i)return qi=Ki,$(),this._hideClone(),N("revert"),Rr.eventCanceled||(Yi?Ki.insertBefore(Vi,Yi):Ki.appendChild(Vi)),O(!0);var _=Ti(a,l.draggable);if(!_||function(e,t,n){var i=Ei(Ti(n.el,n.options.draggable)),r=Di(n.el,n.options,Wi),a=10;return t?e.clientX>r.right+a||e.clientY>i.bottom&&e.clientX>i.left:e.clientY>r.bottom+a||e.clientX>i.right&&e.clientY>i.top}(e,r,this)&&!_.animated){if(_===Vi)return O(!1);if(_&&a===e.target&&(o=_),o&&(n=Ei(o)),!1!==Dr(Ki,a,Vi,t,o,n,e,!!o))return $(),_&&_.nextSibling?a.insertBefore(Vi,_.nextSibling):a.appendChild(Vi),qi=a,I(),O(!0)}else if(_&&function(e,t,n){var i=Ei(Ci(n.el,0,n.options,!0)),r=Di(n.el,n.options,Wi),a=10;return t?e.clientX<r.left-a||e.clientY<i.top&&e.clientX<i.right:e.clientY<r.top-a||e.clientY<i.bottom&&e.clientX<i.left}(e,r,this)){var m=Ci(a,0,l,!0);if(m===Vi)return O(!1);if(n=Ei(o=m),!1!==Dr(Ki,a,Vi,t,o,n,e,!1))return $(),a.insertBefore(Vi,m),qi=a,I(),O(!0)}else if(o.parentNode===a){n=Ei(o);var v,g,y,b=Vi.parentNode!==a,w=!function(e,t,n){var i=n?e.left:e.top,r=n?e.right:e.bottom,a=n?e.width:e.height,o=n?t.left:t.top,l=n?t.right:t.bottom,s=n?t.width:t.height;return i===o||r===l||i+a/2===o+s/2}(Vi.animated&&Vi.toRect||t,o.animated&&o.toRect||n,r),x=r?"top":"left",k=Si(o,"top","top")||Si(Vi,"top","top"),E=k?k.scrollTop:void 0;if(dr!==o&&(g=n[x],gr=!1,yr=!w&&l.invertSwap||b),v=function(e,t,n,i,r,a,o,l){var s=i?e.clientY:e.clientX,c=i?n.height:n.width,u=i?n.top:n.left,d=i?n.bottom:n.right,f=!1;if(!o)if(l&&pr<c*r){if(!gr&&(1===fr?s>u+c*a/2:s<d-c*a/2)&&(gr=!0),gr)f=!0;else if(1===fr?s<u+pr:s>d-pr)return-fr}else if(s>u+c*(1-r)/2&&s<d-c*(1-r)/2)return function(e){return ji(Vi)<ji(e)?1:-1}(t);if((f=f||o)&&(s<u+c*a/2||s>d-c*a/2))return s>u+c/2?1:-1;return 0}(e,o,n,r,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,yr,dr===o),0!==v){var S=ji(Vi);do{S-=v,y=qi.children[S]}while(y&&("none"===bi(y,"display")||y===Wi))}if(0===v||y===o)return O(!1);dr=o,fr=v;var C=o.nextElementSibling,T=!1,j=Dr(Ki,a,Vi,t,o,n,e,T=1===v);if(!1!==j)return 1!==j&&-1!==j||(T=1===j),wr=!0,setTimeout(Mr,30),$(),T&&!C?a.appendChild(Vi):o.parentNode.insertBefore(Vi,T?C:o),k&&Ai(k,0,E-k.scrollTop),qi=Vi.parentNode,void 0===g||yr||(pr=Math.abs(g-Ei(o)[x])),I(),O(!0)}if(a.contains(Vi))return O(!1)}return!1}function N(l,s){Ui(l,p,Qn({evt:e,isOwner:u,axis:r?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:d,fromSortable:f,target:o,completed:O,onMove:function(n,i){return Dr(Ki,a,Vi,t,n,Ei(n),e,i)},changed:I},s))}function $(){N("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function O(t){return N("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(p),p!==f&&(yi(Vi,ir?ir.options.ghostClass:c.options.ghostClass,!1),yi(Vi,l.ghostClass,!0)),ir!==p&&p!==Rr.active?ir=p:p===Rr.active&&ir&&(ir=null),f===p&&(p._ignoreWhileAnimating=o),p.animateAll((function(){N("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(o===Vi&&!Vi.animated||o===a&&!o.animated)&&(dr=null),l.dragoverBubble||e.rootEl||o===document||(Vi.parentNode[Pi]._isOutsideThisEl(e.target),!t&&Ir(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),h=!0}function I(){Qi=ji(Vi),tr=ji(Vi,l.draggable),Bi({sortable:p,name:"change",toEl:a,newIndex:Qi,newDraggableIndex:tr,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){pi(document,"mousemove",this._onTouchMove),pi(document,"touchmove",this._onTouchMove),pi(document,"pointermove",this._onTouchMove),pi(document,"dragover",Ir),pi(document,"mousemove",Ir),pi(document,"touchmove",Ir)},_offUpEvents:function(){var e=this.el.ownerDocument;pi(e,"mouseup",this._onDrop),pi(e,"touchend",this._onDrop),pi(e,"pointerup",this._onDrop),pi(e,"touchcancel",this._onDrop),pi(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;Qi=ji(Vi),tr=ji(Vi,n.draggable),Ui("drop",this,{evt:e}),qi=Vi&&Vi.parentNode,Qi=ji(Vi),tr=ji(Vi,n.draggable),Rr.eventCanceled||(_r=!1,yr=!1,gr=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Fr(this.cloneId),Fr(this._dragStartId),this.nativeDraggable&&(pi(document,"drop",this),pi(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),si&&bi(document.body,"user-select",""),bi(Vi,"transform",""),e&&(ur&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Wi&&Wi.parentNode&&Wi.parentNode.removeChild(Wi),(Ki===qi||ir&&"clone"!==ir.lastPutMode)&&Hi&&Hi.parentNode&&Hi.parentNode.removeChild(Hi),Vi&&(this.nativeDraggable&&pi(Vi,"dragend",this),Pr(Vi),Vi.style["will-change"]="",ur&&!_r&&yi(Vi,ir?ir.options.ghostClass:this.options.ghostClass,!1),yi(Vi,this.options.chosenClass,!1),Bi({sortable:this,name:"unchoose",toEl:qi,newIndex:null,newDraggableIndex:null,originalEvent:e}),Ki!==qi?(Qi>=0&&(Bi({rootEl:qi,name:"add",toEl:qi,fromEl:Ki,originalEvent:e}),Bi({sortable:this,name:"remove",toEl:qi,originalEvent:e}),Bi({rootEl:qi,name:"sort",toEl:qi,fromEl:Ki,originalEvent:e}),Bi({sortable:this,name:"sort",toEl:qi,originalEvent:e})),ir&&ir.save()):Qi!==Ji&&Qi>=0&&(Bi({sortable:this,name:"update",toEl:qi,originalEvent:e}),Bi({sortable:this,name:"sort",toEl:qi,originalEvent:e})),Rr.active&&(null!=Qi&&-1!==Qi||(Qi=Ji,tr=er),Bi({sortable:this,name:"end",toEl:qi,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Ui("nulling",this),Ki=Vi=qi=Wi=Yi=Hi=Xi=Gi=rr=ar=ur=Qi=tr=Ji=er=dr=fr=ir=nr=Rr.dragged=Rr.ghost=Rr.clone=Rr.active=null,xr.forEach((function(e){e.checked=!0})),xr.length=or=lr=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Vi&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,r=n.length,a=this.options;i<r;i++)mi(e=n[i],a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||Zr(e));return t},sort:function(e,t){var n={},i=this.el;this.toArray().forEach((function(e,t){var r=i.children[t];mi(r,this.options.draggable,i,!1)&&(n[e]=r)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return mi(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=Fi.modifyOption(this,e,t);n[e]=void 0!==i?i:t,"group"===e&&Nr(n)},destroy:function(){Ui("destroy",this);var e=this.el;e[Pi]=null,pi(e,"mousedown",this._onTapStart),pi(e,"touchstart",this._onTapStart),pi(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(pi(e,"dragover",this),pi(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),vr.splice(vr.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Gi){if(Ui("hideClone",this),Rr.eventCanceled)return;bi(Hi,"display","none"),this.options.removeCloneOnHide&&Hi.parentNode&&Hi.parentNode.removeChild(Hi),Gi=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(Gi){if(Ui("showClone",this),Rr.eventCanceled)return;Vi.parentNode!=Ki||this.options.group.revertClone?Yi?Ki.insertBefore(Hi,Yi):Ki.appendChild(Hi):Ki.insertBefore(Hi,Vi),this.options.group.revertClone&&this.animate(Vi,Hi),bi(Hi,"display",""),Gi=!1}}else this._hideClone()}},kr&&fi(document,"touchmove",(function(e){(Rr.active||_r)&&e.cancelable&&e.preventDefault()})),Rr.utils={on:fi,off:pi,css:bi,find:xi,is:function(e,t){return!!mi(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:Ii,closest:mi,toggleClass:yi,clone:Ri,index:ji,nextTick:Lr,cancelNextTick:Fr,detectDirection:jr,getChild:Ci},Rr.get=function(e){return e[Pi]},Rr.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Rr.utils=Qn(Qn({},Rr.utils),e.utils)),Fi.mount(e)}))},Rr.create=function(e,t){return new Rr(e,t)},Rr.version="1.15.2";var zr,Ur,Br,Vr,qr,Wr,Kr=[],Yr=!1;function Xr(){Kr.forEach((function(e){clearInterval(e.pid)})),Kr=[]}function Hr(){clearInterval(Wr)}var Gr=Ii((function(e,t,n,i){if(t.scroll){var r,a=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=ki(),u=!1;Ur!==n&&(Ur=n,Xr(),zr=t.scroll,r=t.scrollFn,!0===zr&&(zr=$i(n,!0)));var d=0,f=zr;do{var p=f,h=Ei(p),_=h.top,m=h.bottom,v=h.left,g=h.right,y=h.width,b=h.height,w=void 0,x=void 0,k=p.scrollWidth,E=p.scrollHeight,S=bi(p),C=p.scrollLeft,T=p.scrollTop;p===c?(w=y<k&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),x=b<E&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(w=y<k&&("auto"===S.overflowX||"scroll"===S.overflowX),x=b<E&&("auto"===S.overflowY||"scroll"===S.overflowY));var j=w&&(Math.abs(g-a)<=l&&C+y<k)-(Math.abs(v-a)<=l&&!!C),N=x&&(Math.abs(m-o)<=l&&T+b<E)-(Math.abs(_-o)<=l&&!!T);if(!Kr[d])for(var $=0;$<=d;$++)Kr[$]||(Kr[$]={});Kr[d].vx==j&&Kr[d].vy==N&&Kr[d].el===p||(Kr[d].el=p,Kr[d].vx=j,Kr[d].vy=N,clearInterval(Kr[d].pid),0==j&&0==N||(u=!0,Kr[d].pid=setInterval(function(){i&&0===this.layer&&Rr.active._onTouchMove(qr);var t=Kr[this.layer].vy?Kr[this.layer].vy*s:0,n=Kr[this.layer].vx?Kr[this.layer].vx*s:0;"function"==typeof r&&"continue"!==r.call(Rr.dragged.parentNode[Pi],n,t,e,qr,Kr[this.layer].el)||Ai(Kr[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==c&&(f=$i(f,!1)));Yr=u}}),30),Jr=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||r;o();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(u)&&(a("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function Qr(){}function ea(){}Qr.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Ci(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Jr},ni(Qr,{pluginName:"revertOnSpill"}),ea.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:Jr},ni(ea,{pluginName:"removeOnSpill"}),Rr.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?fi(document,"dragover",this._handleAutoScroll):this.options.supportPointer?fi(document,"pointermove",this._handleFallbackAutoScroll):t.touches?fi(document,"touchmove",this._handleFallbackAutoScroll):fi(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?pi(document,"dragover",this._handleAutoScroll):(pi(document,"pointermove",this._handleFallbackAutoScroll),pi(document,"touchmove",this._handleFallbackAutoScroll),pi(document,"mousemove",this._handleFallbackAutoScroll)),Hr(),Xr(),clearTimeout(vi),vi=void 0},nulling:function(){qr=Ur=zr=Yr=Wr=Br=Vr=null,Kr.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,i=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(i,r);if(qr=e,t||this.options.forceAutoScrollFallback||oi||ai||si){Gr(e,this.options,a,t);var o=$i(a,!0);!Yr||Wr&&i===Br&&r===Vr||(Wr&&Hr(),Wr=setInterval((function(){var a=$i(document.elementFromPoint(i,r),!0);a!==o&&(o=a,Xr()),Gr(e,n.options,a,t)}),10),Br=i,Vr=r)}else{if(!this.options.bubbleScroll||$i(a,!0)===ki())return void Xr();Gr(e,this.options,$i(a,!1),!1)}}},ni(e,{pluginName:"scroll",initializeByDefault:!0})}),Rr.mount(ea,Qr);const ta=["data-parent"],na=["data-id","data-is-dirty","data-is-expanded","data-is-leaf","data-has-children"],ia=["onClick","disabled"],ra={class:"labels"},aa={key:0,class:"wrapper"},oa={key:1},la={class:"debug-label"},sa={key:3,style:{"text-align":"center"}},ca=v("br",null,null,-1);var ua=e({__name:"TreeBranch",props:{debug:{type:Boolean},defCollectionName:{},defPrimKeyName:{},getItem:{type:Function},isInEditMode:{},labelPrimary:{},labelSecondary:{},parentItem:{},processingMessage:{},selection:{},selectItem:{type:Function},showSelect:{},statusIndicator:{}},emits:["onDrop"],setup(e,{emit:c}){const h=e,{parentItem:C,isInEditMode:T,processingMessage:j}=g(h),{getItem:N,defCollectionName:$}=h,O=c;function I(e,t=0){if(!e.rel_parent)return t;return I(N(e.rel_parent),t+1)}const A=t((()=>C.value.rels_children.map((e=>N(e)))||[])),R=_(null),D=_(null);m(R,(e=>{e&&(D.value=new Rr(e,{group:"dcb-tree",animation:150,fallbackOnBody:!0,swapThreshold:.65,handle:".drag-handle",draggable:".tree__item",onEnd:e=>{var t,n,i,r,a;const{item:o,from:l,to:s,newIndex:c,oldIndex:u}=e,d=null==(t=o.dataset)?void 0:t.id,f=null==(i=null==(n=l.closest("[data-parent]"))?void 0:n.dataset)?void 0:i.parent,p=null==(a=null==(r=s.closest("[data-parent]"))?void 0:r.dataset)?void 0:a.parent;if(!d||!f||!p)return;const h={itemId:d,from:{parent:f,index:u},to:{parent:p,index:c}};kn.isMatch(h.from,h.to)||O("onDrop",h)}}))}));const P=t((()=>!T.value||null!==j.value));m(P,(e=>{var t;return null==(t=D.value)?void 0:t.option("disabled",e)})),y((()=>{D.value&&(D.value.destroy(),R.value=null,D.value=null)}));const Z=M();const L=_(1);return b((()=>{L.value++})),(e,t)=>{const c=n("VIcon"),_=n("v-icon"),m=n("RenderTemplate"),g=n("VCheckbox"),y=n("VListItem"),b=n("TreeBranch",!0);return i(),d("div",{class:w(["tree__branch",{"drop-area":s(T)&&0===s(C).rels_children.length}]),ref_key:"containerRef",ref:R,"data-parent":s(C).id||s(C).group},[(i(!0),d(f,null,x(A.value,(n=>(i(),d("div",{key:n.id,class:"tree__item","data-id":n.id,"data-is-dirty":n._is_dirty,"data-is-expanded":n._is_expanded,"data-is-leaf":!n._allow_children,"data-has-children":n.rels_children.length>0,style:k({marginLeft:1.5*I(n)+"rem"})},[u(y,{block:"",grow:e.debug,clickable:!s(T),onClick:()=>{return t=n.rel_item[e.defPrimKeyName],void(T.value||Z.push(`/content/${$}/${t}`));var t}},{default:a((()=>[u(c,{name:"drag_handle",class:"drag-handle"}),v("button",{class:"button-expand",onClick:E((e=>n._is_expanded=!n._is_expanded),["stop"]),disabled:0===n.rels_children.length&&!s(T)},[u(_,{name:"chevron_right"})],8,ia),v("div",ra,[e.debug?(i(),d("div",oa,[v("div",la,[(i(!0),d(f,null,x(Object.entries(n),(([e,t])=>(i(),d("code",{key:e},l(e)+": "+l("_changes"===e?JSON.stringify([...t]):JSON.stringify(t)),1)))),128))])])):(i(),d("div",aa,[e.labelPrimary?(i(),r(m,{key:0,collection:s($),item:n.rel_item,template:e.labelPrimary},null,8,["collection","item","template"])):p("v-if",!0),e.labelSecondary?(i(),r(m,{key:1,class:"label-secondary",collection:s($),item:n.rel_item,template:e.labelSecondary},null,8,["collection","item","template"])):p("v-if",!0)])),e.statusIndicator&&!e.debug?(i(),r(m,{key:2,class:"status-indicator",collection:s($),item:n.rel_item,template:"{{"+e.statusIndicator+"}}"},null,8,["collection","item","template"])):e.debug?(i(),d("div",sa,[o(" render "),ca,o(" "+l(L.value),1)])):p("v-if",!0)]),u(g,{class:"selection-checkbox","icon-on":"one"===e.showSelect?"radio_button_checked":void 0,"icon-off":"one"===e.showSelect?"radio_button_unchecked":void 0,"model-value":e.selection.includes(n.rel_item[e.defPrimKeyName]),"onUpdate:modelValue":t=>e.selectItem(n.rel_item[e.defPrimKeyName]),onClick:E((()=>{}),["stop"])},null,8,["icon-on","icon-off","model-value","onUpdate:modelValue"])])),_:2},1032,["grow","clickable","onClick"]),u(b,S({ref_for:!0},h,{onOnDrop:t[0]||(t[0]=e=>O("onDrop",e)),parentItem:n}),null,16,["parentItem"])],12,na)))),128))],10,ta)}}});Un("\n.tree__branch {\n&.drop-area {\n    min-height: var(--theme--form--field--input--height);\n    padding: 0.5rem;\n    padding-right: 0;\n    border: var(--theme--border-width) dashed var(--theme--form--field--input--border-color);\n    border-radius: var(--theme--border-radius);\n}\n& .tree__item {\n    position: relative;\n& > li {\n      gap: var(--content-padding);\n}\n& li + .tree__branch {\n      margin-left: var(--tree__layout--indentation);\n}\n& .drag-handle {\n      cursor: grab;\n}\n\n    /* EXPAND BUTTON */\n& .button-expand {\n& > .v-icon {\n        transition: var(--fast) var(--transition);\n}\n&:disabled {\n        color: var(--theme--foreground-subdued);\n        cursor: not-allowed;\n}\n}\n&[data-is-expanded='true'] > li > .button-expand > .v-icon {\n      transform: rotate(90deg);\n}\n&[data-is-leaf='true'] .button-expand {\n      display: none;\n}\n\n    /* LABELS */\n& .labels {\n      flex-grow: 1;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      gap: var(--content-padding);\n      min-width: 150px;\n& > .wrapper {\n        min-width: 100px;\n}\n& .label-secondary {\n        font-size: 0.8rem;\n        color: var(--theme--foreground-subdued);\n}\n& .debug-label {\n        font-size: 0.8rem;\n        display: flex;\n        flex-direction: column;\n        word-break: break-all;\n}\n& > .status-indicator {\n        min-width: 24px;\n        text-overflow: clip;\n}\n}\n\n    /* HIGHLIGHT INVALID LEVELS */\n&[data-is-leaf='true'] .tree__item > li {\n&,\n      &:hover {\n        border-color: var(--danger);\n        color: var(--danger);\n}\n}\n\n    /* HANDLE BRANCH EXPANSION */\n&[data-is-expanded='false'] > .tree__branch {\n      display: none;\n}\n&[data-has-children='true'][data-is-leaf='true'] > .tree__branch {\n      display: flex;\n}\n}\n}\n.tree__layout {\n&[data-edit-mode='false'] {\n.drag-handle {\n      display: none;\n}\n}\n&[data-edit-mode='true'] {\n.selection-checkbox {\n      display: none;\n}\n}\n}\n",{});var da=Sn(ua,[["__file","TreeBranch.vue"]]);const fa=["data-edit-mode"],pa={key:0};var ha=e({inheritAttrs:!1,__name:"layout",props:{dataLength:{},debug:{type:Boolean},defCollectionName:{},defPrimKeyName:{},getItem:{type:Function},groups:{},handleDrop:{type:Function},indentation:{},isInEditMode:{type:Boolean},labelPrimary:{},labelSecondary:{},processingMessage:{},selection:{},selectItem:{type:Function},showSelect:{},statusIndicator:{},userNotice:{}},setup(e){const c=e,{isInEditMode:h}=g(c),m=_([0]),y=t((()=>[...c.groups].slice(1).map((([e,t])=>t)))),b=t((()=>y.value.map((({value:e})=>c.getItem(e)))));return(e,t)=>{const _=n("VDivider"),g=n("VTab"),w=n("VTabs"),k=n("VTabItem"),E=n("VTabsItems");return i(),d(f,null,[null!==e.userNotice?(i(),r(Gn,{key:0,message:e.userNotice},null,8,["message"])):p("v-if",!0),null!==e.userNotice&&"danger"===e.userNotice.type||!e.dataLength?p("v-if",!0):(i(),d("div",{key:1,class:"tree__layout","data-edit-mode":s(h)},[(i(!0),d(f,null,x([e.getItem("ungrouped")],(t=>C((i(),d("div",{key:t.group},[u(_,{class:"ungrouped-header divider"},{default:a((()=>[o("Ungrouped")])),_:1}),u(da,S({ref_for:!0},c,{parentItem:t,onOnDrop:e.handleDrop,style:{"--tree__layout--indentation":e.indentation+"rem"}}),null,16,["parentItem","onOnDrop","style"])])),[[T,t.rels_children.length||s(h)]]))),128)),e.groups.size>1?(i(),d("div",pa,[u(w,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=e=>m.value=e)},{default:a((()=>[(i(!0),d(f,null,x(y.value,(({text:e,value:t,_has_dirty:n})=>(i(),r(g,{key:t,"data-is-dirty":n},{default:a((()=>[o(l(e),1)])),_:2},1032,["data-is-dirty"])))),128))])),_:1},8,["modelValue"]),u(_,{class:"divider"}),u(E,{"model-value":m.value},{default:a((()=>[(i(!0),d(f,null,x(b.value,(t=>(i(),r(k,{key:t.group},{default:a((()=>[C(v("div",null,"No items",512),[[T,0===t.rels_children.length&&!s(h)]]),u(da,S({ref_for:!0},c,{parentItem:t,onOnDrop:e.handleDrop,style:{"--tree__layout--indentation":e.indentation+"rem"}}),null,16,["parentItem","onOnDrop","style"])])),_:2},1024)))),128))])),_:1},8,["model-value"])])):p("v-if",!0)],8,fa))],64)}}});Un("\n.tree__layout {\n  padding: var(--content-padding);\n&,\n  & .tree__branch,\n  & .tree__item {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n}\n& .divider {\n    margin-bottom: var(--content-padding);\n}\n&[data-edit-mode='false'] {\n& .ungrouped-header {\n      display: none;\n}\n}\n}\n\n/* INDICATOR */\n.tree__layout {\n& .v-tab {\n    position: relative;\n}\n& .v-tab,\n  & .tree__item {\n&[data-is-dirty]:after {\n      content: '';\n      width: 0.5rem;\n      height: 0.5rem;\n      background-color: var(--danger);\n      border-radius: 50%;\n      position: absolute;\n      top: 0.5rem;\n      right: 0.5rem;\n}\n&[data-is-dirty='false']:after {\n      display: none;\n}\n}\n\n  /* BUBBLING */\n& .v-tab[data-is-dirty='true'],\n  & .tree__item[data-is-dirty='false'][data-is-expanded='false']:has(.tree__item[data-is-dirty='true']) {\n&:after {\n      display: block;\n      background-color: var(--warning);\n}\n}\n}\n",{});var _a=Sn(ha,[["__file","layout.vue"]]);const ma={class:"tree__options field"},va={class:"field"},ga=v("div",{class:"type-label"},"Primary Label",-1),ya={class:"field"},ba=v("div",{class:"type-label"},"Secondary Label",-1),wa={class:"field"},xa=v("div",{class:"type-label"},"Status Indicator",-1),ka={class:"field"},Ea=v("div",{class:"type-label"},"Indentation",-1),Sa={class:"field collapsed"},Ca=v("div",{class:"type-label"},"Collapsed items",-1),Ta={class:"wrapper"},ja={class:"field"},Na=v("div",{class:"type-label"},"Related collection*",-1),$a=v("div",{style:{margin:"auto"}},"or",-1),Oa={class:"field"},Ia=v("div",{class:"type-label"},"Collection name*",-1),Aa={class:"field"},Ra=v("div",{class:"type-label"},"Connector name*",-1),Da={class:"field"},Pa=v("div",{class:"type-label"},"Field to slugify*",-1),Ma={class:"field"};var Za=e({__name:"options",props:{allCollections:{},defCollectionName:{},fieldsInCollection:{},handleCreateModel:{type:Function},handleSaveCollapsed:{type:Function},userIsAdmin:{type:Boolean},collapsed:{},debug:{type:Boolean},defConnectorName:{},slugifyFieldName:{},indentation:{},labelPrimary:{},labelSecondary:{},metaCollectionName:{},statusIndicator:{}},emits:["update:debug","update:slugifyFieldName","update:indentation","update:labelPrimary","update:labelSecondary","update:statusIndicator","update:metaCollectionName","update:collapsed"],setup(e,{emit:r}){const l=e,{fieldsInCollection:c,defCollectionName:h,allCollections:m}=g(l),y=_([0]),b=r,w=$(l,"indentation",b),x=$(l,"labelPrimary",b),k=$(l,"labelSecondary",b),E=$(l,"statusIndicator",b),S=$(l,"collapsed",b),N=t((()=>c.value.filter((e=>{var t,n;return Boolean(null==(n=null==(t=null==e?void 0:e.meta)?void 0:t.display_options)?void 0:n.showAsDot)})))),O=$(l,"debug",b),I=$(l,"slugifyFieldName",b),A=$(l,"metaCollectionName",b),R=t((()=>m.value.filter((e=>e.collection!==h.value)))),D=_(h.value+"_meta"),P=_("meta");return(e,t)=>{const r=n("VTab"),l=n("VTabs"),_=n("v-collection-field-template"),m=n("VSelect"),g=n("VInput"),b=n("VButton"),$=n("VTabItem"),M=n("VCheckbox"),Z=n("VTabsItems");return i(),d("div",ma,[u(l,{modelValue:y.value,"onUpdate:modelValue":t[0]||(t[0]=e=>y.value=e),style:{width:"100%"}},{default:a((()=>[u(r,null,{default:a((()=>[o("View")])),_:1}),u(r,{disabled:!e.userIsAdmin},{default:a((()=>[o("Configuration")])),_:1},8,["disabled"])])),_:1},8,["modelValue"]),u(Z,{"model-value":y.value},{default:a((()=>[u($,null,{default:a((()=>[v("div",va,[ga,u(_,{modelValue:s(x),"onUpdate:modelValue":t[1]||(t[1]=e=>j(x)?x.value=e:null),collection:s(h)},null,8,["modelValue","collection"])]),v("div",ya,[ba,u(_,{modelValue:s(k),"onUpdate:modelValue":t[2]||(t[2]=e=>j(k)?k.value=e:null),collection:s(h)},null,8,["modelValue","collection"])]),v("div",wa,[xa,u(m,{modelValue:s(E),"onUpdate:modelValue":t[3]||(t[3]=e=>j(E)?E.value=e:null),"item-value":"field","item-text":"name",items:N.value,showDeselect:!0},null,8,["modelValue","items"])]),v("div",ka,[Ea,u(g,{modelValue:s(w),"onUpdate:modelValue":t[4]||(t[4]=e=>j(w)?w.value=e:null),type:"number",step:.5,max:5,min:.5},null,8,["modelValue"])]),v("div",Sa,[Ca,v("div",Ta,[u(b,{onClick:e.handleSaveCollapsed,fullWidth:!0},{default:a((()=>[o("Rember")])),_:1},8,["onClick"]),C(u(b,{onClick:t[5]||(t[5]=e=>S.value=[]),fullWidth:!0},{default:a((()=>[o("Clear")])),_:1},512),[[T,e.collapsed.length>0]])])])])),_:1}),u($,null,{default:a((()=>[v("div",ja,[Na,u(m,{modelValue:s(A),"onUpdate:modelValue":t[6]||(t[6]=e=>j(A)?A.value=e:null),"item-value":"collection","item-text":"name",items:R.value,showDeselect:!0},null,8,["modelValue","items"])]),Boolean(s(A))?p("v-if",!0):(i(),d(f,{key:0},[$a,v("div",Oa,[Ia,u(g,{modelValue:D.value,"onUpdate:modelValue":t[7]||(t[7]=e=>D.value=e),dbSafe:!0},null,8,["modelValue"])]),v("div",Aa,[Ra,u(g,{modelValue:P.value,"onUpdate:modelValue":t[8]||(t[8]=e=>P.value=e),dbSafe:!0},null,8,["modelValue"])]),u(b,{onClick:t[9]||(t[9]=t=>e.handleCreateModel(D.value,P.value)),fullWidth:!0},{default:a((()=>[o(" Create ")])),_:1})],64)),v("div",Da,[Pa,u(m,{modelValue:s(I),"onUpdate:modelValue":t[10]||(t[10]=e=>j(I)?I.value=e:null),"item-value":"field","item-text":"name",items:s(c),showDeselect:!0},null,8,["modelValue","items"])]),v("div",Ma,[u(M,{modelValue:s(O),"onUpdate:modelValue":t[11]||(t[11]=e=>j(O)?O.value=e:null)},{default:a((()=>[o("Debug Mode")])),_:1},8,["modelValue"])])])),_:1})])),_:1},8,["model-value"])])}}});Un("\n.tree__options {\n& .v-tabs {\n    padding-bottom: var(--theme--form--row-gap);\n}\n& .v-tab-item,\n  .wrapper {\n    display: flex;\n    flex-direction: column;\n    gap: var(--theme--form--row-gap);\n}\n}\n",{});var La=O({id:"dcb-tree-view",name:"Tree view",icon:"view_agenda",component:_a,slots:{options:Sn(Za,[["__file","options.vue"]]),sidebar:()=>null,actions:Bn},setup(e,{emit:n}){const{collection:i,selection:r,showSelect:a,selectMode:o,search:l}=g(e),s=I(),{useUserStore:c,useRelationsStore:u,usePermissionsStore:d,useFieldsStore:f,useCollectionsStore:p}=A(),h=c(),m=d(),v=u(),y=f(),b=p(),{allCollections:w}=b,{primaryKeyField:x,fields:k}=R(i),E=t((()=>{var e;return null==(e=x.value)?void 0:e.field})),S=_(!1),C=_(!1),T=$(e,"layoutOptions",n),{collapsed:j,debug:N,slugifyFieldName:O,indentation:M,labelPrimary:Z,labelSecondary:L,metaCollectionName:F,statusIndicator:z}=function(){const e=c("collapsed",[]),n=c("debug",!1),i=c("slugifyFieldName",void 0),r=c("indentation",2.5),a=c("labelPrimary",void 0),o=c("labelSecondary",void 0),l=c("metaCollectionName",null),s=c("statusIndicator",void 0);return{collapsed:e,debug:n,slugifyFieldName:i,indentation:r,labelPrimary:a,labelSecondary:o,metaCollectionName:l,statusIndicator:s};function c(e,n){return t({get(){var t;return void 0!==(null==(t=T.value)?void 0:t[e])?T.value[e]:n},set(t){T.value={...T.value,[e]:t}}})}}(),{isCreatingModel:U,mandatoryFields:B,validateFields:V,createModel:q}=Xn(s),W=t((()=>Boolean(h.isAdmin))),K=t((()=>W.value||pe("read"))),Y=t((()=>W.value||pe("update"))),X=t((()=>Boolean(F.value&&O.value))),H=t((()=>{let e=!1;try{if(X.value){const t=y.getFieldsForCollection(F.value);V({defCollectionName:i.value,defPrimKeyType:x.value.type,foreignFields:t,metaCollectionName:F.value}),e=!0}}catch(e){console.error(e)}finally{return e}})),G=t((()=>H.value?y.getField(F.value,"group"):null)),J=t((()=>H.value?v.getRelationForField(F.value,"rel_item").meta.one_field:null)),{items:Q,getItems:ee,loading:te}=D(F,{fields:t((()=>{let e=new Set;[Z.value,L.value].forEach((t=>{t&&(e=new Set([...e,...P(t)]))})),[z.value,O.value,E.value].forEach((t=>{t&&e.add(t)}));return["*",...[...e].map((e=>"rel_item."+e))]})),limit:_(-1),page:_(0),sort:t((()=>["group","level","sort"])),filter:t((()=>null)),search:t((()=>null))}),{data:ne,dataLength:ie,dirtyItems:re,getItem:ae,groups:oe,handleDrop:le,hasInvalidItems:se}=Vn({metaGroupField:G,defPrimKeyName:E,slugifyFieldName:O,items:Q,listOfCollapsed:j}),ce=t((()=>K.value?X.value?H.value?se.value?{type:"warning",title:"Invalid level depth",text:"Please move highlighted items up. Until then changes cannot be saved."}:ie.value?l.value?{type:"warning",title:"Feature not supported",text:"Search and Filter are not supported by this layout, hence has no effect."}:null:{type:"info",title:"Nothing to show yet",text:`The collection [${F.value}] seems not to have any items yet.`}:{type:"danger",title:"Invalid collection structure",text:"Some collection fields have unexpected schema. For more details, see console."}:{type:"danger",title:"Incomplete configuration",text:"Go to [Layout Options > Configuration] and ensure all required fields are set."}:{type:"danger",title:"Limited permission",text:`You need permission to read all mandatory fields from [${F.value}] collection. To fix this, contact your administrator.`})),ue=t((()=>U.value?"Creating model":te.value?"Loading items":C.value?"Saving":null));return{allCollections:w,collapsed:j,data:ne,dataLength:ie,debug:N,defCollectionName:i,defConnectorName:J,defPrimKeyName:E,dirtyItems:re,fieldsInCollection:k,getItem:ae,groups:oe,handleCreateModel:async function(e,t){if(!i.value||!x.value)return;try{await q({defCollectionName:i.value,defPrimKeyField:x.value,defConnectorName:t,metaCollectionName:e}),await Promise.all([b.hydrate(),y.hydrate(),v.hydrate()]),F.value=e}catch(e){console.error(e)}},handleDrop:le,handleSaveChanges:async function(){if(!E.value)return;try{C.value=!0;const e=[...re.value].map((([e,t])=>{const n=ae(e);if(!n)throw new Error(`handleSaveChanges: Invalid ID [${e}] received during iteration`);const i={[E.value]:e};return n._changes.forEach(((e,t)=>i[t]=e)),i}));await de(e)}catch(e){console.error(e)}finally{C.value=!1}},handleSaveCollapsed:function(){const e=[];ne.forEach((({_is_expanded:t,id:n,rels_children:i},r)=>{n&&!t&&i.length&&e.push(r)})),j.value=e},hasInvalidItems:se,hasValidMetaFields:H,hasValidOptions:X,indentation:M,isInEditMode:S,isSaving:C,labelPrimary:Z,labelSecondary:L,metaCollectionName:F,processingMessage:ue,refresh:fe,selection:r,selectItem:function(e){if("one"===a.value)return void n("update:selection",[e]);const t=r.value.indexOf(e);t>=0?r.value.splice(t,1):r.value.push(e)},selectMode:o,showSelect:a,slugifyFieldName:O,statusIndicator:z,toggleEditMode:function(){S.value=!S.value},updateDb:de,userCanRead:K,userCanUpdate:Y,userIsAdmin:W,userNotice:ce};async function de(e){if(F.value){try{await s.request(((e,t,n)=>()=>(Pn(String(e),"Collection cannot be empty"),Mn(e,"Cannot use updateItems for core collections"),{path:`/items/${e}`,params:n??{},body:JSON.stringify(t),method:"PATCH"}))(F.value,e))}catch(e){console.error("updateDb:",e)}fe()}}function fe(){S.value=!1,ee()}function pe(e){var t;const n=B.value,i=new Set((null==(t=m.getPermission(F.value,e))?void 0:t.fields)||[]);if(i.has("*"))return!0;for(const e of n)if(!i.has(e))return!1;return!0}}});const Fa=[Cn],za=[],Ua=[La],Ba=[],Va=[],qa=[],Wa=[];export{za as displays,Fa as interfaces,Ua as layouts,Ba as modules,Wa as operations,Va as panels,qa as themes};
